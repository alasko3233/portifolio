var qi=Object.defineProperty;var Xi=(t,e,i)=>e in t?qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Vn=(t,e,i)=>(Xi(t,typeof e!="symbol"?e+"":e,i),i),Fr=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var o=(t,e,i)=>(Fr(t,e,"read from private field"),i?i.call(t):e.get(t)),Lt=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Zt=(t,e,i,n)=>(Fr(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);var lr=(t,e,i,n)=>({set _(s){Zt(t,e,s,i)},get _(){return o(t,e,n)}}),zt=(t,e,i)=>(Fr(t,e,"access private method"),i);import{R as React,r as reactExports,g as getDefaultExportFromCjs,b as require$$5,c as commonjsGlobal,j as jsxRuntimeExports,a as ae$1}from"./app-PAiKjMRq.js";import{A as Authenticated}from"./AuthenticatedLayout-PO5lHyP7.js";import"./ApplicationLogo-y6-Q8Psy.js";import"./transition-AzQgLNjU.js";import"./use-is-mounted-ckcm3oFg.js";function _mergeNamespaces(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const p=Object.getOwnPropertyDescriptor(n,s);p&&Object.defineProperty(t,s,p.get?p:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var __assign$f=function(){return __assign$f=Object.assign||function(e){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(e[p]=i[p])}return e},__assign$f.apply(this,arguments)};function __spreadArray$2(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,p;n<s;n++)(p||!(n in e))&&(p||(p=Array.prototype.slice.call(e,0,n)),p[n]=e[n]);return t.concat(p||Array.prototype.slice.call(e))}var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(t,e){return charat(t,0)^45?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,i){return t.replace(e,i)}function indexof(t,e,i){return t.indexOf(e,i)}function charat(t,e){return t.charCodeAt(e)|0}function substr(t,e,i){return t.slice(e,i)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}function filter(t,e){return t.filter(function(i){return!match(i,e)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(t,e,i,n,s,p,$e,Tt){return{value:t,root:e,parent:i,type:n,props:s,children:p,line,column,length:$e,return:"",siblings:Tt}}function copy(t,e){return assign(node("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function lift(t){for(;t.root;)t=copy(t.root,{children:[t]});append(t,t.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(t,e){return substr(characters,t,e)}function token(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line=column=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim(slice(position-1,delimiter(t===91?t+2:t===40?t+1:t)))}function whitespace(t){for(;(character=peek())&&character<33;)next();return token(t)>2||token(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(t,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:t!==34&&t!==39&&delimiter(character);break;case 40:t===41&&delimiter(t);break;case 92:next();break}return position}function commenter(t,e){for(;next()&&t+character!==57;)if(t+character===84&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(t===47?t:next())}function identifier(t){for(;!token(peek());)next();return slice(t,position)}function compile(t){return dealloc(parse("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse(t,e,i,n,s,p,$e,Tt,P){for(var N=0,E=0,St=$e,wt=0,bt=0,mt=0,ft=1,et=1,dt=1,At=0,Et="",_t=s,b=p,pe=n,yt=Et;et;)switch(mt=At,At=next()){case 40:if(mt!=108&&charat(yt,St-1)==58){indexof(yt+=replace(delimit(At),"&","&\f"),"&\f",abs(N?Tt[N-1]:0))!=-1&&(dt=-1);break}case 34:case 39:case 91:yt+=delimit(At);break;case 9:case 10:case 13:case 32:yt+=whitespace(mt);break;case 92:yt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,i,P),P);break;default:yt+="/"}break;case 123*ft:Tt[N++]=strlen(yt)*dt;case 125*ft:case 59:case 0:switch(At){case 0:case 125:et=0;case 59+E:dt==-1&&(yt=replace(yt,/\f/g,"")),bt>0&&strlen(yt)-St&&append(bt>32?declaration(yt+";",n,i,St-1,P):declaration(replace(yt," ","")+";",n,i,St-2,P),P);break;case 59:yt+=";";default:if(append(pe=ruleset(yt,e,i,N,E,s,Tt,Et,_t=[],b=[],St,p),p),At===123)if(E===0)parse(yt,e,pe,pe,_t,p,St,Tt,b);else switch(wt===99&&charat(yt,3)===110?100:wt){case 100:case 108:case 109:case 115:parse(t,pe,pe,n&&append(ruleset(t,pe,pe,0,0,s,Tt,Et,s,_t=[],St,b),b),s,b,St,Tt,n?_t:b);break;default:parse(yt,pe,pe,pe,[""],b,0,Tt,b)}}N=E=bt=0,ft=dt=1,Et=yt="",St=$e;break;case 58:St=1+strlen(yt),bt=mt;default:if(ft<1){if(At==123)--ft;else if(At==125&&ft++==0&&prev()==125)continue}switch(yt+=from(At),At*ft){case 38:dt=E>0?1:(yt+="\f",-1);break;case 44:Tt[N++]=(strlen(yt)-1)*dt,dt=1;break;case 64:peek()===45&&(yt+=delimit(next())),wt=peek(),E=St=strlen(Et=yt+=identifier(caret())),At++;break;case 45:mt===45&&strlen(yt)==2&&(ft=0)}}return p}function ruleset(t,e,i,n,s,p,$e,Tt,P,N,E,St){for(var wt=s-1,bt=s===0?p:[""],mt=sizeof(bt),ft=0,et=0,dt=0;ft<n;++ft)for(var At=0,Et=substr(t,wt+1,wt=abs(et=$e[ft])),_t=t;At<mt;++At)(_t=trim(et>0?bt[At]+" "+Et:replace(Et,/&\f/g,bt[At])))&&(P[dt++]=_t);return node(t,e,i,s===0?RULESET:Tt,P,N,E,St)}function comment(t,e,i,n){return node(t,e,i,COMMENT,from(char()),substr(t,2,-2),0,n)}function declaration(t,e,i,n,s){return node(t,e,i,DECLARATION,substr(t,0,n),substr(t,n+1,-1),n,s)}function prefix$1(t,e,i){switch(hash(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 4789:return MOZ+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/g,"")+(match(t,/flex-|baseline/)?"":MS+"grid-row-"+replace(t,/flex-|-self/g,""))+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/g,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4200:if(!match(t,/flex-|baseline/))return MS+"grid-column-align"+substr(t,e)+t;break;case 2592:case 3360:return MS+replace(t,"template-","")+t;case 4384:case 3616:return i&&i.some(function(n,s){return e=s,match(n.props,/grid-\w+-end/)})?~indexof(t+(i=i[e].value),"span",0)?t:MS+replace(t,"-start","")+t+MS+"grid-row-span:"+(~indexof(i,"span",0)?match(i,/\d+/):+match(i,/\d+/)-+match(t,/\d+/))+";":MS+replace(t,"-start","")+t;case 4896:case 4128:return i&&i.some(function(n){return match(n.props,/grid-\w+-start/)})?t:MS+replace(replace(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(charat(t,e+4)!==45)break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch",0)?prefix$1(replace(t,"stretch","fill-available"),e,i)+t:t}break;case 5152:case 5920:return replace(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,p,$e,Tt,P,N){return MS+s+":"+p+N+($e?MS+s+"-span:"+(Tt?P:+P-+p)+N:"")+t});case 4949:if(charat(t,e+6)===121)return replace(t,":",":"+WEBKIT)+t;break;case 6444:switch(charat(t,charat(t,14)===45?18:11)){case 120:return replace(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(t,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t;case 100:return replace(t,":",":"+MS)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(t,"scroll-","scroll-snap-")+t}return t}function serialize(t,e){for(var i="",n=0;n<t.length;n++)i+=e(t[n],n,t,e)||"";return i}function stringify(t,e,i,n){switch(t.type){case LAYER:if(t.children.length)break;case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,n)+"}";case RULESET:if(!strlen(t.value=t.props.join(",")))return""}return strlen(i=serialize(t.children,n))?t.return=t.value+"{"+i+"}":""}function middleware(t){var e=sizeof(t);return function(i,n,s,p){for(var $e="",Tt=0;Tt<e;Tt++)$e+=t[Tt](i,n,s,p)||"";return $e}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}function prefixer(t,e,i,n){if(t.length>-1&&!t.return)switch(t.type){case DECLARATION:t.return=prefix$1(t.value,t.length,i);return;case KEYFRAMES:return serialize([copy(t,{value:replace(t.value,"@","@"+WEBKIT)})],n);case RULESET:if(t.length)return combine(i=t.props,function(s){switch(match(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(t,{props:[replace(s,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(t,{props:[s]})),assign(t,{props:filter(i,n)});break;case"::placeholder":lift(copy(t,{props:[replace(s,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(t,{props:[replace(s,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(t,{props:[replace(s,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(t,{props:[s]})),assign(t,{props:filter(i,n)});break}return""})}}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default={},f=typeof process<"u"&&define_process_env_default!==void 0&&(define_process_env_default.REACT_APP_SC_ATTR||define_process_env_default.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v="6.1.8",g=`/*!sc*/
`,S=typeof window<"u"&&"HTMLElement"in window,w=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==""&&define_process_env_default.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.SC_DISABLE_SPEEDY),_=Object.freeze([]),C=Object.freeze({});function I(t,e,i){return i===void 0&&(i=C),t.theme!==i.theme&&t.theme||e||i.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(t){return t.replace(O,"-").replace(D,"")}var T=/(a)(d)/gi,k=52,j=function(t){return String.fromCharCode(t+(t>25?39:97))};function x(t){var e,i="";for(e=Math.abs(t);e>k;e=e/k|0)i=j(e%k)+i;return(j(e%k)+i).replace(T,"$1-$2")}var V,F=5381,M=function(t,e){for(var i=e.length;i;)t=33*t^e.charCodeAt(--i);return t},$=function(t){return M(F,t)};function z(t){return x($(t)>>>0)}function B(t){return t.displayName||t.name||"Component"}function L(t){return typeof t=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(t){return("type"in(e=t)&&e.type.$$typeof)===Y?U:"$$typeof"in t?J[t.$$typeof]:q;var e}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(t,e,i){if(typeof e!="string"){if(ne){var n=te(e);n&&n!==ne&&oe(t,n,i)}var s=K(e);Q&&(s=s.concat(Q(e)));for(var p=X(t),$e=X(e),Tt=0;Tt<s.length;++Tt){var P=s[Tt];if(!(P in H||i&&i[P]||$e&&P in $e||p&&P in p)){var N=ee(e,P);try{Z(t,P,N)}catch{}}}}return t}function re(t){return typeof t=="function"}function se(t){return typeof t=="object"&&"styledComponentId"in t}function ie(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function ae(t,e){if(t.length===0)return"";for(var i=t[0],n=1;n<t.length;n++)i+=e?e+t[n]:t[n];return i}function ce(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function le(t,e,i){if(i===void 0&&(i=!1),!i&&!ce(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=le(t[n],e[n]);else if(ce(e))for(var n in e)t[n]=le(t[n],e[n]);return t}function ue(t,e){Object.defineProperty(t,"toString",{value:e})}function he(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var i=0,n=0;n<e;n++)i+=this.groupSizes[n];return i},t.prototype.insertRules=function(e,i){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,p=s;e>=p;)if((p<<=1)<0)throw he(16,"".concat(e));this.groupSizes=new Uint32Array(p),this.groupSizes.set(n),this.length=p;for(var $e=s;$e<p;$e++)this.groupSizes[$e]=0}for(var Tt=this.indexOfGroup(e+1),P=($e=0,i.length);$e<P;$e++)this.tag.insertRule(Tt,i[$e])&&(this.groupSizes[e]++,Tt++)},t.prototype.clearGroup=function(e){if(e<this.length){var i=this.groupSizes[e],n=this.indexOfGroup(e),s=n+i;this.groupSizes[e]=0;for(var p=n;p<s;p++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var i="";if(e>=this.length||this.groupSizes[e]===0)return i;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),p=s+n,$e=s;$e<p;$e++)i+="".concat(this.tag.getRule($e)).concat(g);return i},t}(),me=new Map,ye=new Map,ve=1,ge=function(t){if(me.has(t))return me.get(t);for(;ye.has(ve);)ve++;var e=ve++;return me.set(t,e),ye.set(e,t),e},Se=function(t,e){ve=e+1,me.set(t,e),ye.set(e,t)},we="style[".concat(f,"][").concat(y,'="').concat(v,'"]'),be=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ee=function(t,e,i){for(var n,s=i.split(","),p=0,$e=s.length;p<$e;p++)(n=s[p])&&t.registerName(e,n)},Ne=function(t,e){for(var i,n=((i=e.textContent)!==null&&i!==void 0?i:"").split(g),s=[],p=0,$e=n.length;p<$e;p++){var Tt=n[p].trim();if(Tt){var P=Tt.match(be);if(P){var N=0|parseInt(P[1],10),E=P[2];N!==0&&(Se(E,N),Ee(t,E,P[3]),t.getTag().insertRules(N,s)),s.length=0}else s.push(Tt)}}};function Pe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _e=function(t){var e=document.head,i=t||e,n=document.createElement("style"),s=function(Tt){var P=Array.from(Tt.querySelectorAll("style[".concat(f,"]")));return P[P.length-1]}(i),p=s!==void 0?s.nextSibling:null;n.setAttribute(f,m),n.setAttribute(y,v);var $e=Pe();return $e&&n.setAttribute("nonce",$e),i.insertBefore(n,p),n},Ce=function(){function t(e){this.element=_e(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var n=document.styleSheets,s=0,p=n.length;s<p;s++){var $e=n[s];if($e.ownerNode===i)return $e}throw he(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,i){try{return this.sheet.insertRule(i,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var i=this.sheet.cssRules[e];return i&&i.cssText?i.cssText:""},t}(),Ie=function(){function t(e){this.element=_e(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,i){if(e<=this.length&&e>=0){var n=document.createTextNode(i);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Ae=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,i){return e<=this.length&&(this.rules.splice(e,0,i),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Oe=S,De={isServer:!S,useCSSOMInjection:!w},Re=function(){function t(e,i,n){e===void 0&&(e=C),i===void 0&&(i={});var s=this;this.options=__assign$f(__assign$f({},De),e),this.gs=i,this.names=new Map(n),this.server=!!e.isServer,!this.server&&S&&Oe&&(Oe=!1,function(p){for(var $e=document.querySelectorAll(we),Tt=0,P=$e.length;Tt<P;Tt++){var N=$e[Tt];N&&N.getAttribute(f)!==m&&(Ne(p,N),N.parentNode&&N.parentNode.removeChild(N))}}(this)),ue(this,function(){return function(p){for(var $e=p.getTag(),Tt=$e.length,P="",N=function(St){var wt=function(dt){return ye.get(dt)}(St);if(wt===void 0)return"continue";var bt=p.names.get(wt),mt=$e.getGroup(St);if(bt===void 0||mt.length===0)return"continue";var ft="".concat(f,".g").concat(St,'[id="').concat(wt,'"]'),et="";bt!==void 0&&bt.forEach(function(dt){dt.length>0&&(et+="".concat(dt,","))}),P+="".concat(mt).concat(ft,'{content:"').concat(et,'"}').concat(g)},E=0;E<Tt;E++)N(E);return P}(s)})}return t.registerId=function(e){return ge(e)},t.prototype.reconstructWithOptions=function(e,i){return i===void 0&&(i=!0),new t(__assign$f(__assign$f({},this.options),e),this.gs,i&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(i){var n=i.useCSSOMInjection,s=i.target;return i.isServer?new Ae(s):n?new Ce(s):new Ie(s)}(this.options),new fe(e)));var e},t.prototype.hasNameForId=function(e,i){return this.names.has(e)&&this.names.get(e).has(i)},t.prototype.registerName=function(e,i){if(ge(e),this.names.has(e))this.names.get(e).add(i);else{var n=new Set;n.add(i),this.names.set(e,n)}},t.prototype.insertRules=function(e,i,n){this.registerName(e,i),this.getTag().insertRules(ge(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(ge(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Te=/&/g,ke=/^\s*\/\/.*$/gm;function je(t,e){return t.map(function(i){return i.type==="rule"&&(i.value="".concat(e," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(e," ")),i.props=i.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=je(i.children,e)),i})}function xe(t){var e,i,n,s=t===void 0?C:t,p=s.options,$e=p===void 0?C:p,Tt=s.plugins,P=Tt===void 0?_:Tt,N=function(wt,bt,mt){return mt.startsWith(i)&&mt.endsWith(i)&&mt.replaceAll(i,"").length>0?".".concat(e):wt},E=P.slice();E.push(function(wt){wt.type===RULESET&&wt.value.includes("&")&&(wt.props[0]=wt.props[0].replace(Te,i).replace(n,N))}),$e.prefix&&E.push(prefixer),E.push(stringify);var St=function(wt,bt,mt,ft){bt===void 0&&(bt=""),mt===void 0&&(mt=""),ft===void 0&&(ft="&"),e=ft,i=bt,n=new RegExp("\\".concat(i,"\\b"),"g");var et=wt.replace(ke,""),dt=compile(mt||bt?"".concat(mt," ").concat(bt," { ").concat(et," }"):et);$e.namespace&&(dt=je(dt,$e.namespace));var At=[];return serialize(dt,middleware(E.concat(rulesheet(function(Et){return At.push(Et)})))),At};return St.hash=P.length?P.reduce(function(wt,bt){return bt.name||he(15),M(wt,bt.name)},F).toString():"",St}var Ve=new Re,Fe=xe(),Me=React.createContext({shouldForwardProp:void 0,styleSheet:Ve,stylis:Fe});Me.Consumer;React.createContext(void 0);function Be(){return reactExports.useContext(Me)}var Ge=function(){function t(e,i){var n=this;this.inject=function(s,p){p===void 0&&(p=Fe);var $e=n.name+p.hash;s.hasNameForId(n.id,$e)||s.insertRules(n.id,$e,p(n.rules,$e,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=i,ue(this,function(){throw he(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Fe),this.name+e.hash},t}(),Ye=function(t){return t>="A"&&t<="Z"};function We(t){for(var e="",i=0;i<t.length;i++){var n=t[i];if(i===1&&n==="-"&&t[0]==="-")return t;Ye(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var qe=function(t){return t==null||t===!1||t===""},He=function(t){var e,i,n=[];for(var s in t){var p=t[s];t.hasOwnProperty(s)&&!qe(p)&&(Array.isArray(p)&&p.isCss||re(p)?n.push("".concat(We(s),":"),p,";"):ce(p)?n.push.apply(n,__spreadArray$2(__spreadArray$2(["".concat(s," {")],He(p),!1),["}"],!1)):n.push("".concat(We(s),": ").concat((e=s,(i=p)==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||e in unitlessKeys||e.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return n};function Ue(t,e,i,n){if(qe(t))return[];if(se(t))return[".".concat(t.styledComponentId)];if(re(t)){if(!re(p=t)||p.prototype&&p.prototype.isReactComponent||!e)return[t];var s=t(e);return Ue(s,e,i,n)}var p;return t instanceof Ge?i?(t.inject(i,n),[t.getName(n)]):[t]:ce(t)?He(t):Array.isArray(t)?Array.prototype.concat.apply(_,t.map(function($e){return Ue($e,e,i,n)})):[t.toString()]}function Je(t){for(var e=0;e<t.length;e+=1){var i=t[e];if(re(i)&&!se(i))return!1}return!0}var Xe=$(v),Ze=function(){function t(e,i,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Je(e),this.componentId=i,this.baseHash=M(Xe,i),this.baseStyle=n,Re.registerId(i)}return t.prototype.generateAndInjectStyles=function(e,i,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,i,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))s=ie(s,this.staticRulesId);else{var p=ae(Ue(this.rules,e,i,n)),$e=x(M(this.baseHash,p)>>>0);if(!i.hasNameForId(this.componentId,$e)){var Tt=n(p,".".concat($e),void 0,this.componentId);i.insertRules(this.componentId,$e,Tt)}s=ie(s,$e),this.staticRulesId=$e}else{for(var P=M(this.baseHash,n.hash),N="",E=0;E<this.rules.length;E++){var St=this.rules[E];if(typeof St=="string")N+=St;else if(St){var wt=ae(Ue(St,e,i,n));P=M(P,wt+E),N+=wt}}if(N){var bt=x(P>>>0);i.hasNameForId(this.componentId,bt)||i.insertRules(this.componentId,bt,n(N,".".concat(bt),void 0,this.componentId)),s=ie(s,bt)}}return s},t}(),Ke=React.createContext(void 0);Ke.Consumer;function tt(t){var e=React.useContext(Ke),i=reactExports.useMemo(function(){return function(n,s){if(!n)throw he(14);if(re(n)){var p=n(s);return p}if(Array.isArray(n)||typeof n!="object")throw he(8);return s?__assign$f(__assign$f({},s),n):n}(t.theme,e)},[t.theme,e]);return t.children?React.createElement(Ke.Provider,{value:i},t.children):null}var nt={};function rt(t,e,i){var n=se(t),s=t,p=!L(t),$e=e.attrs,Tt=$e===void 0?_:$e,P=e.componentId,N=P===void 0?function(_t,b){var pe=typeof _t!="string"?"sc":R(_t);nt[pe]=(nt[pe]||0)+1;var yt="".concat(pe,"-").concat(z(v+pe+nt[pe]));return b?"".concat(b,"-").concat(yt):yt}(e.displayName,e.parentComponentId):P,E=e.displayName,St=E===void 0?function(_t){return L(_t)?"styled.".concat(_t):"Styled(".concat(B(_t),")")}(t):E,wt=e.displayName&&e.componentId?"".concat(R(e.displayName),"-").concat(e.componentId):e.componentId||N,bt=n&&s.attrs?s.attrs.concat(Tt).filter(Boolean):Tt,mt=e.shouldForwardProp;if(n&&s.shouldForwardProp){var ft=s.shouldForwardProp;if(e.shouldForwardProp){var et=e.shouldForwardProp;mt=function(_t,b){return ft(_t,b)&&et(_t,b)}}else mt=ft}var dt=new Ze(i,wt,n?s.componentStyle:void 0);function At(_t,b){return function(pe,yt,d){var a=pe.attrs,ot=pe.componentStyle,ze=pe.defaultProps,Rt=pe.foldedComponentIds,Ft=pe.styledComponentId,vt=pe.target,Nt=React.useContext(Ke),Ht=Be(),It=pe.shouldForwardProp||Ht.shouldForwardProp,Mt=I(yt,Nt,ze)||C,jt=function(h,c,Le){for(var Qe,gt=__assign$f(__assign$f({},c),{className:void 0,theme:Le}),Ct=0;Ct<h.length;Ct+=1){var kt=re(Qe=h[Ct])?Qe(gt):Qe;for(var Ut in kt)gt[Ut]=Ut==="className"?ie(gt[Ut],kt[Ut]):Ut==="style"?__assign$f(__assign$f({},gt[Ut]),kt[Ut]):kt[Ut]}return c.className&&(gt.className=ie(gt.className,c.className)),gt}(a,yt,Mt),ln=jt.as||vt,cn={};for(var tn in jt)jt[tn]===void 0||tn[0]==="$"||tn==="as"||tn==="theme"&&jt.theme===Mt||(tn==="forwardedAs"?cn.as=jt.forwardedAs:It&&!It(tn,ln)||(cn[tn]=jt[tn]));var Pt=function(h,c){var Le=Be(),Qe=h.generateAndInjectStyles(c,Le.styleSheet,Le.stylis);return Qe}(ot,jt),l=ie(Rt,Ft);return Pt&&(l+=" "+Pt),jt.className&&(l+=" "+jt.className),cn[L(ln)&&!A.has(ln)?"class":"className"]=l,cn.ref=d,reactExports.createElement(ln,cn)}(Et,_t,b)}At.displayName=St;var Et=React.forwardRef(At);return Et.attrs=bt,Et.componentStyle=dt,Et.displayName=St,Et.shouldForwardProp=mt,Et.foldedComponentIds=n?ie(s.foldedComponentIds,s.styledComponentId):"",Et.styledComponentId=wt,Et.target=n?s.target:t,Object.defineProperty(Et,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_t){this._foldedDefaultProps=n?function(b){for(var pe=[],yt=1;yt<arguments.length;yt++)pe[yt-1]=arguments[yt];for(var d=0,a=pe;d<a.length;d++)le(b,a[d],!0);return b}({},s.defaultProps,_t):_t}}),ue(Et,function(){return".".concat(Et.styledComponentId)}),p&&oe(Et,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Et}function st(t,e){for(var i=[t[0]],n=0,s=e.length;n<s;n+=1)i.push(e[n],t[n+1]);return i}var it$1=function(t){return Object.assign(t,{isCss:!0})};function at(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(re(t)||ce(t))return it$1(Ue(st(_,__spreadArray$2([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Ue(n):it$1(Ue(st(n,e)))}function ct(t,e,i){if(i===void 0&&(i=C),!e)throw he(1,e);var n=function(s){for(var p=[],$e=1;$e<arguments.length;$e++)p[$e-1]=arguments[$e];return t(e,i,at.apply(void 0,__spreadArray$2([s],p,!1)))};return n.attrs=function(s){return ct(t,e,__assign$f(__assign$f({},i),{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return ct(t,e,__assign$f(__assign$f({},i),s))},n}var lt=function(t){return ct(rt,t)},ut=lt;A.forEach(function(t){ut[t]=lt(t)});function ht(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=ae(at.apply(void 0,__spreadArray$2([t],e,!1))),s=z(n);return new Ge(s,n)}const documentNavInfo$a="Document {{ currentFileNo }} of {{ allFilesCount }}",noRendererMessage$a="No renderer for file type: {{{ fileType }}}",downloadButtonLabel$a="Download file",brokenFile$a="Your file is broken. Please check it on your machine.",msgPluginRecipients$a="Recipients",msgPluginSender$a="Sender",pdfPluginLoading$a="Loading...",pdfPluginPageNumber$a="Page {{ currentPage }}/{{ allPagesCount }}",en={documentNavInfo:documentNavInfo$a,noRendererMessage:noRendererMessage$a,downloadButtonLabel:downloadButtonLabel$a,brokenFile:brokenFile$a,msgPluginRecipients:msgPluginRecipients$a,msgPluginSender:msgPluginSender$a,pdfPluginLoading:pdfPluginLoading$a,pdfPluginPageNumber:pdfPluginPageNumber$a},documentNavInfo$9="Dokument {{ currentFileNo }} z {{ allFilesCount }}",noRendererMessage$9="Brak funckji renderującej dla: {{{ fileType }}}",downloadButtonLabel$9="Pobierz plik",brokenFile$9="Twój plik jest uszkodzony. Sprawdź go na swoim komputerze.",msgPluginRecipients$9="Odbiorcy",msgPluginSender$9="Nadawca",pdfPluginLoading$9="Wczytywanie...",pdfPluginPageNumber$9="Strona {{ currentPage }}/{{ allPagesCount }}",pl={documentNavInfo:documentNavInfo$9,noRendererMessage:noRendererMessage$9,downloadButtonLabel:downloadButtonLabel$9,brokenFile:brokenFile$9,msgPluginRecipients:msgPluginRecipients$9,msgPluginSender:msgPluginSender$9,pdfPluginLoading:pdfPluginLoading$9,pdfPluginPageNumber:pdfPluginPageNumber$9},documentNavInfo$8="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$8="No hay procesador para el tipo de archivo: {{{ fileType }}}",downloadButtonLabel$8="Descargar archivo",brokenFile$8="Tu archivo está roto. Compruébalo en tu máquina.",msgPluginRecipients$8="Destinatarios",msgPluginSender$8="Remitente",pdfPluginLoading$8="Cargando...",pdfPluginPageNumber$8="Página {{ currentPage }}/{{ allPagesCount }}",es={documentNavInfo:documentNavInfo$8,noRendererMessage:noRendererMessage$8,downloadButtonLabel:downloadButtonLabel$8,brokenFile:brokenFile$8,msgPluginRecipients:msgPluginRecipients$8,msgPluginSender:msgPluginSender$8,pdfPluginLoading:pdfPluginLoading$8,pdfPluginPageNumber:pdfPluginPageNumber$8},documentNavInfo$7="Dokument {{ currentFileNo }} von {{ allFilesCount }}",noRendererMessage$7="Kein Renderer für Dateityp: {{{ fileType }}}",downloadButtonLabel$7="Datei herunterladen",brokenFile$7="Ihre Datei ist defekt. Bitte überprüfen Sie sie auf Ihrem Rechner.",msgPluginRecipients$7="Empfänger",msgPluginSender$7="Absender",pdfPluginLoading$7="Wird geladen...",pdfPluginPageNumber$7="Seite {{ currentPage }}/{{ allPagesCount }}",de={documentNavInfo:documentNavInfo$7,noRendererMessage:noRendererMessage$7,downloadButtonLabel:downloadButtonLabel$7,brokenFile:brokenFile$7,msgPluginRecipients:msgPluginRecipients$7,msgPluginSender:msgPluginSender$7,pdfPluginLoading:pdfPluginLoading$7,pdfPluginPageNumber:pdfPluginPageNumber$7},documentNavInfo$6="Documento {{ currentFileNo }} di {{ allFilesCount }}",noRendererMessage$6="Nessun renderer per il tipo di file: {{{ fileType }}}",downloadButtonLabel$6="Scarica file",brokenFile$6="Il tuo file è danneggiato. Controllalo sul tuo computer.",msgPluginRecipients$6="Destinatari",msgPluginSender$6="Mittente",pdfPluginLoading$6="Caricamento in corso...",pdfPluginPageNumber$6="Pagina {{ currentPage }}/{{ allPagesCount }}",it={documentNavInfo:documentNavInfo$6,noRendererMessage:noRendererMessage$6,downloadButtonLabel:downloadButtonLabel$6,brokenFile:brokenFile$6,msgPluginRecipients:msgPluginRecipients$6,msgPluginSender:msgPluginSender$6,pdfPluginLoading:pdfPluginLoading$6,pdfPluginPageNumber:pdfPluginPageNumber$6},documentNavInfo$5="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$5="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",downloadButtonLabel$5="Baixar arquivo",brokenFile$5="Seu arquivo está quebrado. Por favor, verifique-o em sua máquina.",msgPluginRecipients$5="Destinatários",msgPluginSender$5="Remetente",pdfPluginLoading$5="Carregando...",pdfPluginPageNumber$5="Página {{ currentPage }}/{{ allPagesCount }}",pt={documentNavInfo:documentNavInfo$5,noRendererMessage:noRendererMessage$5,downloadButtonLabel:downloadButtonLabel$5,brokenFile:brokenFile$5,msgPluginRecipients:msgPluginRecipients$5,msgPluginSender:msgPluginSender$5,pdfPluginLoading:pdfPluginLoading$5,pdfPluginPageNumber:pdfPluginPageNumber$5},documentNavInfo$4="Document {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$4="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",downloadButtonLabel$4="Télécharger le fichier",brokenFile$4="Votre fichier est cassé. Veuillez le vérifier sur votre machine.",msgPluginRecipients$4="Destinataires",msgPluginSender$4="Expéditeur",pdfPluginLoading$4="Chargement...",pdfPluginPageNumber$4="Page {{ currentPage }}/{{ allPagesCount }}",fr={documentNavInfo:documentNavInfo$4,noRendererMessage:noRendererMessage$4,downloadButtonLabel:downloadButtonLabel$4,brokenFile:brokenFile$4,msgPluginRecipients:msgPluginRecipients$4,msgPluginSender:msgPluginSender$4,pdfPluginLoading:pdfPluginLoading$4,pdfPluginPageNumber:pdfPluginPageNumber$4},documentNavInfo$3="مستند {{ currentFileNo }} من {{ allFilesCount }}",noRendererMessage$3="{{{ fileType }}} : لا يمكننا عرض هذا النوع من الملفات",downloadButtonLabel$3="تحميل الملف",brokenFile$3="الملف تالف، يرجى التحقق منه على جهازك الخاص.",msgPluginRecipients$3="المستلمين",msgPluginSender$3="المرسل",pdfPluginLoading$3="تحميل ...",pdfPluginPageNumber$3=" {{ allPagesCount }} \\ {{ currentPage }} صفحة ",ar={documentNavInfo:documentNavInfo$3,noRendererMessage:noRendererMessage$3,downloadButtonLabel:downloadButtonLabel$3,brokenFile:brokenFile$3,msgPluginRecipients:msgPluginRecipients$3,msgPluginSender:msgPluginSender$3,pdfPluginLoading:pdfPluginLoading$3,pdfPluginPageNumber:pdfPluginPageNumber$3},documentNavInfo$2="Dokument {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$2="Ne postoji pregledač za tip fajla: {{ fileType }}",downloadButtonLabel$2="Preuzimanje fajla",brokenFile$2="Vaš fajl nije dobar. Molimo Vas da probate da ga otvorite na vašem računaru.",msgPluginRecipients$2="Primaoci",msgPluginSender$2="Pošiljalac",pdfPluginLoading$2="Učitavanje...",pdfPluginPageNumber$2="Strana {{ currentPage }}/{{ allPagesCount }}",sr={documentNavInfo:documentNavInfo$2,noRendererMessage:noRendererMessage$2,downloadButtonLabel:downloadButtonLabel$2,brokenFile:brokenFile$2,msgPluginRecipients:msgPluginRecipients$2,msgPluginSender:msgPluginSender$2,pdfPluginLoading:pdfPluginLoading$2,pdfPluginPageNumber:pdfPluginPageNumber$2},documentNavInfo$1="Документ {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$1="Не постоји прегледач за тип фајла: {{ fileType }}",downloadButtonLabel$1="Преузимање фајла",brokenFile$1="Ваш фајл није добар. Молимо Вас да пробате да га отворите на вашем рачунару.",msgPluginRecipients$1="Примаоци",msgPluginSender$1="Пошиљалац",pdfPluginLoading$1="Учитавање...",pdfPluginPageNumber$1="Страна {{ currentPage }}/{{ allPagesCount }}",sr_cyr={documentNavInfo:documentNavInfo$1,noRendererMessage:noRendererMessage$1,downloadButtonLabel:downloadButtonLabel$1,brokenFile:brokenFile$1,msgPluginRecipients:msgPluginRecipients$1,msgPluginSender:msgPluginSender$1,pdfPluginLoading:pdfPluginLoading$1,pdfPluginPageNumber:pdfPluginPageNumber$1},documentNavInfo="ファイル {{ currentFileNo }} / {{ allFilesCount }}",noRendererMessage="ファイルタイプに対応したレンダラーはありません: {{ fileType }}",downloadButtonLabel="ダウンロード",brokenFile="ファイルが壊れています。あなたのマシンでファイルを確認してください。",msgPluginRecipients="受信者",msgPluginSender="送信者",pdfPluginLoading="ローティング中...",pdfPluginPageNumber="ページ {{ currentPage }}/{{ allPagesCount }}",ja={documentNavInfo,noRendererMessage,downloadButtonLabel,brokenFile,msgPluginRecipients,msgPluginSender,pdfPluginLoading,pdfPluginPageNumber};var locales={en,pl,es,de,it,pt,fr,ar,sr,sr_cyr,ja},defaultLanguage="en",SET_ALL_DOCUMENTS="SET_ALL_DOCUMENTS",SET_DOCUMENT_LOADING="SET_DOCUMENT_LOADING",NEXT_DOCUMENT="NEXT_DOCUMENT",PREVIOUS_DOCUMENT="PREVIOUS_DOCUMENT",UPDATE_CURRENT_DOCUMENT="UPDATE_CURRENT_DOCUMENT",SET_RENDERER_RECT="SET_RENDERER_RECT",SET_MAIN_CONFIG="SET_MAIN_CONFIG",setAllDocuments=function(t,e){return{type:SET_ALL_DOCUMENTS,documents:t,initialActiveDocument:e}},setDocumentLoading=function(t){return{type:SET_DOCUMENT_LOADING,value:t}},nextDocument=function(){return{type:NEXT_DOCUMENT}},previousDocument=function(){return{type:PREVIOUS_DOCUMENT}},updateCurrentDocument=function(t){return{type:UPDATE_CURRENT_DOCUMENT,document:t}},setRendererRect=function(t){return{type:SET_RENDERER_RECT,rect:t}},setMainConfig=function(t){return{type:SET_MAIN_CONFIG,config:t}},__assign$e=function(){return __assign$e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$e.apply(this,arguments)},initialState={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:defaultLanguage},mainStateReducer=function(t,e){switch(t===void 0&&(t=initialState),e.type){case SET_ALL_DOCUMENTS:{var i=e,n=i.documents,s=i.initialActiveDocument;return __assign$e(__assign$e({},t),{documents:n,currentDocument:s||n[0]||null,currentFileNo:s&&n.includes(s)?n.indexOf(s):initialState.currentFileNo})}case SET_DOCUMENT_LOADING:{var p=e.value;return __assign$e(__assign$e({},t),{documentLoading:p})}case NEXT_DOCUMENT:{if(t.currentFileNo>=t.documents.length-1)return t;var $e=t.currentFileNo+1;return t.onDocumentChange&&t.onDocumentChange(t.documents[$e]),__assign$e(__assign$e({},t),{currentFileNo:$e,currentDocument:t.documents[$e],documentLoading:!0})}case PREVIOUS_DOCUMENT:{if(t.currentFileNo<=0)return t;var Tt=t.currentFileNo-1;return t.onDocumentChange&&t.onDocumentChange(t.documents[Tt]),__assign$e(__assign$e({},t),{currentFileNo:t.currentFileNo-1,currentDocument:t.documents[Tt],documentLoading:!0})}case UPDATE_CURRENT_DOCUMENT:{var P=e.document;return __assign$e(__assign$e({},t),{currentDocument:P,currentFileNo:t.documents.findIndex(function(St){return St.uri===P.uri})})}case SET_RENDERER_RECT:{var N=e.rect;return __assign$e(__assign$e({},t),{rendererRect:N})}case SET_MAIN_CONFIG:{var E=e.config;return __assign$e(__assign$e({},t),{config:E})}default:return t}},__assign$d=function(){return __assign$d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$d.apply(this,arguments)},DocViewerContext=reactExports.createContext({state:initialState,dispatch:function(){return null}}),DocViewerProvider=reactExports.forwardRef(function(t,e){var i,n=t.children,s=t.documents,p=t.config,$e=t.pluginRenderers,Tt=t.prefetchMethod,P=t.requestHeaders,N=t.initialActiveDocument,E=t.language,St=t.activeDocument,wt=t.onDocumentChange,bt=reactExports.useReducer(mainStateReducer,__assign$d(__assign$d({},initialState),{documents:s||[],currentDocument:s&&s.length?N||s[0]:void 0,config:p,pluginRenderers:$e,prefetchMethod:Tt,requestHeaders:P,currentFileNo:N&&(i=s.findIndex(function(et){return et===N}))!==null&&i!==void 0?i:0,language:E&&locales[E]?E:defaultLanguage,activeDocument:St,onDocumentChange:wt})),mt=bt[0],ft=bt[1];return reactExports.useEffect(function(){ft(setAllDocuments(s,N)),p&&ft(setMainConfig(p))},[s,p,N]),reactExports.useEffect(function(){St&&ft(updateCurrentDocument(St))},[St]),reactExports.useImperativeHandle(e,function(){return{prev:function(){ft(previousDocument())},next:function(){ft(nextDocument())}}},[ft]),React.createElement(DocViewerContext.Provider,{value:{state:mt,dispatch:ft}},n)}),__makeTemplateObject$i=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ButtonPrimaryStyle=at(templateObject_1$i||(templateObject_1$i=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(t){return t.theme.primary},function(t){return t.theme.textPrimary}),ButtonSecondaryStyle=at(templateObject_2$a||(templateObject_2$a=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(t){return t.theme.secondary},function(t){return t.theme.textSecondary}),Button=ut.button(templateObject_3$4||(templateObject_3$4=__makeTemplateObject$i([`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),ButtonPrimaryStyle,function(t){return t.disabled?.4:1},function(t){return t.disabled?"none":"all"}),LinkButton=ut.a(templateObject_4$2||(templateObject_4$2=__makeTemplateObject$i([`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),function(t){return t.theme.primary},function(t){return t.theme.textPrimary});ut(Button)(templateObject_5$1||(templateObject_5$1=__makeTemplateObject$i([""],[""])));var ButtonSecondary=ut(Button)(templateObject_6||(templateObject_6=__makeTemplateObject$i([`
  `,`
`],[`
  `,`
`])),ButtonSecondaryStyle),templateObject_1$i,templateObject_2$a,templateObject_3$4,templateObject_4$2,templateObject_5$1,templateObject_6,__assign$c=function(){return __assign$c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$c.apply(this,arguments)},PrevDocIcon=function(t){return React.createElement(DocNavIcon,__assign$c({},t))},NextDocIcon=function(t){return React.createElement(DocNavIcon,__assign$c({},t,{reverse:!0}))},DocNavIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve"},React.createElement("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:e||"#aaa",fillRule:"evenodd",id:"Arrow_Back"}))},LoadingIcon=function(t){var e=t.color,i=t.size;return React.createElement("svg",{width:i||"100%",height:i||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"}},React.createElement("g",null,React.createElement("path",{fill:e||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),React.createElement("path",{fill:e||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),React.createElement("path",{fill:e||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),React.createElement("path",{fill:e||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),React.createElement("path",{fill:e||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),React.createElement("path",{fill:e||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),React.createElement("path",{fill:e||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),React.createElement("path",{fill:e||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})))};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var objectToString=Object.prototype.toString,isArray=Array.isArray||function(e){return objectToString.call(e)==="[object Array]"};function isFunction(t){return typeof t=="function"}function typeStr(t){return isArray(t)?"array":typeof t}function escapeRegExp(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(t,e){return t!=null&&typeof t=="object"&&e in t}function primitiveHasOwnProperty(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var regExpTest=RegExp.prototype.test;function testRegExp(t,e){return regExpTest.call(t,e)}var nonSpaceRe=/\S/;function isWhitespace(t){return!testRegExp(nonSpaceRe,t)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(t){return String(t).replace(/[&<>"'`=\/]/g,function(i){return entityMap[i]})}var whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(t,e){if(!t)return[];var i=!1,n=[],s=[],p=[],$e=!1,Tt=!1,P="",N=0;function E(){if($e&&!Tt)for(;p.length;)delete s[p.pop()];else p=[];$e=!1,Tt=!1}var St,wt,bt;function mt(d){if(typeof d=="string"&&(d=d.split(spaceRe,2)),!isArray(d)||d.length!==2)throw new Error("Invalid tags: "+d);St=new RegExp(escapeRegExp(d[0])+"\\s*"),wt=new RegExp("\\s*"+escapeRegExp(d[1])),bt=new RegExp("\\s*"+escapeRegExp("}"+d[1]))}mt(e||mustache.tags);for(var ft=new Scanner(t),et,dt,At,Et,_t,b;!ft.eos();){if(et=ft.pos,At=ft.scanUntil(St),At)for(var pe=0,yt=At.length;pe<yt;++pe)Et=At.charAt(pe),isWhitespace(Et)?(p.push(s.length),P+=Et):(Tt=!0,i=!0,P+=" "),s.push(["text",Et,et,et+1]),et+=1,Et===`
`&&(E(),P="",N=0,i=!1);if(!ft.scan(St))break;if($e=!0,dt=ft.scan(tagRe)||"name",ft.scan(whiteRe),dt==="="?(At=ft.scanUntil(equalsRe),ft.scan(equalsRe),ft.scanUntil(wt)):dt==="{"?(At=ft.scanUntil(bt),ft.scan(curlyRe),ft.scanUntil(wt),dt="&"):At=ft.scanUntil(wt),!ft.scan(wt))throw new Error("Unclosed tag at "+ft.pos);if(dt==">"?_t=[dt,At,et,ft.pos,P,N,i]:_t=[dt,At,et,ft.pos],N++,s.push(_t),dt==="#"||dt==="^")n.push(_t);else if(dt==="/"){if(b=n.pop(),!b)throw new Error('Unopened section "'+At+'" at '+et);if(b[1]!==At)throw new Error('Unclosed section "'+b[1]+'" at '+et)}else dt==="name"||dt==="{"||dt==="&"?Tt=!0:dt==="="&&mt(At)}if(E(),b=n.pop(),b)throw new Error('Unclosed section "'+b[1]+'" at '+ft.pos);return nestTokens(squashTokens(s))}function squashTokens(t){for(var e=[],i,n,s=0,p=t.length;s<p;++s)i=t[s],i&&(i[0]==="text"&&n&&n[0]==="text"?(n[1]+=i[1],n[3]=i[3]):(e.push(i),n=i));return e}function nestTokens(t){for(var e=[],i=e,n=[],s,p,$e=0,Tt=t.length;$e<Tt;++$e)switch(s=t[$e],s[0]){case"#":case"^":i.push(s),n.push(s),i=s[4]=[];break;case"/":p=n.pop(),p[5]=s[2],i=n.length>0?n[n.length-1][4]:e;break;default:i.push(s)}return e}function Scanner(t){this.string=t,this.tail=t,this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(e){var i=this.tail.match(e);if(!i||i.index!==0)return"";var n=i[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};Scanner.prototype.scanUntil=function(e){var i=this.tail.search(e),n;switch(i){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=n.length,n};function Context(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Context.prototype.push=function(e){return new Context(e,this)};Context.prototype.lookup=function(e){var i=this.cache,n;if(i.hasOwnProperty(e))n=i[e];else{for(var s=this,p,$e,Tt,P=!1;s;){if(e.indexOf(".")>0)for(p=s.view,$e=e.split("."),Tt=0;p!=null&&Tt<$e.length;)Tt===$e.length-1&&(P=hasProperty(p,$e[Tt])||primitiveHasOwnProperty(p,$e[Tt])),p=p[$e[Tt++]];else p=s.view[e],P=hasProperty(s.view,e);if(P){n=p;break}s=s.parent}i[e]=n}return isFunction(n)&&(n=n.call(this.view)),n};function Writer(){this.templateCache={_cache:{},set:function(e,i){this._cache[e]=i},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Writer.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Writer.prototype.parse=function(e,i){var n=this.templateCache,s=e+":"+(i||mustache.tags).join(":"),p=typeof n<"u",$e=p?n.get(s):void 0;return $e==null&&($e=parseTemplate(e,i),p&&n.set(s,$e)),$e};Writer.prototype.render=function(e,i,n,s){var p=this.getConfigTags(s),$e=this.parse(e,p),Tt=i instanceof Context?i:new Context(i,void 0);return this.renderTokens($e,Tt,n,e,s)};Writer.prototype.renderTokens=function(e,i,n,s,p){for(var $e="",Tt,P,N,E=0,St=e.length;E<St;++E)N=void 0,Tt=e[E],P=Tt[0],P==="#"?N=this.renderSection(Tt,i,n,s,p):P==="^"?N=this.renderInverted(Tt,i,n,s,p):P===">"?N=this.renderPartial(Tt,i,n,p):P==="&"?N=this.unescapedValue(Tt,i):P==="name"?N=this.escapedValue(Tt,i,p):P==="text"&&(N=this.rawValue(Tt)),N!==void 0&&($e+=N);return $e};Writer.prototype.renderSection=function(e,i,n,s,p){var $e=this,Tt="",P=i.lookup(e[1]);function N(wt){return $e.render(wt,i,n,p)}if(P){if(isArray(P))for(var E=0,St=P.length;E<St;++E)Tt+=this.renderTokens(e[4],i.push(P[E]),n,s,p);else if(typeof P=="object"||typeof P=="string"||typeof P=="number")Tt+=this.renderTokens(e[4],i.push(P),n,s,p);else if(isFunction(P)){if(typeof s!="string")throw new Error("Cannot use higher-order sections without the original template");P=P.call(i.view,s.slice(e[3],e[5]),N),P!=null&&(Tt+=P)}else Tt+=this.renderTokens(e[4],i,n,s,p);return Tt}};Writer.prototype.renderInverted=function(e,i,n,s,p){var $e=i.lookup(e[1]);if(!$e||isArray($e)&&$e.length===0)return this.renderTokens(e[4],i,n,s,p)};Writer.prototype.indentPartial=function(e,i,n){for(var s=i.replace(/[^ \t]/g,""),p=e.split(`
`),$e=0;$e<p.length;$e++)p[$e].length&&($e>0||!n)&&(p[$e]=s+p[$e]);return p.join(`
`)};Writer.prototype.renderPartial=function(e,i,n,s){if(n){var p=this.getConfigTags(s),$e=isFunction(n)?n(e[1]):n[e[1]];if($e!=null){var Tt=e[6],P=e[5],N=e[4],E=$e;P==0&&N&&(E=this.indentPartial($e,N,Tt));var St=this.parse(E,p);return this.renderTokens(St,i,n,E,s)}}};Writer.prototype.unescapedValue=function(e,i){var n=i.lookup(e[1]);if(n!=null)return n};Writer.prototype.escapedValue=function(e,i,n){var s=this.getConfigEscape(n)||mustache.escape,p=i.lookup(e[1]);if(p!=null)return typeof p=="number"&&s===mustache.escape?String(p):s(p)};Writer.prototype.rawValue=function(e){return e[1]};Writer.prototype.getConfigTags=function(e){return isArray(e)?e:e&&typeof e=="object"?e.tags:void 0};Writer.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!isArray(e))return e.escape};var mustache={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){defaultWriter.templateCache=t},get templateCache(){return defaultWriter.templateCache}},defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()};mustache.parse=function(e,i){return defaultWriter.parse(e,i)};mustache.render=function(e,i,n,s){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(e)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(e,i,n,s)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;var useTranslation=function(){var t=reactExports.useContext(DocViewerContext).state.language,e=locales[defaultLanguage],i=reactExports.useCallback(function(n,s){var p=locales[t];return p[n]?mustache.render(p[n],s):e[n]?mustache.render(e[n],s):n},[t,e]);return{t:i}},__makeTemplateObject$h=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},DocumentNav=function(){var t=reactExports.useContext(DocViewerContext),e=t.state,i=e.currentDocument,n=e.currentFileNo,s=e.documents,p=t.dispatch,$e=useTranslation().t;if(s.length<=1||!i)return null;var Tt=i.uri||"",P=Tt.split("/");return P.length&&(Tt=P[P.length-1]),React.createElement(Container$d,{id:"doc-nav"},React.createElement("p",{id:"doc-nav-info"},$e("documentNavInfo",{currentFileNo:n+1,allFilesCount:s.length})),React.createElement(ButtonPrev,{id:"doc-nav-prev",onClick:function(){return p(previousDocument())},disabled:n===0},React.createElement(PrevDocIcon,{color:"#fff",size:"60%"})),React.createElement(ButtonNext,{id:"doc-nav-next",onClick:function(){return p(nextDocument())},disabled:n>=s.length-1},React.createElement(NextDocIcon,{color:"#fff",size:"60%"})))},Container$d=ut.div(templateObject_1$h||(templateObject_1$h=__makeTemplateObject$h([`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`],[`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`])),function(t){return t.theme.textPrimary}),ButtonPrev=ut(ButtonSecondary)(templateObject_2$9||(templateObject_2$9=__makeTemplateObject$h([`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),ButtonNext=ut(ButtonPrev)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$h([`
  margin: 0 5px;
`],[`
  margin: 0 5px;
`]))),templateObject_1$h,templateObject_2$9,templateObject_3$3,getFileName=function(t,e){if(!t)return"";var i="";if(t.fileName)i=t.fileName;else{i=t.uri||"",i=decodeURI(i),e||(i=i.split("?")[0]);var n=i.split("/");n.length&&(i=n[n.length-1])}return i},__makeTemplateObject$g=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},FileName=function(){var t,e,i=reactExports.useContext(DocViewerContext).state,n=i.config,s=i.currentDocument;if(!s||!((t=n==null?void 0:n.header)===null||t===void 0)&&t.disableFileName)return null;var p=getFileName(s,((e=n==null?void 0:n.header)===null||e===void 0?void 0:e.retainURLParams)||!1);return React.createElement(Container$c,{id:"file-name","data-testid":"file-name"},p)},Container$c=ut.div(templateObject_1$g||(templateObject_1$g=__makeTemplateObject$g([`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`],[`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`])),function(t){return t.theme.textPrimary}),templateObject_1$g,__makeTemplateObject$f=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},HeaderBar=function(){var t,e,i,n=reactExports.useContext(DocViewerContext),s=n.state,p=n.dispatch,$e=s.config;if(!((t=$e==null?void 0:$e.header)===null||t===void 0)&&t.disableHeader)return null;var Tt=(i=(e=$e==null?void 0:$e.header)===null||e===void 0?void 0:e.overrideComponent)===null||i===void 0?void 0:i.call(e,s,function(){return p(previousDocument())},function(){return p(nextDocument())});return Tt||React.createElement(Container$b,{id:"header-bar","data-testid":"header-bar"},React.createElement(FileName,null),React.createElement(DocumentNav,null))},Container$b=ut.div(templateObject_1$f||(templateObject_1$f=__makeTemplateObject$f([`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`],[`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`])),function(t){return t.theme.primary}),templateObject_1$f,__assign$b=function(){return __assign$b=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$b.apply(this,arguments)},__awaiter$1=function(t,e,i,n){function s(p){return p instanceof i?p:new i(function($e){$e(p)})}return new(i||(i=Promise))(function(p,$e){function Tt(E){try{N(n.next(E))}catch(St){$e(St)}}function P(E){try{N(n.throw(E))}catch(St){$e(St)}}function N(E){E.done?p(E.value):s(E.value).then(Tt,P)}N((n=n.apply(t,e||[])).next())})},__generator=function(t,e){var i={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},n,s,p,$e;return $e={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&($e[Symbol.iterator]=function(){return this}),$e;function Tt(N){return function(E){return P([N,E])}}function P(N){if(n)throw new TypeError("Generator is already executing.");for(;$e&&($e=0,N[0]&&(i=0)),i;)try{if(n=1,s&&(p=N[0]&2?s.return:N[0]?s.throw||((p=s.return)&&p.call(s),0):s.next)&&!(p=p.call(s,N[1])).done)return p;switch(s=0,p&&(N=[N[0]&2,p.value]),N[0]){case 0:case 1:p=N;break;case 4:return i.label++,{value:N[1],done:!1};case 5:i.label++,s=N[1],N=[0];continue;case 7:N=i.ops.pop(),i.trys.pop();continue;default:if(p=i.trys,!(p=p.length>0&&p[p.length-1])&&(N[0]===6||N[0]===2)){i=0;continue}if(N[0]===3&&(!p||N[1]>p[0]&&N[1]<p[3])){i.label=N[1];break}if(N[0]===6&&i.label<p[1]){i.label=p[1],p=N;break}if(p&&i.label<p[2]){i.label=p[2],i.ops.push(N);break}p[2]&&i.ops.pop(),i.trys.pop();continue}N=e.call(t,i)}catch(E){N=[6,E],s=0}finally{n=p=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},_fileLoader=function(t){var e=t.documentURI,i=t.signal,n=t.fileLoaderComplete,s=t.readerTypeFunction,p=t.headers;return fetch(e,{signal:i,headers:p}).then(function($e){return __awaiter$1(void 0,void 0,void 0,function(){var Tt,P;return __generator(this,function(N){switch(N.label){case 0:return[4,$e.blob()];case 1:switch(Tt=N.sent(),P=new FileReader,P.addEventListener("loadend",function(){return n(P)}),s){case"arrayBuffer":P.readAsArrayBuffer(Tt);break;case"binaryString":P.readAsBinaryString(Tt);break;case"dataURL":P.readAsDataURL(Tt);break;case"text":P.readAsText(Tt);break}return[2]}})})}).catch(function($e){return $e})},arrayBufferFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"arrayBuffer"}))},dataURLFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"dataURL"}))},textFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"text"}))},defaultFileLoader=dataURLFileLoader,useRendererSelector=function(){var t=reactExports.useContext(DocViewerContext).state,e=t.currentDocument,i=t.pluginRenderers,n=reactExports.useState(),s=n[0],p=n[1];return reactExports.useEffect(function(){if(e){if(!e.fileType){p(void 0);return}var $e=[];i==null||i.forEach(function(P){e.fileType!==void 0&&P.fileTypes.indexOf(e.fileType)>=0&&$e.push(P)});var Tt=$e.sort(function(P,N){return N.weight-P.weight})[0];p(Tt&&Tt!==void 0?function(){return Tt}:null)}},[e,i]),{CurrentRenderer:s}},__assign$a=function(){return __assign$a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$a.apply(this,arguments)},useDocumentLoader=function(){var t=reactExports.useContext(DocViewerContext),e=t.state,i=t.dispatch,n=e.currentFileNo,s=e.currentDocument,p=e.prefetchMethod,$e=useRendererSelector().CurrentRenderer,Tt=(s==null?void 0:s.uri)||"";return reactExports.useEffect(function(){if(s&&s.fileType===void 0){var P=new AbortController,N=P.signal;return fetch(Tt,{method:p||Tt.startsWith("blob:")?"GET":"HEAD",signal:N,headers:e==null?void 0:e.requestHeaders}).then(function(E){var St=E.headers.get("content-type"),wt=(St==null?void 0:St.split(";"))||[],bt=wt.length?wt[0]:void 0;i(updateCurrentDocument(__assign$a(__assign$a({},s),{fileType:bt||void 0})))}).catch(function(E){if((E==null?void 0:E.name)!=="AbortError")throw E}),function(){P.abort()}}},[n,Tt,s]),reactExports.useEffect(function(){var P;if(!(!s||$e===void 0)){var N=new AbortController,E=N.signal,St=function(bt){if(!s||!bt){i(setDocumentLoading(!1));return}var mt=__assign$a({},s);bt.result!==null&&(mt.fileData=bt.result),i(updateCurrentDocument(mt)),i(setDocumentLoading(!1))},wt={documentURI:Tt,signal:E,fileLoaderComplete:St,headers:e==null?void 0:e.requestHeaders};return $e===null?i(setDocumentLoading(!1)):$e.fileLoader!==void 0?(P=$e.fileLoader)===null||P===void 0||P.call($e,wt):defaultFileLoader(wt),function(){N.abort()}}},[$e,n]),{state:e,dispatch:i,CurrentRenderer:$e}},useWindowSize=function(){var t=reactExports.useState({width:void 0,height:void 0}),e=t[0],i=t[1];return reactExports.useEffect(function(){function n(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}},[]),e},LoadingTimeout=function(t){var e,i,n=t.children,s=reactExports.useContext(DocViewerContext).state,p=s.config,$e=reactExports.useState(((e=p==null?void 0:p.loadingRenderer)===null||e===void 0?void 0:e.showLoadingTimeout)===!1),Tt=$e[0],P=$e[1];return reactExports.useEffect(function(){var N;setTimeout(function(){P(!0)},typeof((N=p==null?void 0:p.loadingRenderer)===null||N===void 0?void 0:N.showLoadingTimeout)=="number"?p.loadingRenderer.showLoadingTimeout:500)},[(i=p==null?void 0:p.loadingRenderer)===null||i===void 0?void 0:i.showLoadingTimeout]),Tt?React.createElement(React.Fragment,null,n):null},__makeTemplateObject$e=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ProxyRenderer=function(){var t,e=useDocumentLoader(),i=e.state,n=e.dispatch,s=e.CurrentRenderer,p=i.documents,$e=i.documentLoading,Tt=i.currentDocument,P=i.config,N=useWindowSize(),E=useTranslation().t,St=reactExports.useCallback(function(mt){mt&&n(setRendererRect(mt==null?void 0:mt.getBoundingClientRect()))},[N]),wt=getFileName(Tt,((t=P==null?void 0:P.header)===null||t===void 0?void 0:t.retainURLParams)||!1),bt=function(){var mt,ft,et;if(p.length)if($e){if(P&&(!((mt=P==null?void 0:P.loadingRenderer)===null||mt===void 0)&&mt.overrideComponent)){var dt=P.loadingRenderer.overrideComponent;return React.createElement(LoadingTimeout,null,React.createElement(dt,{document:Tt,fileName:wt}))}return React.createElement(LoadingTimeout,null,React.createElement(LoadingContainer,{id:"loading-renderer","data-testid":"loading-renderer"},React.createElement(LoadingIconContainer,null,React.createElement(LoadingIcon,{color:"#444",size:40}))))}else{if(s)return React.createElement(s,{mainState:i});if(s===void 0)return null;if(P&&(!((ft=P==null?void 0:P.noRenderer)===null||ft===void 0)&&ft.overrideComponent)){var dt=P.noRenderer.overrideComponent;return React.createElement(dt,{document:Tt,fileName:wt})}return React.createElement("div",{id:"no-renderer","data-testid":"no-renderer"},E("noRendererMessage",{fileType:(et=Tt==null?void 0:Tt.fileType)!==null&&et!==void 0?et:""}),React.createElement(DownloadButton$1,{id:"no-renderer-download",href:Tt==null?void 0:Tt.uri,download:Tt==null?void 0:Tt.uri},E("downloadButtonLabel")))}else return React.createElement("div",{id:"no-documents"})};return React.createElement(Container$a,{id:"proxy-renderer","data-testid":"proxy-renderer",ref:St},React.createElement(bt,null))},Container$a=ut.div(templateObject_1$e||(templateObject_1$e=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  overflow-y: auto;
`],[`
  display: flex;
  flex: 1;
  overflow-y: auto;
`]))),LoadingContainer=ut.div(templateObject_2$8||(templateObject_2$8=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`],[`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`]))),spinAnim=ht(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$e([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`],[`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),LoadingIconContainer=ut.div(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$e([`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`],[`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`])),spinAnim),DownloadButton$1=ut(LinkButton)(templateObject_5||(templateObject_5=__makeTemplateObject$e([`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`],[`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`])),function(t){return t.theme.primary}),templateObject_1$e,templateObject_2$8,templateObject_3$2,templateObject_4$1,templateObject_5,defaultTheme={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},__makeTemplateObject$d=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$9=function(){return __assign$9=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$9.apply(this,arguments)},ImageProxyRenderer=function(t){var e=t.mainState.currentDocument,i=t.children;return e?React.createElement(Container$9,__assign$9({id:"image-renderer"},t),i||React.createElement(Img,{id:"image-img",src:e.fileData})):null};ImageProxyRenderer.fileTypes=[];ImageProxyRenderer.weight=0;var Container$9=ut.div(templateObject_1$d||(templateObject_1$d=__makeTemplateObject$d([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`]))),Img=ut.img(templateObject_2$7||(templateObject_2$7=__makeTemplateObject$d([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$d,templateObject_2$7,__assign$8=function(){return __assign$8=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$8.apply(this,arguments)},BMPRenderer=function(t){return React.createElement(ImageProxyRenderer,__assign$8({},t))};BMPRenderer.fileTypes=["bmp","image/bmp"];BMPRenderer.weight=0;var __makeTemplateObject$c=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},HTMLRenderer=function(t){var e=t.mainState.currentDocument;return reactExports.useEffect(function(){var i=e==null?void 0:e.fileData,n=(i==null?void 0:i.replace("data:text/html;base64,",""))||"",s=window.atob(n),p=document.getElementById("html-body"),$e=(p==null?void 0:p.contentWindow)&&p.contentWindow;if($e){var Tt=$e.document;Tt.open(),Tt.write("".concat(s)),Tt.close()}},[e]),React.createElement(Container$8,{id:"html-renderer"},React.createElement(BodyIFrame,{id:"html-body",sandbox:"allow-same-origin"}))};HTMLRenderer.fileTypes=["htm","html","text/htm","text/html"];HTMLRenderer.weight=0;HTMLRenderer.fileLoader=dataURLFileLoader;var Container$8=ut.div(templateObject_1$c||(templateObject_1$c=__makeTemplateObject$c([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`]))),BodyIFrame=ut.iframe(templateObject_2$6||(templateObject_2$6=__makeTemplateObject$c([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(t){return t.theme.secondary}),templateObject_1$c,templateObject_2$6,__assign$7=function(){return __assign$7=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$7.apply(this,arguments)},JPGRenderer$1=function(t){return React.createElement(ImageProxyRenderer,__assign$7({},t))};JPGRenderer$1.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];JPGRenderer$1.weight=0;var __makeTemplateObject$b=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__spreadArray$1=function(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,p;n<s;n++)(p||!(n in e))&&(p||(p=Array.prototype.slice.call(e,0,n)),p[n]=e[n]);return t.concat(p||Array.prototype.slice.call(e))},MSDocRenderer=function(t){var e=t.mainState.currentDocument;return e?React.createElement(Container$7,{id:"msdoc-renderer"},React.createElement(IFrame,{id:"msdoc-iframe",title:"msdoc-iframe",src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(e.uri)),frameBorder:"0"})):null},MSDocFTMaps={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};MSDocRenderer.fileTypes=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],MSDocFTMaps.odt,!0),MSDocFTMaps.doc,!0),MSDocFTMaps.docx,!0),MSDocFTMaps.xls,!0),MSDocFTMaps.xlsx,!0),MSDocFTMaps.ppt,!0),MSDocFTMaps.pptx,!0);MSDocRenderer.weight=0;MSDocRenderer.fileLoader=function(t){var e=t.fileLoaderComplete;return e()};var Container$7=ut.div(templateObject_1$b||(templateObject_1$b=__makeTemplateObject$b([`
  width: 100%;
`],[`
  width: 100%;
`]))),IFrame=ut.iframe(templateObject_2$5||(templateObject_2$5=__makeTemplateObject$b([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$b,templateObject_2$5;function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};(function(module,exports){(function(e,i){module.exports=e.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{var Dn;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=jt,e.bytesToString=kt,e.createValidAbsoluteUrl=cn,e.getModificationDate=gn,e.getUuid=Cn,e.getVerbosityLevel=Nt,e.info=Ht,e.isArrayBuffer=Qt,e.isArrayEqual=mn,e.isNodeJS=void 0,e.normalizeUnicode=In,e.objectFromMap=Jt,e.objectSize=Gt,e.setVerbosityLevel=vt,e.shadow=tn,e.string32=Bt,e.stringToBytes=Ut,e.stringToPDFString=an,e.stringToUTF8String=Wt,e.unreachable=Mt,e.utf8StringToString=qt,e.warn=It;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=i;const n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;const s=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=s;const p=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=p;const $e=1.35;e.LINE_FACTOR=$e;const Tt=.35;e.LINE_DESCENT_FACTOR=Tt;const P=Tt/$e;e.BASELINE_FACTOR=P;const N={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=N;const E={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=E;const St="pdfjs_internal_editor_";e.AnnotationEditorPrefix=St;const wt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=wt;const bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=bt;const mt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=mt;const ft={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=ft;const et={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=et;const dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=dt;const At={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=At;const Et={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=Et;const _t={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=_t;const b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=b;const pe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=pe;const yt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=yt;const d={O:"PageOpen",C:"PageClose"};e.PageActionEventType=d;const a={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=a;const ot={NONE:0,BINARY:1};e.CMapCompressionType=ot;const ze={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=ze;const Rt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=Rt;let Ft=a.WARNINGS;function vt(on){Number.isInteger(on)&&(Ft=on)}function Nt(){return Ft}function Ht(on){Ft>=a.INFOS&&console.log(`Info: ${on}`)}function It(on){Ft>=a.WARNINGS&&console.log(`Warning: ${on}`)}function Mt(on){throw new Error(on)}function jt(on,Yt){on||Mt(Yt)}function ln(on){switch(on==null?void 0:on.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cn(on,Yt=null,Vt=null){if(!on)return null;try{if(Vt&&typeof on=="string"){if(Vt.addDefaultProtocol&&on.startsWith("www.")){const pn=on.match(/\./g);(pn==null?void 0:pn.length)>=2&&(on=`http://${on}`)}if(Vt.tryConvertEncoding)try{on=Wt(on)}catch{}}const hn=Yt?new URL(on,Yt):new URL(on);if(ln(hn))return hn}catch{}return null}function tn(on,Yt,Vt,hn=!1){return Object.defineProperty(on,Yt,{value:Vt,enumerable:!hn,configurable:!0,writable:!1}),Vt}const Pt=function(){function Yt(Vt,hn){this.constructor===Yt&&Mt("Cannot initialize BaseException."),this.message=Vt,this.name=hn}return Yt.prototype=new Error,Yt.constructor=Yt,Yt}();e.BaseException=Pt;class l extends Pt{constructor(Yt,Vt){super(Yt,"PasswordException"),this.code=Vt}}e.PasswordException=l;class h extends Pt{constructor(Yt,Vt){super(Yt,"UnknownErrorException"),this.details=Vt}}e.UnknownErrorException=h;class c extends Pt{constructor(Yt){super(Yt,"InvalidPDFException")}}e.InvalidPDFException=c;class Le extends Pt{constructor(Yt){super(Yt,"MissingPDFException")}}e.MissingPDFException=Le;class Qe extends Pt{constructor(Yt,Vt){super(Yt,"UnexpectedResponseException"),this.status=Vt}}e.UnexpectedResponseException=Qe;class gt extends Pt{constructor(Yt){super(Yt,"FormatError")}}e.FormatError=gt;class Ct extends Pt{constructor(Yt){super(Yt,"AbortException")}}e.AbortException=Ct;function kt(on){(typeof on!="object"||(on==null?void 0:on.length)===void 0)&&Mt("Invalid argument for bytesToString");const Yt=on.length,Vt=8192;if(Yt<Vt)return String.fromCharCode.apply(null,on);const hn=[];for(let pn=0;pn<Yt;pn+=Vt){const Gn=Math.min(pn+Vt,Yt),Hn=on.subarray(pn,Gn);hn.push(String.fromCharCode.apply(null,Hn))}return hn.join("")}function Ut(on){typeof on!="string"&&Mt("Invalid argument for stringToBytes");const Yt=on.length,Vt=new Uint8Array(Yt);for(let hn=0;hn<Yt;++hn)Vt[hn]=on.charCodeAt(hn)&255;return Vt}function Bt(on){return String.fromCharCode(on>>24&255,on>>16&255,on>>8&255,on&255)}function Gt(on){return Object.keys(on).length}function Jt(on){const Yt=Object.create(null);for(const[Vt,hn]of on)Yt[Vt]=hn;return Yt}function sn(){const on=new Uint8Array(4);return on[0]=1,new Uint32Array(on.buffer,0,1)[0]===1}function nn(){try{return new Function(""),!0}catch{return!1}}class _n{static get isLittleEndian(){return tn(this,"isLittleEndian",sn())}static get isEvalSupported(){return tn(this,"isEvalSupported",nn())}static get isOffscreenCanvasSupported(){return tn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?tn(this,"platform",{isWin:!1,isMac:!1}):tn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yt,Vt;return tn(this,"isCSSRoundSupported",(Vt=(Yt=globalThis.CSS)==null?void 0:Yt.supports)==null?void 0:Vt.call(Yt,"width: round(1.5px, 1px)"))}}e.FeatureTest=_n;const Sn=[...Array(256).keys()].map(on=>on.toString(16).padStart(2,"0"));class dn{static makeHexColor(Yt,Vt,hn){return`#${Sn[Yt]}${Sn[Vt]}${Sn[hn]}`}static scaleMinMax(Yt,Vt){let hn;Yt[0]?(Yt[0]<0&&(hn=Vt[0],Vt[0]=Vt[1],Vt[1]=hn),Vt[0]*=Yt[0],Vt[1]*=Yt[0],Yt[3]<0&&(hn=Vt[2],Vt[2]=Vt[3],Vt[3]=hn),Vt[2]*=Yt[3],Vt[3]*=Yt[3]):(hn=Vt[0],Vt[0]=Vt[2],Vt[2]=hn,hn=Vt[1],Vt[1]=Vt[3],Vt[3]=hn,Yt[1]<0&&(hn=Vt[2],Vt[2]=Vt[3],Vt[3]=hn),Vt[2]*=Yt[1],Vt[3]*=Yt[1],Yt[2]<0&&(hn=Vt[0],Vt[0]=Vt[1],Vt[1]=hn),Vt[0]*=Yt[2],Vt[1]*=Yt[2]),Vt[0]+=Yt[4],Vt[1]+=Yt[4],Vt[2]+=Yt[5],Vt[3]+=Yt[5]}static transform(Yt,Vt){return[Yt[0]*Vt[0]+Yt[2]*Vt[1],Yt[1]*Vt[0]+Yt[3]*Vt[1],Yt[0]*Vt[2]+Yt[2]*Vt[3],Yt[1]*Vt[2]+Yt[3]*Vt[3],Yt[0]*Vt[4]+Yt[2]*Vt[5]+Yt[4],Yt[1]*Vt[4]+Yt[3]*Vt[5]+Yt[5]]}static applyTransform(Yt,Vt){const hn=Yt[0]*Vt[0]+Yt[1]*Vt[2]+Vt[4],pn=Yt[0]*Vt[1]+Yt[1]*Vt[3]+Vt[5];return[hn,pn]}static applyInverseTransform(Yt,Vt){const hn=Vt[0]*Vt[3]-Vt[1]*Vt[2],pn=(Yt[0]*Vt[3]-Yt[1]*Vt[2]+Vt[2]*Vt[5]-Vt[4]*Vt[3])/hn,Gn=(-Yt[0]*Vt[1]+Yt[1]*Vt[0]+Vt[4]*Vt[1]-Vt[5]*Vt[0])/hn;return[pn,Gn]}static getAxialAlignedBoundingBox(Yt,Vt){const hn=this.applyTransform(Yt,Vt),pn=this.applyTransform(Yt.slice(2,4),Vt),Gn=this.applyTransform([Yt[0],Yt[3]],Vt),Hn=this.applyTransform([Yt[2],Yt[1]],Vt);return[Math.min(hn[0],pn[0],Gn[0],Hn[0]),Math.min(hn[1],pn[1],Gn[1],Hn[1]),Math.max(hn[0],pn[0],Gn[0],Hn[0]),Math.max(hn[1],pn[1],Gn[1],Hn[1])]}static inverseTransform(Yt){const Vt=Yt[0]*Yt[3]-Yt[1]*Yt[2];return[Yt[3]/Vt,-Yt[1]/Vt,-Yt[2]/Vt,Yt[0]/Vt,(Yt[2]*Yt[5]-Yt[4]*Yt[3])/Vt,(Yt[4]*Yt[1]-Yt[5]*Yt[0])/Vt]}static singularValueDecompose2dScale(Yt){const Vt=[Yt[0],Yt[2],Yt[1],Yt[3]],hn=Yt[0]*Vt[0]+Yt[1]*Vt[2],pn=Yt[0]*Vt[1]+Yt[1]*Vt[3],Gn=Yt[2]*Vt[0]+Yt[3]*Vt[2],Hn=Yt[2]*Vt[1]+Yt[3]*Vt[3],Kt=(hn+Hn)/2,bn=Math.sqrt((hn+Hn)**2-4*(hn*Hn-Gn*pn))/2,Tn=Kt+bn||1,yn=Kt-bn||1;return[Math.sqrt(Tn),Math.sqrt(yn)]}static normalizeRect(Yt){const Vt=Yt.slice(0);return Yt[0]>Yt[2]&&(Vt[0]=Yt[2],Vt[2]=Yt[0]),Yt[1]>Yt[3]&&(Vt[1]=Yt[3],Vt[3]=Yt[1]),Vt}static intersect(Yt,Vt){const hn=Math.max(Math.min(Yt[0],Yt[2]),Math.min(Vt[0],Vt[2])),pn=Math.min(Math.max(Yt[0],Yt[2]),Math.max(Vt[0],Vt[2]));if(hn>pn)return null;const Gn=Math.max(Math.min(Yt[1],Yt[3]),Math.min(Vt[1],Vt[3])),Hn=Math.min(Math.max(Yt[1],Yt[3]),Math.max(Vt[1],Vt[3]));return Gn>Hn?null:[hn,Gn,pn,Hn]}static bezierBoundingBox(Yt,Vt,hn,pn,Gn,Hn,Kt,bn){const Tn=[],yn=[[],[]];let Rn,On,Wn,fn,Bn,wn,Ot,u;for(let Xt=0;Xt<2;++Xt){if(Xt===0?(On=6*Yt-12*hn+6*Gn,Rn=-3*Yt+9*hn-9*Gn+3*Kt,Wn=3*hn-3*Yt):(On=6*Vt-12*pn+6*Hn,Rn=-3*Vt+9*pn-9*Hn+3*bn,Wn=3*pn-3*Vt),Math.abs(Rn)<1e-12){if(Math.abs(On)<1e-12)continue;fn=-Wn/On,0<fn&&fn<1&&Tn.push(fn);continue}Ot=On*On-4*Wn*Rn,u=Math.sqrt(Ot),!(Ot<0)&&(Bn=(-On+u)/(2*Rn),0<Bn&&Bn<1&&Tn.push(Bn),wn=(-On-u)/(2*Rn),0<wn&&wn<1&&Tn.push(wn))}let xt=Tn.length,Dt;const $t=xt;for(;xt--;)fn=Tn[xt],Dt=1-fn,yn[0][xt]=Dt*Dt*Dt*Yt+3*Dt*Dt*fn*hn+3*Dt*fn*fn*Gn+fn*fn*fn*Kt,yn[1][xt]=Dt*Dt*Dt*Vt+3*Dt*Dt*fn*pn+3*Dt*fn*fn*Hn+fn*fn*fn*bn;return yn[0][$t]=Yt,yn[1][$t]=Vt,yn[0][$t+1]=Kt,yn[1][$t+1]=bn,yn[0].length=yn[1].length=$t+2,[Math.min(...yn[0]),Math.min(...yn[1]),Math.max(...yn[0]),Math.max(...yn[1])]}}e.Util=dn;const vn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function an(on){if(on[0]>="ï"){let Vt;if(on[0]==="þ"&&on[1]==="ÿ"?Vt="utf-16be":on[0]==="ÿ"&&on[1]==="þ"?Vt="utf-16le":on[0]==="ï"&&on[1]==="»"&&on[2]==="¿"&&(Vt="utf-8"),Vt)try{const hn=new TextDecoder(Vt,{fatal:!0}),pn=Ut(on);return hn.decode(pn)}catch(hn){It(`stringToPDFString: "${hn}".`)}}const Yt=[];for(let Vt=0,hn=on.length;Vt<hn;Vt++){const pn=vn[on.charCodeAt(Vt)];Yt.push(pn?String.fromCharCode(pn):on.charAt(Vt))}return Yt.join("")}function Wt(on){return decodeURIComponent(escape(on))}function qt(on){return unescape(encodeURIComponent(on))}function Qt(on){return typeof on=="object"&&(on==null?void 0:on.byteLength)!==void 0}function mn(on,Yt){if(on.length!==Yt.length)return!1;for(let Vt=0,hn=on.length;Vt<hn;Vt++)if(on[Vt]!==Yt[Vt])return!1;return!0}function gn(on=new Date){return[on.getUTCFullYear().toString(),(on.getUTCMonth()+1).toString().padStart(2,"0"),on.getUTCDate().toString().padStart(2,"0"),on.getUTCHours().toString().padStart(2,"0"),on.getUTCMinutes().toString().padStart(2,"0"),on.getUTCSeconds().toString().padStart(2,"0")].join("")}class kn{constructor(){Lt(this,Dn,!1);this.promise=new Promise((Yt,Vt)=>{this.resolve=hn=>{Zt(this,Dn,!0),Yt(hn)},this.reject=hn=>{Zt(this,Dn,!0),Vt(hn)}})}get settled(){return o(this,Dn)}}Dn=new WeakMap,e.PromiseCapability=kn;let Mn=null,Fn=null;function In(on){return Mn||(Mn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Fn=new Map([["ﬅ","ſt"]])),on.replaceAll(Mn,(Yt,Vt,hn)=>Vt?Vt.normalize("NFKC"):Fn.get(hn))}function Cn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const on=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(on);else for(let Yt=0;Yt<32;Yt++)on[Yt]=Math.floor(Math.random()*255);return kt(on)}const Ln="pdfjs_internal_id_";e.AnnotationPrefix=Ln},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,i,n,s,tr,$e,_r,P,N,E,St,wt,bt,mt,ft,et,br,At,Et,Or,b,pe;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(d){if(typeof d=="string"||d instanceof URL?d={url:d}:(0,_util.isArrayBuffer)(d)&&(d={data:d}),typeof d!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!d.url&&!d.data&&!d.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,{docId:ot}=a,ze=d.url?getUrlProp(d.url):null,Rt=d.data?getDataProp(d.data):null,Ft=d.httpHeaders||null,vt=d.withCredentials===!0,Nt=d.password??null,Ht=d.range instanceof PDFDataRangeTransport?d.range:null,It=Number.isInteger(d.rangeChunkSize)&&d.rangeChunkSize>0?d.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Mt=d.worker instanceof PDFWorker?d.worker:null;const jt=d.verbosity,ln=typeof d.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(d.docBaseUrl)?d.docBaseUrl:null,cn=typeof d.cMapUrl=="string"?d.cMapUrl:null,tn=d.cMapPacked!==!1,Pt=d.CMapReaderFactory||DefaultCMapReaderFactory,l=typeof d.standardFontDataUrl=="string"?d.standardFontDataUrl:null,h=d.StandardFontDataFactory||DefaultStandardFontDataFactory,c=d.stopAtErrors!==!0,Le=Number.isInteger(d.maxImageSize)&&d.maxImageSize>-1?d.maxImageSize:-1,Qe=d.isEvalSupported!==!1,gt=typeof d.isOffscreenCanvasSupported=="boolean"?d.isOffscreenCanvasSupported:!_util.isNodeJS,Ct=Number.isInteger(d.canvasMaxAreaInBytes)?d.canvasMaxAreaInBytes:-1,kt=typeof d.disableFontFace=="boolean"?d.disableFontFace:_util.isNodeJS,Ut=d.fontExtraProperties===!0,Bt=d.enableXfa===!0,Gt=d.ownerDocument||globalThis.document,Jt=d.disableRange===!0,sn=d.disableStream===!0,nn=d.disableAutoFetch===!0,_n=d.pdfBug===!0,Sn=Ht?Ht.length:d.length??NaN,dn=typeof d.useSystemFonts=="boolean"?d.useSystemFonts:!_util.isNodeJS&&!kt,vn=typeof d.useWorkerFetch=="boolean"?d.useWorkerFetch:Pt===_display_utils.DOMCMapReaderFactory&&h===_display_utils.DOMStandardFontDataFactory&&cn&&l&&(0,_display_utils.isValidFetchUrl)(cn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(l,document.baseURI),an=d.canvasFactory||new DefaultCanvasFactory({ownerDocument:Gt}),Wt=d.filterFactory||new DefaultFilterFactory({docId:ot,ownerDocument:Gt}),qt=null;(0,_util.setVerbosityLevel)(jt);const Qt={canvasFactory:an,filterFactory:Wt};if(vn||(Qt.cMapReaderFactory=new Pt({baseUrl:cn,isCompressed:tn}),Qt.standardFontDataFactory=new h({baseUrl:l})),!Mt){const kn={verbosity:jt,port:_worker_options.GlobalWorkerOptions.workerPort};Mt=kn.port?PDFWorker.fromPort(kn):new PDFWorker(kn),a._worker=Mt}const mn={docId:ot,apiVersion:"3.11.174",data:Rt,password:Nt,disableAutoFetch:nn,rangeChunkSize:It,length:Sn,docBaseUrl:ln,enableXfa:Bt,evaluatorOptions:{maxImageSize:Le,disableFontFace:kt,ignoreErrors:c,isEvalSupported:Qe,isOffscreenCanvasSupported:gt,canvasMaxAreaInBytes:Ct,fontExtraProperties:Ut,useSystemFonts:dn,cMapUrl:vn?cn:null,standardFontDataUrl:vn?l:null}},gn={ignoreErrors:c,isEvalSupported:Qe,disableFontFace:kt,fontExtraProperties:Ut,enableXfa:Bt,ownerDocument:Gt,disableAutoFetch:nn,pdfBug:_n,styleElement:qt};return Mt.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const kn=_fetchDocument(Mt,mn),Mn=new Promise(function(Fn){let In;Ht?In=new _transport_stream.PDFDataTransportStream({length:Sn,initialData:Ht.initialData,progressiveDone:Ht.progressiveDone,contentDispositionFilename:Ht.contentDispositionFilename,disableRange:Jt,disableStream:sn},Ht):Rt||(In=(Ln=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ln):(0,_display_utils.isValidFetchUrl)(Ln.url)?new _displayFetch_stream.PDFFetchStream(Ln):new _displayNetwork.PDFNetworkStream(Ln))({url:ze,length:Sn,httpHeaders:Ft,withCredentials:vt,rangeChunkSize:It,disableRange:Jt,disableStream:sn})),Fn(In)});return Promise.all([kn,Mn]).then(function([Fn,In]){if(a.destroyed)throw new Error("Loading aborted");const Cn=new _message_handler.MessageHandler(ot,Fn,Mt.port),Ln=new WorkerTransport(Cn,a,In,gn,Qt);a._transport=Ln,Cn.send("Ready",null)})}).catch(a._capability.reject),a}async function _fetchDocument(d,a){if(d.destroyed)throw new Error("Worker was destroyed");const ot=await d.messageHandler.sendWithPromise("GetDocRequest",a,a.data?[a.data.buffer]:null);if(d.destroyed)throw new Error("Worker was destroyed");return ot}function getUrlProp(d){if(d instanceof URL)return d.href;try{return new URL(d,window.location).href}catch{if(_util.isNodeJS&&typeof d=="string")return d}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(d){if(_util.isNodeJS&&typeof Buffer<"u"&&d instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength)return d;if(typeof d=="string")return(0,_util.stringToBytes)(d);if(typeof d=="object"&&!isNaN(d==null?void 0:d.length)||(0,_util.isArrayBuffer)(d))return new Uint8Array(d);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${lr(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var a,ot,ze;this.destroyed=!0;try{(a=this._worker)!=null&&a.port&&(this._worker._pendingDestroy=!0),await((ot=this._transport)==null?void 0:ot.destroy())}catch(Rt){throw(ze=this._worker)!=null&&ze.port&&delete this._worker._pendingDestroy,Rt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,Lt(e,t,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,ot,ze=!1,Rt=null){this.length=a,this.initialData=ot,this.progressiveDone=ze,this.contentDispositionFilename=Rt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,ot){for(const ze of this._rangeListeners)ze(a,ot)}onDataProgress(a,ot){this._readyCapability.promise.then(()=>{for(const ze of this._progressListeners)ze(a,ot)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const ot of this._progressiveReadListeners)ot(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,ot){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,ot){this._pdfInfo=a,this._transport=ot,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ze=>{if(!ze)return ze;const Rt=[];for(const Ft in ze)Rt.push(...ze[Ft]);return Rt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,ot,ze,Rt=!1){Lt(this,s);Lt(this,$e);Lt(this,i,null);Lt(this,n,!1);this._pageIndex=a,this._pageInfo=ot,this._transport=ze,this._stats=Rt?new _display_utils.StatTimer:null,this._pdfBug=Rt,this.commonObjs=ze.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:ot=this.rotate,offsetX:ze=0,offsetY:Rt=0,dontFlip:Ft=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:ot,offsetX:ze,offsetY:Rt,dontFlip:Ft})}getAnnotations({intent:a="display"}={}){const ot=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,ot.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var a;return((a=this._transport._htmlForXfa)==null?void 0:a.children[this._pageIndex])||null}render({canvasContext:a,viewport:ot,intent:ze="display",annotationMode:Rt=_util.AnnotationMode.ENABLE,transform:Ft=null,background:vt=null,optionalContentConfigPromise:Nt=null,annotationCanvasMap:Ht=null,pageColors:It=null,printAnnotationStorage:Mt=null}){var h,c;(h=this._stats)==null||h.time("Overall");const jt=this._transport.getRenderingIntent(ze,Rt,Mt);Zt(this,n,!1),zt(this,$e,_r).call(this),Nt||(Nt=this._transport.getOptionalContentConfig());let ln=this._intentStates.get(jt.cacheKey);ln||(ln=Object.create(null),this._intentStates.set(jt.cacheKey,ln)),ln.streamReaderCancelTimeout&&(clearTimeout(ln.streamReaderCancelTimeout),ln.streamReaderCancelTimeout=null);const cn=!!(jt.renderingIntent&_util.RenderingIntentFlag.PRINT);ln.displayReadyCapability||(ln.displayReadyCapability=new _util.PromiseCapability,ln.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(jt));const tn=Le=>{var Qe,gt;ln.renderTasks.delete(Pt),(this._maybeCleanupAfterRender||cn)&&Zt(this,n,!0),zt(this,s,tr).call(this,!cn),Le?(Pt.capability.reject(Le),this._abortOperatorList({intentState:ln,reason:Le instanceof Error?Le:new Error(Le)})):Pt.capability.resolve(),(Qe=this._stats)==null||Qe.timeEnd("Rendering"),(gt=this._stats)==null||gt.timeEnd("Overall")},Pt=new InternalRenderTask({callback:tn,params:{canvasContext:a,viewport:ot,transform:Ft,background:vt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ht,operatorList:ln.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!cn,pdfBug:this._pdfBug,pageColors:It});(ln.renderTasks||(ln.renderTasks=new Set)).add(Pt);const l=Pt.task;return Promise.all([ln.displayReadyCapability.promise,Nt]).then(([Le,Qe])=>{var gt;if(this.destroyed){tn();return}(gt=this._stats)==null||gt.time("Rendering"),Pt.initializeGraphics({transparency:Le,optionalContentConfig:Qe}),Pt.operatorListChanged()}).catch(tn),l}getOperatorList({intent:a="display",annotationMode:ot=_util.AnnotationMode.ENABLE,printAnnotationStorage:ze=null}={}){var Ht;function Rt(){vt.operatorList.lastChunk&&(vt.opListReadCapability.resolve(vt.operatorList),vt.renderTasks.delete(Nt))}const Ft=this._transport.getRenderingIntent(a,ot,ze,!0);let vt=this._intentStates.get(Ft.cacheKey);vt||(vt=Object.create(null),this._intentStates.set(Ft.cacheKey,vt));let Nt;return vt.opListReadCapability||(Nt=Object.create(null),Nt.operatorListChanged=Rt,vt.opListReadCapability=new _util.PromiseCapability,(vt.renderTasks||(vt.renderTasks=new Set)).add(Nt),vt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ht=this._stats)==null||Ht.time("Page Request"),this._pumpOperatorList(Ft)),vt.opListReadCapability.promise}streamTextContent({includeMarkedContent:a=!1,disableNormalization:ot=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:a===!0,disableNormalization:ot===!0},{highWaterMark:100,size(Rt){return Rt.items.length}})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(ze=>_xfa_text.XfaText.textContent(ze));const ot=this.streamTextContent(a);return new Promise(function(ze,Rt){function Ft(){vt.read().then(function({value:Ht,done:It}){if(It){ze(Nt);return}Object.assign(Nt.styles,Ht.styles),Nt.items.push(...Ht.items),Ft()},Rt)}const vt=ot.getReader(),Nt={items:[],styles:Object.create(null)};Ft()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const ot of this._intentStates.values())if(this._abortOperatorList({intentState:ot,reason:new Error("Page was destroyed."),force:!0}),!ot.opListReadCapability)for(const ze of ot.renderTasks)a.push(ze.completed),ze.cancel();return this.objs.clear(),Zt(this,n,!1),zt(this,$e,_r).call(this),Promise.all(a)}cleanup(a=!1){Zt(this,n,!0);const ot=zt(this,s,tr).call(this,!1);return a&&ot&&this._stats&&(this._stats=new _display_utils.StatTimer),ot}_startRenderPage(a,ot){var Rt,Ft;const ze=this._intentStates.get(ot);ze&&((Rt=this._stats)==null||Rt.timeEnd("Page Request"),(Ft=ze.displayReadyCapability)==null||Ft.resolve(a))}_renderPageChunk(a,ot){for(let ze=0,Rt=a.length;ze<Rt;ze++)ot.operatorList.fnArray.push(a.fnArray[ze]),ot.operatorList.argsArray.push(a.argsArray[ze]);ot.operatorList.lastChunk=a.lastChunk,ot.operatorList.separateAnnots=a.separateAnnots;for(const ze of ot.renderTasks)ze.operatorListChanged();a.lastChunk&&zt(this,s,tr).call(this,!0)}_pumpOperatorList({renderingIntent:a,cacheKey:ot,annotationStorageSerializable:ze}){const{map:Rt,transfers:Ft}=ze,Nt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:ot,annotationStorage:Rt},Ft).getReader(),Ht=this._intentStates.get(ot);Ht.streamReader=Nt;const It=()=>{Nt.read().then(({value:Mt,done:jt})=>{if(jt){Ht.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Mt,Ht),It())},Mt=>{if(Ht.streamReader=null,!this._transport.destroyed){if(Ht.operatorList){Ht.operatorList.lastChunk=!0;for(const jt of Ht.renderTasks)jt.operatorListChanged();zt(this,s,tr).call(this,!0)}if(Ht.displayReadyCapability)Ht.displayReadyCapability.reject(Mt);else if(Ht.opListReadCapability)Ht.opListReadCapability.reject(Mt);else throw Mt}})};It()}_abortOperatorList({intentState:a,reason:ot,force:ze=!1}){if(a.streamReader){if(a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null),!ze){if(a.renderTasks.size>0)return;if(ot instanceof _display_utils.RenderingCancelledException){let Rt=RENDERING_CANCELLED_TIMEOUT;ot.extraDelay>0&&ot.extraDelay<1e3&&(Rt+=ot.extraDelay),a.streamReaderCancelTimeout=setTimeout(()=>{a.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:a,reason:ot,force:!0})},Rt);return}}if(a.streamReader.cancel(new _util.AbortException(ot.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[Rt,Ft]of this._intentStates)if(Ft===a){this._intentStates.delete(Rt);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,n=new WeakMap,s=new WeakSet,tr=function(a=!1){if(zt(this,$e,_r).call(this),!o(this,n)||this.destroyed)return!1;if(a)return Zt(this,i,setTimeout(()=>{Zt(this,i,null),zt(this,s,tr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ot,operatorList:ze}of this._intentStates.values())if(ot.size>0||!ze.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Zt(this,n,!1),!0},$e=new WeakSet,_r=function(){o(this,i)&&(clearTimeout(o(this,i)),Zt(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Lt(this,P,new Set);Lt(this,N,Promise.resolve())}postMessage(a,ot){const ze={data:structuredClone(a,ot?{transfer:ot}:null)};o(this,N).then(()=>{for(const Rt of o(this,P))Rt.call(this,ze)})}addEventListener(a,ot){o(this,P).add(ot)}removeEventListener(a,ot){o(this,P).delete(ot)}terminate(){o(this,P).clear()}}P=new WeakMap,N=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const d=(E=document==null?void 0:document.currentScript)==null?void 0:E.src;d&&(PDFWorkerUtil.fallbackWorkerSrc=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(d,a){let ot;try{if(ot=new URL(d),!ot.origin||ot.origin==="null")return!1}catch{return!1}const ze=new URL(a,ot);return ot.origin===ze.origin},PDFWorkerUtil.createCDNWrapper=function(d){const a=`importScripts("${d}");`;return URL.createObjectURL(new Blob([a]))}}const _PDFWorker=class _PDFWorker{constructor({name:d=null,port:a=null,verbosity:ot=(0,_util.getVerbosityLevel)()}={}){var ze;if(this.name=d,this.destroyed=!1,this.verbosity=ot,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,a){if((ze=o(_PDFWorker,St))!=null&&ze.has(a))throw new Error("Cannot use more than one PDFWorker per port.");(o(_PDFWorker,St)||Zt(_PDFWorker,St,new WeakMap)).set(a,this),this._initializeFromPort(a);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(d){this._port=d,this._messageHandler=new _message_handler.MessageHandler("main","worker",d),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:d}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,d)||(d=PDFWorkerUtil.createCDNWrapper(new URL(d,window.location).href));const a=new Worker(d),ot=new _message_handler.MessageHandler("main","worker",a),ze=()=>{a.removeEventListener("error",Rt),ot.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Rt=()=>{this._webWorker||ze()};a.addEventListener("error",Rt),ot.on("test",vt=>{if(a.removeEventListener("error",Rt),this.destroyed){ze();return}vt?(this._messageHandler=ot,this._port=a,this._webWorker=a,this._readyCapability.resolve(),ot.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ot.destroy(),a.terminate())}),ot.on("ready",vt=>{if(a.removeEventListener("error",Rt),this.destroyed){ze();return}try{Ft()}catch{this._setupFakeWorker()}});const Ft=()=>{const vt=new Uint8Array;ot.send("test",vt,[vt.buffer])};Ft();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(d=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const a=new LoopbackPort;this._port=a;const ot=`fake${PDFWorkerUtil.fakeWorkerId++}`,ze=new _message_handler.MessageHandler(ot+"_worker",ot,a);d.setup(ze,a);const Rt=new _message_handler.MessageHandler(ot,ot+"_worker",a);this._messageHandler=Rt,this._readyCapability.resolve(),Rt.send("configure",{verbosity:this.verbosity})}).catch(d=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${d.message}".`))})}destroy(){var d;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(d=o(_PDFWorker,St))==null||d.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(d){var ot;if(!(d!=null&&d.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const a=(ot=o(this,St))==null?void 0:ot.get(d.port);if(a){if(a._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return a}return new _PDFWorker(d)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var d;try{return((d=globalThis.pdfjsWorker)==null?void 0:d.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};St=new WeakMap,Lt(_PDFWorker,St,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(a,ot,ze,Rt,Ft){Lt(this,et);Lt(this,wt,new Map);Lt(this,bt,new Map);Lt(this,mt,new Map);Lt(this,ft,null);this.messageHandler=a,this.loadingTask=ot,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Rt.ownerDocument,styleElement:Rt.styleElement}),this._params=Rt,this.canvasFactory=Ft.canvasFactory,this.filterFactory=Ft.filterFactory,this.cMapReaderFactory=Ft.cMapReaderFactory,this.standardFontDataFactory=Ft.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ze,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(a,ot=_util.AnnotationMode.ENABLE,ze=null,Rt=!1){let Ft=_util.RenderingIntentFlag.DISPLAY,vt=_annotation_storage.SerializableEmpty;switch(a){case"any":Ft=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ft=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(ot){case _util.AnnotationMode.DISABLE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,vt=(Ft&_util.RenderingIntentFlag.PRINT&&ze instanceof _annotation_storage.PrintAnnotationStorage?ze:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ot}`)}return Rt&&(Ft+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ft,cacheKey:`${Ft}_${vt.hash}`,annotationStorageSerializable:vt}}destroy(){var ze;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(ze=o(this,ft))==null||ze.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const Rt of o(this,bt).values())a.push(Rt._destroy());o(this,bt).clear(),o(this,mt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ot=this.messageHandler.sendWithPromise("Terminate",null);return a.push(ot),Promise.all(a).then(()=>{var Rt;this.commonObjs.clear(),this.fontLoader.clear(),o(this,wt).clear(),this.filterFactory.destroy(),(Rt=this._networkStream)==null||Rt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:ot}=this;a.on("GetReader",(ze,Rt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ft=>{this._lastProgress={loaded:Ft.loaded,total:Ft.total}},Rt.onPull=()=>{this._fullReader.read().then(function({value:Ft,done:vt}){if(vt){Rt.close();return}(0,_util.assert)(Ft instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Rt.enqueue(new Uint8Array(Ft),1,[Ft])}).catch(Ft=>{Rt.error(Ft)})},Rt.onCancel=Ft=>{this._fullReader.cancel(Ft),Rt.ready.catch(vt=>{if(!this.destroyed)throw vt})}}),a.on("ReaderHeadersReady",ze=>{const Rt=new _util.PromiseCapability,Ft=this._fullReader;return Ft.headersReady.then(()=>{var vt;(!Ft.isStreamingSupported||!Ft.isRangeSupported)&&(this._lastProgress&&((vt=ot.onProgress)==null||vt.call(ot,this._lastProgress)),Ft.onProgress=Nt=>{var Ht;(Ht=ot.onProgress)==null||Ht.call(ot,{loaded:Nt.loaded,total:Nt.total})}),Rt.resolve({isStreamingSupported:Ft.isStreamingSupported,isRangeSupported:Ft.isRangeSupported,contentLength:Ft.contentLength})},Rt.reject),Rt.promise}),a.on("GetRangeReader",(ze,Rt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ft=this._networkStream.getRangeReader(ze.begin,ze.end);if(!Ft){Rt.close();return}Rt.onPull=()=>{Ft.read().then(function({value:vt,done:Nt}){if(Nt){Rt.close();return}(0,_util.assert)(vt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Rt.enqueue(new Uint8Array(vt),1,[vt])}).catch(vt=>{Rt.error(vt)})},Rt.onCancel=vt=>{Ft.cancel(vt),Rt.ready.catch(Nt=>{if(!this.destroyed)throw Nt})}}),a.on("GetDoc",({pdfInfo:ze})=>{this._numPages=ze.numPages,this._htmlForXfa=ze.htmlForXfa,delete ze.htmlForXfa,ot._capability.resolve(new PDFDocumentProxy(ze,this))}),a.on("DocException",function(ze){let Rt;switch(ze.name){case"PasswordException":Rt=new _util.PasswordException(ze.message,ze.code);break;case"InvalidPDFException":Rt=new _util.InvalidPDFException(ze.message);break;case"MissingPDFException":Rt=new _util.MissingPDFException(ze.message);break;case"UnexpectedResponseException":Rt=new _util.UnexpectedResponseException(ze.message,ze.status);break;case"UnknownErrorException":Rt=new _util.UnknownErrorException(ze.message,ze.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ot._capability.reject(Rt)}),a.on("PasswordRequest",ze=>{if(Zt(this,ft,new _util.PromiseCapability),ot.onPassword){const Rt=Ft=>{Ft instanceof Error?o(this,ft).reject(Ft):o(this,ft).resolve({password:Ft})};try{ot.onPassword(Rt,ze.code)}catch(Ft){o(this,ft).reject(Ft)}}else o(this,ft).reject(new _util.PasswordException(ze.message,ze.code));return o(this,ft).promise}),a.on("DataLoaded",ze=>{var Rt;(Rt=ot.onProgress)==null||Rt.call(ot,{loaded:ze.length,total:ze.length}),this.downloadInfoCapability.resolve(ze)}),a.on("StartRenderPage",ze=>{if(this.destroyed)return;o(this,bt).get(ze.pageIndex)._startRenderPage(ze.transparency,ze.cacheKey)}),a.on("commonobj",([ze,Rt,Ft])=>{var vt;if(!this.destroyed&&!this.commonObjs.has(ze))switch(Rt){case"Font":const Nt=this._params;if("error"in Ft){const Mt=Ft.error;(0,_util.warn)(`Error during font loading: ${Mt}`),this.commonObjs.resolve(ze,Mt);break}const Ht=Nt.pdfBug&&((vt=globalThis.FontInspector)!=null&&vt.enabled)?(Mt,jt)=>globalThis.FontInspector.fontAdded(Mt,jt):null,It=new _font_loader.FontFaceObject(Ft,{isEvalSupported:Nt.isEvalSupported,disableFontFace:Nt.disableFontFace,ignoreErrors:Nt.ignoreErrors,inspectFont:Ht});this.fontLoader.bind(It).catch(Mt=>a.sendWithPromise("FontFallback",{id:ze})).finally(()=>{!Nt.fontExtraProperties&&It.data&&(It.data=null),this.commonObjs.resolve(ze,It)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ze,Ft);break;default:throw new Error(`Got unknown common object type ${Rt}`)}}),a.on("obj",([ze,Rt,Ft,vt])=>{var Ht;if(this.destroyed)return;const Nt=o(this,bt).get(Rt);if(!Nt.objs.has(ze))switch(Ft){case"Image":if(Nt.objs.resolve(ze,vt),vt){let It;if(vt.bitmap){const{width:Mt,height:jt}=vt;It=Mt*jt*4}else It=((Ht=vt.data)==null?void 0:Ht.length)||0;It>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Nt._maybeCleanupAfterRender=!0)}break;case"Pattern":Nt.objs.resolve(ze,vt);break;default:throw new Error(`Got unknown object type ${Ft}`)}}),a.on("DocProgress",ze=>{var Rt;this.destroyed||(Rt=ot.onProgress)==null||Rt.call(ot,{loaded:ze.loaded,total:ze.total})}),a.on("FetchBuiltInCMap",ze=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ze):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",ze=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ze):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ze;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:a,transfers:ot}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:a,filename:((ze=this._fullReader)==null?void 0:ze.filename)??null},ot).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const ot=a-1,ze=o(this,mt).get(ot);if(ze)return ze;const Rt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ot}).then(Ft=>{if(this.destroyed)throw new Error("Transport destroyed");const vt=new PDFPageProxy(ot,Ft,this,this._params.pdfBug);return o(this,bt).set(ot,vt),vt});return o(this,mt).set(ot,Rt),Rt}getPageIndex(a){return typeof a!="object"||a===null||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,ot){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:ot})}getFieldObjects(){return zt(this,et,br).call(this,"GetFieldObjects")}hasJSActions(){return zt(this,et,br).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return typeof a!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return zt(this,et,br).call(this,"GetDocJSActions")}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const a="GetMetadata",ot=o(this,wt).get(a);if(ot)return ot;const ze=this.messageHandler.sendWithPromise(a,null).then(Rt=>{var Ft,vt;return{info:Rt[0],metadata:Rt[1]?new _metadata.Metadata(Rt[1]):null,contentDispositionFilename:((Ft=this._fullReader)==null?void 0:Ft.filename)??null,contentLength:((vt=this._fullReader)==null?void 0:vt.contentLength)??null}});return o(this,wt).set(a,ze),ze}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(a=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ot of o(this,bt).values())if(!ot.cleanup())throw new Error(`startCleanup: Page ${ot.pageNumber} is currently rendering.`);this.commonObjs.clear(),a||this.fontLoader.clear(),o(this,wt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:a,enableXfa:ot}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a,enableXfa:ot})}}wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,ft=new WeakMap,et=new WeakSet,br=function(a,ot=null){const ze=o(this,wt).get(a);if(ze)return ze;const Rt=this.messageHandler.sendWithPromise(a,ot);return o(this,wt).set(a,Rt),Rt};class PDFObjects{constructor(){Lt(this,Et);Lt(this,At,Object.create(null))}get(a,ot=null){if(ot){const Rt=zt(this,Et,Or).call(this,a);return Rt.capability.promise.then(()=>ot(Rt.data)),null}const ze=o(this,At)[a];if(!(ze!=null&&ze.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${a}.`);return ze.data}has(a){const ot=o(this,At)[a];return(ot==null?void 0:ot.capability.settled)||!1}resolve(a,ot=null){const ze=zt(this,Et,Or).call(this,a);ze.data=ot,ze.capability.resolve()}clear(){var a;for(const ot in o(this,At)){const{data:ze}=o(this,At)[ot];(a=ze==null?void 0:ze.bitmap)==null||a.close()}Zt(this,At,Object.create(null))}}At=new WeakMap,Et=new WeakSet,Or=function(a){var ot;return(ot=o(this,At))[a]||(ot[a]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(a){Lt(this,b,null);Zt(this,b,a),this.onContinue=null}get promise(){return o(this,b).capability.promise}cancel(a=0){o(this,b).cancel(null,a)}get separateAnnots(){const{separateAnnots:a}=o(this,b).operatorList;if(!a)return!1;const{annotationCanvasMap:ot}=o(this,b);return a.form||a.canvas&&(ot==null?void 0:ot.size)>0}}b=new WeakMap,exports.RenderTask=RenderTask;const yt=class yt{constructor({callback:a,params:ot,objs:ze,commonObjs:Rt,annotationCanvasMap:Ft,operatorList:vt,pageIndex:Nt,canvasFactory:Ht,filterFactory:It,useRequestAnimationFrame:Mt=!1,pdfBug:jt=!1,pageColors:ln=null}){this.callback=a,this.params=ot,this.objs=ze,this.commonObjs=Rt,this.annotationCanvasMap=Ft,this.operatorListIdx=null,this.operatorList=vt,this._pageIndex=Nt,this.canvasFactory=Ht,this.filterFactory=It,this._pdfBug=jt,this.pageColors=ln,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Mt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ot.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:ot}){var Nt,Ht;if(this.cancelled)return;if(this._canvas){if(o(yt,pe).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(yt,pe).add(this._canvas)}this._pdfBug&&((Nt=globalThis.StepperManager)!=null&&Nt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ze,viewport:Rt,transform:Ft,background:vt}=this.params;this.gfx=new _canvas.CanvasGraphics(ze,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ot},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ft,viewport:Rt,transparency:a,background:vt}),this.operatorListIdx=0,this.graphicsReady=!0,(Ht=this.graphicsReadyCallback)==null||Ht.call(this)}cancel(a=null,ot=0){var ze;this.running=!1,this.cancelled=!0,(ze=this.gfx)==null||ze.endDrawing(),o(yt,pe).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ot))}operatorListChanged(){var a;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(a=this.stepper)==null||a.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(yt,pe).delete(this._canvas),this.callback())))}};pe=new WeakMap,Lt(yt,pe,new WeakSet);let InternalRenderTask=yt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,e,i)=>{var N,E,St,fi,bt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=i(1),s=i(4),p=i(8);const $e=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=$e;class Tt{constructor(){Lt(this,St);Lt(this,N,!1);Lt(this,E,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ft,et){const dt=o(this,E).get(ft);return dt===void 0?et:Object.assign(et,dt)}getRawValue(ft){return o(this,E).get(ft)}remove(ft){if(o(this,E).delete(ft),o(this,E).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const et of o(this,E).values())if(et instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ft,et){const dt=o(this,E).get(ft);let At=!1;if(dt!==void 0)for(const[Et,_t]of Object.entries(et))dt[Et]!==_t&&(At=!0,dt[Et]=_t);else At=!0,o(this,E).set(ft,et);At&&zt(this,St,fi).call(this),et instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(et.constructor._type)}has(ft){return o(this,E).has(ft)}getAll(){return o(this,E).size>0?(0,n.objectFromMap)(o(this,E)):null}setAll(ft){for(const[et,dt]of Object.entries(ft))this.setValue(et,dt)}get size(){return o(this,E).size}resetModified(){o(this,N)&&(Zt(this,N,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new P(this)}get serializable(){if(o(this,E).size===0)return $e;const ft=new Map,et=new p.MurmurHash3_64,dt=[],At=Object.create(null);let Et=!1;for(const[_t,b]of o(this,E)){const pe=b instanceof s.AnnotationEditor?b.serialize(!1,At):b;pe&&(ft.set(_t,pe),et.update(`${_t}:${JSON.stringify(pe)}`),Et||(Et=!!pe.bitmap))}if(Et)for(const _t of ft.values())_t.bitmap&&dt.push(_t.bitmap);return ft.size>0?{map:ft,hash:et.hexdigest(),transfers:dt}:$e}}N=new WeakMap,E=new WeakMap,St=new WeakSet,fi=function(){o(this,N)||(Zt(this,N,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=Tt;class P extends Tt{constructor(et){super();Lt(this,bt,void 0);const{map:dt,hash:At,transfers:Et}=et.serializable,_t=structuredClone(dt,Et?{transfer:Et}:null);Zt(this,bt,{map:_t,hash:At,transfers:Et})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,bt)}}bt=new WeakMap,e.PrintAnnotationStorage=P},(t,e,i)=>{var P,N,E,St,wt,bt,mt,ft,et,dt,At,Et,_t,b,pe,Dr,d,Mr,ot,Lr,Rt,Ir,vt,pi,Ht,gi,Mt,mi,ln,Nr,tn,_i;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=i(5),s=i(1),p=i(6);const l=class l{constructor(c){Lt(this,pe);Lt(this,d);Lt(this,Rt);Lt(this,vt);Lt(this,Ht);Lt(this,Mt);Lt(this,ln);Lt(this,tn);Lt(this,P,"");Lt(this,N,!1);Lt(this,E,null);Lt(this,St,null);Lt(this,wt,null);Lt(this,bt,!1);Lt(this,mt,null);Lt(this,ft,this.focusin.bind(this));Lt(this,et,this.focusout.bind(this));Lt(this,dt,!1);Lt(this,At,!1);Lt(this,Et,!1);Vn(this,"_initialOptions",Object.create(null));Vn(this,"_uiManager",null);Vn(this,"_focusEventsAllowed",!0);Vn(this,"_l10nPromise",null);Lt(this,_t,!1);Lt(this,b,l._zIndex++);this.constructor===l&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=c.parent,this.id=c.id,this.width=this.height=null,this.pageIndex=c.parent.pageIndex,this.name=c.name,this.div=null,this._uiManager=c.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=c.isCentered,this._structTreeParentId=null;const{rotation:Le,rawDims:{pageWidth:Qe,pageHeight:gt,pageX:Ct,pageY:kt}}=this.parent.viewport;this.rotation=Le,this.pageRotation=(360+Le-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Qe,gt],this.pageTranslation=[Ct,kt];const[Ut,Bt]=this.parentDimensions;this.x=c.x/Ut,this.y=c.y/Bt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(c){const Le=new Tt({id:c.parent.getNextId(),parent:c.parent,uiManager:c._uiManager});Le.annotationElementId=c.annotationElementId,Le.deleted=!0,Le._uiManager.addToAnnotationStorage(Le)}static initialize(c,Le=null){if(l._l10nPromise||(l._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(gt=>[gt,c.get(gt)]))),Le!=null&&Le.strings)for(const gt of Le.strings)l._l10nPromise.set(gt,c.get(gt));if(l._borderLineWidth!==-1)return;const Qe=getComputedStyle(document.documentElement);l._borderLineWidth=parseFloat(Qe.getPropertyValue("--outline-width"))||0}static updateDefaultParams(c,Le){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(c){return!1}static paste(c,Le){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,_t)}set _isDraggable(c){var Le;Zt(this,_t,c),(Le=this.div)==null||Le.classList.toggle("draggable",c)}center(){const[c,Le]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Le/(c*2),this.y+=this.width*c/(Le*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Le/(c*2),this.y-=this.width*c/(Le*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(c){this._uiManager.addCommands(c)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,b)}setParent(c){c!==null&&(this.pageIndex=c.pageIndex,this.pageDimensions=c.pageDimensions),this.parent=c}focusin(c){this._focusEventsAllowed&&(o(this,dt)?Zt(this,dt,!1):this.parent.setSelected(this))}focusout(c){var Qe;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Le=c.relatedTarget;Le!=null&&Le.closest(`#${this.id}`)||(c.preventDefault(),(Qe=this.parent)!=null&&Qe.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(c,Le,Qe,gt){const[Ct,kt]=this.parentDimensions;[Qe,gt]=this.screenToPageTranslation(Qe,gt),this.x=(c+Qe)/Ct,this.y=(Le+gt)/kt,this.fixAndSetPosition()}translate(c,Le){zt(this,pe,Dr).call(this,this.parentDimensions,c,Le)}translateInPage(c,Le){zt(this,pe,Dr).call(this,this.pageDimensions,c,Le),this.div.scrollIntoView({block:"nearest"})}drag(c,Le){const[Qe,gt]=this.parentDimensions;if(this.x+=c/Qe,this.y+=Le/gt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Gt,y:Jt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Gt,Jt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ct,y:kt}=this;const[Ut,Bt]=zt(this,d,Mr).call(this);Ct+=Ut,kt+=Bt,this.div.style.left=`${(100*Ct).toFixed(2)}%`,this.div.style.top=`${(100*kt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[c,Le]=this.pageDimensions;let{x:Qe,y:gt,width:Ct,height:kt}=this;switch(Ct*=c,kt*=Le,Qe*=c,gt*=Le,this.rotation){case 0:Qe=Math.max(0,Math.min(c-Ct,Qe)),gt=Math.max(0,Math.min(Le-kt,gt));break;case 90:Qe=Math.max(0,Math.min(c-kt,Qe)),gt=Math.min(Le,Math.max(Ct,gt));break;case 180:Qe=Math.min(c,Math.max(Ct,Qe)),gt=Math.min(Le,Math.max(kt,gt));break;case 270:Qe=Math.min(c,Math.max(kt,Qe)),gt=Math.max(0,Math.min(Le-Ct,gt));break}this.x=Qe/=c,this.y=gt/=Le;const[Ut,Bt]=zt(this,d,Mr).call(this);Qe+=Ut,gt+=Bt;const{style:Gt}=this.div;Gt.left=`${(100*Qe).toFixed(2)}%`,Gt.top=`${(100*gt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(c,Le){var Qe;return zt(Qe=l,ot,Lr).call(Qe,c,Le,this.parentRotation)}pageTranslationToScreen(c,Le){var Qe;return zt(Qe=l,ot,Lr).call(Qe,c,Le,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:c,pageDimensions:[Le,Qe]}=this,gt=Le*c,Ct=Qe*c;return s.FeatureTest.isCSSRoundSupported?[Math.round(gt),Math.round(Ct)]:[gt,Ct]}setDims(c,Le){var Ct;const[Qe,gt]=this.parentDimensions;this.div.style.width=`${(100*c/Qe).toFixed(2)}%`,o(this,bt)||(this.div.style.height=`${(100*Le/gt).toFixed(2)}%`),(Ct=o(this,E))==null||Ct.classList.toggle("small",c<l.SMALL_EDITOR_SIZE||Le<l.SMALL_EDITOR_SIZE)}fixDims(){const{style:c}=this.div,{height:Le,width:Qe}=c,gt=Qe.endsWith("%"),Ct=!o(this,bt)&&Le.endsWith("%");if(gt&&Ct)return;const[kt,Ut]=this.parentDimensions;gt||(c.width=`${(100*parseFloat(Qe)/kt).toFixed(2)}%`),!o(this,bt)&&!Ct&&(c.height=`${(100*parseFloat(Le)/Ut).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(o(this,E))return;const c=Zt(this,E,document.createElement("button"));c.className="altText";const Le=await l._l10nPromise.get("editor_alt_text_button_label");c.textContent=Le,c.setAttribute("aria-label",Le),c.tabIndex="0",c.addEventListener("contextmenu",p.noContextMenu),c.addEventListener("pointerdown",Qe=>Qe.stopPropagation()),c.addEventListener("click",Qe=>{Qe.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),c.addEventListener("keydown",Qe=>{Qe.target===c&&Qe.key==="Enter"&&(Qe.preventDefault(),this._uiManager.editAltText(this))}),zt(this,ln,Nr).call(this),this.div.append(c),l.SMALL_EDITOR_SIZE||(l.SMALL_EDITOR_SIZE=Math.min(128,Math.round(c.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:o(this,P),decorative:o(this,N)}}set altTextData({altText:c,decorative:Le}){o(this,P)===c&&o(this,N)===Le||(Zt(this,P,c),Zt(this,N,Le),zt(this,ln,Nr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",o(this,ft)),this.div.addEventListener("focusout",o(this,et));const[c,Le]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Le/c).toFixed(2)}%`,this.div.style.maxHeight=`${(100*c/Le).toFixed(2)}%`);const[Qe,gt]=this.getInitialTranslation();return this.translate(Qe,gt),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(c){const{isMac:Le}=s.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&Le){c.preventDefault();return}Zt(this,dt,!0),zt(this,tn,_i).call(this,c)}moveInDOM(){var c;(c=this.parent)==null||c.moveEditorInDOM(this)}_setParentAndPosition(c,Le,Qe){c.changeParent(this),this.x=Le,this.y=Qe,this.fixAndSetPosition()}getRect(c,Le){const Qe=this.parentScale,[gt,Ct]=this.pageDimensions,[kt,Ut]=this.pageTranslation,Bt=c/Qe,Gt=Le/Qe,Jt=this.x*gt,sn=this.y*Ct,nn=this.width*gt,_n=this.height*Ct;switch(this.rotation){case 0:return[Jt+Bt+kt,Ct-sn-Gt-_n+Ut,Jt+Bt+nn+kt,Ct-sn-Gt+Ut];case 90:return[Jt+Gt+kt,Ct-sn+Bt+Ut,Jt+Gt+_n+kt,Ct-sn+Bt+nn+Ut];case 180:return[Jt-Bt-nn+kt,Ct-sn+Gt+Ut,Jt-Bt+kt,Ct-sn+Gt+_n+Ut];case 270:return[Jt-Gt-_n+kt,Ct-sn-Bt-nn+Ut,Jt-Gt+kt,Ct-sn-Bt+Ut];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(c,Le){const[Qe,gt,Ct,kt]=c,Ut=Ct-Qe,Bt=kt-gt;switch(this.rotation){case 0:return[Qe,Le-kt,Ut,Bt];case 90:return[Qe,Le-gt,Bt,Ut];case 180:return[Ct,Le-gt,Ut,Bt];case 270:return[Ct,Le-kt,Bt,Ut];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Zt(this,Et,!0)}disableEditMode(){Zt(this,Et,!1)}isInEditMode(){return o(this,Et)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var c,Le;(c=this.div)==null||c.addEventListener("focusin",o(this,ft)),(Le=this.div)==null||Le.addEventListener("focusout",o(this,et))}serialize(c=!1,Le=null){(0,s.unreachable)("An editor must be serializable")}static deserialize(c,Le,Qe){const gt=new this.prototype.constructor({parent:Le,id:Le.getNextId(),uiManager:Qe});gt.rotation=c.rotation;const[Ct,kt]=gt.pageDimensions,[Ut,Bt,Gt,Jt]=gt.getRectInCurrentCoords(c.rect,kt);return gt.x=Ut/Ct,gt.y=Bt/kt,gt.width=Gt/Ct,gt.height=Jt/kt,gt}remove(){var c;this.div.removeEventListener("focusin",o(this,ft)),this.div.removeEventListener("focusout",o(this,et)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(c=o(this,E))==null||c.remove(),Zt(this,E,null),Zt(this,St,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(zt(this,vt,pi).call(this),o(this,mt).classList.remove("hidden"))}select(){var c;this.makeResizable(),(c=this.div)==null||c.classList.add("selectedEditor")}unselect(){var c,Le,Qe;(c=o(this,mt))==null||c.classList.add("hidden"),(Le=this.div)==null||Le.classList.remove("selectedEditor"),(Qe=this.div)!=null&&Qe.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(c,Le){}disableEditing(){o(this,E)&&(o(this,E).hidden=!0)}enableEditing(){o(this,E)&&(o(this,E).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return o(this,At)}set isEditing(c){Zt(this,At,c),this.parent&&(c?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(c,Le){Zt(this,bt,!0);const Qe=c/Le,{style:gt}=this.div;gt.aspectRatio=Qe,gt.height="auto"}static get MIN_SIZE(){return 16}};P=new WeakMap,N=new WeakMap,E=new WeakMap,St=new WeakMap,wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,ft=new WeakMap,et=new WeakMap,dt=new WeakMap,At=new WeakMap,Et=new WeakMap,_t=new WeakMap,b=new WeakMap,pe=new WeakSet,Dr=function([c,Le],Qe,gt){[Qe,gt]=this.screenToPageTranslation(Qe,gt),this.x+=Qe/c,this.y+=gt/Le,this.fixAndSetPosition()},d=new WeakSet,Mr=function(){const[c,Le]=this.parentDimensions,{_borderLineWidth:Qe}=l,gt=Qe/c,Ct=Qe/Le;switch(this.rotation){case 90:return[-gt,Ct];case 180:return[gt,Ct];case 270:return[gt,-Ct];default:return[-gt,-Ct]}},ot=new WeakSet,Lr=function(c,Le,Qe){switch(Qe){case 90:return[Le,-c];case 180:return[-c,-Le];case 270:return[-Le,c];default:return[c,Le]}},Rt=new WeakSet,Ir=function(c){switch(c){case 90:{const[Le,Qe]=this.pageDimensions;return[0,-Le/Qe,Qe/Le,0]}case 180:return[-1,0,0,-1];case 270:{const[Le,Qe]=this.pageDimensions;return[0,Le/Qe,-Qe/Le,0]}default:return[1,0,0,1]}},vt=new WeakSet,pi=function(){if(o(this,mt))return;Zt(this,mt,document.createElement("div")),o(this,mt).classList.add("resizers");const c=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||c.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Le of c){const Qe=document.createElement("div");o(this,mt).append(Qe),Qe.classList.add("resizer",Le),Qe.addEventListener("pointerdown",zt(this,Ht,gi).bind(this,Le)),Qe.addEventListener("contextmenu",p.noContextMenu)}this.div.prepend(o(this,mt))},Ht=new WeakSet,gi=function(c,Le){Le.preventDefault();const{isMac:Qe}=s.FeatureTest.platform;if(Le.button!==0||Le.ctrlKey&&Qe)return;const gt=zt(this,Mt,mi).bind(this,c),Ct=this._isDraggable;this._isDraggable=!1;const kt={passive:!0,capture:!0};window.addEventListener("pointermove",gt,kt);const Ut=this.x,Bt=this.y,Gt=this.width,Jt=this.height,sn=this.parent.div.style.cursor,nn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Le.target).cursor;const _n=()=>{this._isDraggable=Ct,window.removeEventListener("pointerup",_n),window.removeEventListener("blur",_n),window.removeEventListener("pointermove",gt,kt),this.parent.div.style.cursor=sn,this.div.style.cursor=nn;const Sn=this.x,dn=this.y,vn=this.width,an=this.height;Sn===Ut&&dn===Bt&&vn===Gt&&an===Jt||this.addCommands({cmd:()=>{this.width=vn,this.height=an,this.x=Sn,this.y=dn;const[Wt,qt]=this.parentDimensions;this.setDims(Wt*vn,qt*an),this.fixAndSetPosition()},undo:()=>{this.width=Gt,this.height=Jt,this.x=Ut,this.y=Bt;const[Wt,qt]=this.parentDimensions;this.setDims(Wt*Gt,qt*Jt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",_n),window.addEventListener("blur",_n)},Mt=new WeakSet,mi=function(c,Le){const[Qe,gt]=this.parentDimensions,Ct=this.x,kt=this.y,Ut=this.width,Bt=this.height,Gt=l.MIN_SIZE/Qe,Jt=l.MIN_SIZE/gt,sn=hn=>Math.round(hn*1e4)/1e4,nn=zt(this,Rt,Ir).call(this,this.rotation),_n=(hn,pn)=>[nn[0]*hn+nn[2]*pn,nn[1]*hn+nn[3]*pn],Sn=zt(this,Rt,Ir).call(this,360-this.rotation),dn=(hn,pn)=>[Sn[0]*hn+Sn[2]*pn,Sn[1]*hn+Sn[3]*pn];let vn,an,Wt=!1,qt=!1;switch(c){case"topLeft":Wt=!0,vn=(hn,pn)=>[0,0],an=(hn,pn)=>[hn,pn];break;case"topMiddle":vn=(hn,pn)=>[hn/2,0],an=(hn,pn)=>[hn/2,pn];break;case"topRight":Wt=!0,vn=(hn,pn)=>[hn,0],an=(hn,pn)=>[0,pn];break;case"middleRight":qt=!0,vn=(hn,pn)=>[hn,pn/2],an=(hn,pn)=>[0,pn/2];break;case"bottomRight":Wt=!0,vn=(hn,pn)=>[hn,pn],an=(hn,pn)=>[0,0];break;case"bottomMiddle":vn=(hn,pn)=>[hn/2,pn],an=(hn,pn)=>[hn/2,0];break;case"bottomLeft":Wt=!0,vn=(hn,pn)=>[0,pn],an=(hn,pn)=>[hn,0];break;case"middleLeft":qt=!0,vn=(hn,pn)=>[0,pn/2],an=(hn,pn)=>[hn,pn/2];break}const Qt=vn(Ut,Bt),mn=an(Ut,Bt);let gn=_n(...mn);const kn=sn(Ct+gn[0]),Mn=sn(kt+gn[1]);let Fn=1,In=1,[Cn,Ln]=this.screenToPageTranslation(Le.movementX,Le.movementY);if([Cn,Ln]=dn(Cn/Qe,Ln/gt),Wt){const hn=Math.hypot(Ut,Bt);Fn=In=Math.max(Math.min(Math.hypot(mn[0]-Qt[0]-Cn,mn[1]-Qt[1]-Ln)/hn,1/Ut,1/Bt),Gt/Ut,Jt/Bt)}else qt?Fn=Math.max(Gt,Math.min(1,Math.abs(mn[0]-Qt[0]-Cn)))/Ut:In=Math.max(Jt,Math.min(1,Math.abs(mn[1]-Qt[1]-Ln)))/Bt;const Dn=sn(Ut*Fn),on=sn(Bt*In);gn=_n(...an(Dn,on));const Yt=kn-gn[0],Vt=Mn-gn[1];this.width=Dn,this.height=on,this.x=Yt,this.y=Vt,this.setDims(Qe*Dn,gt*on),this.fixAndSetPosition()},ln=new WeakSet,Nr=async function(){var Qe;const c=o(this,E);if(!c)return;if(!o(this,P)&&!o(this,N)){c.classList.remove("done"),(Qe=o(this,St))==null||Qe.remove();return}l._l10nPromise.get("editor_alt_text_edit_button_label").then(gt=>{c.setAttribute("aria-label",gt)});let Le=o(this,St);if(!Le){Zt(this,St,Le=document.createElement("span")),Le.className="tooltip",Le.setAttribute("role","tooltip");const gt=Le.id=`alt-text-tooltip-${this.id}`;c.setAttribute("aria-describedby",gt);const Ct=100;c.addEventListener("mouseenter",()=>{Zt(this,wt,setTimeout(()=>{Zt(this,wt,null),o(this,St).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ct))}),c.addEventListener("mouseleave",()=>{var kt;clearTimeout(o(this,wt)),Zt(this,wt,null),(kt=o(this,St))==null||kt.classList.remove("show")})}c.classList.add("done"),Le.innerText=o(this,N)?await l._l10nPromise.get("editor_alt_text_decorative_tooltip"):o(this,P),Le.parentNode||c.append(Le)},tn=new WeakSet,_i=function(c){if(!this._isDraggable)return;const Le=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Qe,gt;Le&&(Qe={passive:!0,capture:!0},gt=kt=>{const[Ut,Bt]=this.screenToPageTranslation(kt.movementX,kt.movementY);this._uiManager.dragSelectedEditors(Ut,Bt)},window.addEventListener("pointermove",gt,Qe));const Ct=()=>{if(window.removeEventListener("pointerup",Ct),window.removeEventListener("blur",Ct),Le&&window.removeEventListener("pointermove",gt,Qe),Zt(this,dt,!1),!this._uiManager.endDragSession()){const{isMac:kt}=s.FeatureTest.platform;c.ctrlKey&&!kt||c.shiftKey||c.metaKey&&kt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ct),window.addEventListener("blur",Ct)},Lt(l,ot),Vn(l,"_borderLineWidth",-1),Vn(l,"_colorManager",new n.ColorManager),Vn(l,"_zIndex",1),Vn(l,"SMALL_EDITOR_SIZE",0);let $e=l;e.AnnotationEditor=$e;class Tt extends $e{constructor(c){super(c),this.annotationElementId=c.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,i)=>{var bt,mt,ft,et,dt,$r,_t,b,pe,yt,d,bi,ze,Rt,Ft,vt,Nt,Ht,It,Mt,jt,ln,cn,tn,Pt,l,h,c,Le,Qe,gt,Ct,kt,Ut,Bt,Gt,Jt,sn,nn,_n,Sn,dn,vn,an,Wt,qt,Qt,vi,gn,jr,Mn,Br,In,vr,Ln,Ur,on,Wr,Vt,Kn,pn,cr,Hn,yi,bn,Ai,yn,zr,On,ur,fn,Hr;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=p,e.opacityToHex=$e;var n=i(1),s=i(6);function p(Ot,u,xt){for(const Dt of xt)u.addEventListener(Dt,Ot[Dt].bind(Ot))}function $e(Ot){return Math.round(Math.min(255,Math.max(1,255*Ot))).toString(16).padStart(2,"0")}class Tt{constructor(){Lt(this,bt,0)}getId(){return`${n.AnnotationEditorPrefix}${lr(this,bt)._++}`}}bt=new WeakMap;const Et=class Et{constructor(){Lt(this,dt);Lt(this,mt,(0,n.getUuid)());Lt(this,ft,0);Lt(this,et,null)}static get _isSVGFittingCanvas(){const u='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Dt=new OffscreenCanvas(1,3).getContext("2d"),$t=new Image;$t.src=u;const Xt=$t.decode().then(()=>(Dt.drawImage($t,0,0,1,1,0,0,1,3),new Uint32Array(Dt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",Xt)}async getFromFile(u){const{lastModified:xt,name:Dt,size:$t,type:Xt}=u;return zt(this,dt,$r).call(this,`${xt}_${Dt}_${$t}_${Xt}`,u)}async getFromUrl(u){return zt(this,dt,$r).call(this,u,u)}async getFromId(u){o(this,et)||Zt(this,et,new Map);const xt=o(this,et).get(u);return xt?xt.bitmap?(xt.refCounter+=1,xt):xt.file?this.getFromFile(xt.file):this.getFromUrl(xt.url):null}getSvgUrl(u){const xt=o(this,et).get(u);return xt!=null&&xt.isSvg?xt.svgUrl:null}deleteId(u){o(this,et)||Zt(this,et,new Map);const xt=o(this,et).get(u);xt&&(xt.refCounter-=1,xt.refCounter===0&&(xt.bitmap=null))}isValidId(u){return u.startsWith(`image_${o(this,mt)}_`)}};mt=new WeakMap,ft=new WeakMap,et=new WeakMap,dt=new WeakSet,$r=async function(u,xt){o(this,et)||Zt(this,et,new Map);let Dt=o(this,et).get(u);if(Dt===null)return null;if(Dt!=null&&Dt.bitmap)return Dt.refCounter+=1,Dt;try{Dt||(Dt={bitmap:null,id:`image_${o(this,mt)}_${lr(this,ft)._++}`,refCounter:0,isSvg:!1});let $t;if(typeof xt=="string"){Dt.url=xt;const Xt=await fetch(xt);if(!Xt.ok)throw new Error(Xt.statusText);$t=await Xt.blob()}else $t=Dt.file=xt;if($t.type==="image/svg+xml"){const Xt=Et._isSVGFittingCanvas,rn=new FileReader,un=new Image,En=new Promise((An,$n)=>{un.onload=()=>{Dt.bitmap=un,Dt.isSvg=!0,An()},rn.onload=async()=>{const xn=Dt.svgUrl=rn.result;un.src=await Xt?`${xn}#svgView(preserveAspectRatio(none))`:xn},un.onerror=rn.onerror=$n});rn.readAsDataURL($t),await En}else Dt.bitmap=await createImageBitmap($t);Dt.refCounter=1}catch($t){console.error($t),Dt=null}return o(this,et).set(u,Dt),Dt&&o(this,et).set(Dt.id,Dt),Dt};let P=Et;class N{constructor(u=128){Lt(this,_t,[]);Lt(this,b,!1);Lt(this,pe,void 0);Lt(this,yt,-1);Zt(this,pe,u)}add({cmd:u,undo:xt,mustExec:Dt,type:$t=NaN,overwriteIfSameType:Xt=!1,keepUndo:rn=!1}){if(Dt&&u(),o(this,b))return;const un={cmd:u,undo:xt,type:$t};if(o(this,yt)===-1){o(this,_t).length>0&&(o(this,_t).length=0),Zt(this,yt,0),o(this,_t).push(un);return}if(Xt&&o(this,_t)[o(this,yt)].type===$t){rn&&(un.undo=o(this,_t)[o(this,yt)].undo),o(this,_t)[o(this,yt)]=un;return}const En=o(this,yt)+1;En===o(this,pe)?o(this,_t).splice(0,1):(Zt(this,yt,En),En<o(this,_t).length&&o(this,_t).splice(En)),o(this,_t).push(un)}undo(){o(this,yt)!==-1&&(Zt(this,b,!0),o(this,_t)[o(this,yt)].undo(),Zt(this,b,!1),Zt(this,yt,o(this,yt)-1))}redo(){o(this,yt)<o(this,_t).length-1&&(Zt(this,yt,o(this,yt)+1),Zt(this,b,!0),o(this,_t)[o(this,yt)].cmd(),Zt(this,b,!1))}hasSomethingToUndo(){return o(this,yt)!==-1}hasSomethingToRedo(){return o(this,yt)<o(this,_t).length-1}destroy(){Zt(this,_t,null)}}_t=new WeakMap,b=new WeakMap,pe=new WeakMap,yt=new WeakMap,e.CommandManager=N;class E{constructor(u){Lt(this,d);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xt}=n.FeatureTest.platform;for(const[Dt,$t,Xt={}]of u)for(const rn of Dt){const un=rn.startsWith("mac+");xt&&un?(this.callbacks.set(rn.slice(4),{callback:$t,options:Xt}),this.allKeys.add(rn.split("+").at(-1))):!xt&&!un&&(this.callbacks.set(rn,{callback:$t,options:Xt}),this.allKeys.add(rn.split("+").at(-1)))}}exec(u,xt){if(!this.allKeys.has(xt.key))return;const Dt=this.callbacks.get(zt(this,d,bi).call(this,xt));if(!Dt)return;const{callback:$t,options:{bubbles:Xt=!1,args:rn=[],checker:un=null}}=Dt;un&&!un(u,xt)||($t.bind(u,...rn)(),Xt||(xt.stopPropagation(),xt.preventDefault()))}}d=new WeakSet,bi=function(u){u.altKey&&this.buffer.push("alt"),u.ctrlKey&&this.buffer.push("ctrl"),u.metaKey&&this.buffer.push("meta"),u.shiftKey&&this.buffer.push("shift"),this.buffer.push(u.key);const xt=this.buffer.join("+");return this.buffer.length=0,xt},e.KeyboardManager=E;const ot=class ot{get _colors(){const u=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(u),(0,n.shadow)(this,"_colors",u)}convert(u){const xt=(0,s.getRGB)(u);if(!window.matchMedia("(forced-colors: active)").matches)return xt;for(const[Dt,$t]of this._colors)if($t.every((Xt,rn)=>Xt===xt[rn]))return ot._colorsMapping.get(Dt);return xt}getHexCode(u){const xt=this._colors.get(u);return xt?n.Util.makeHexColor(...xt):u}};Vn(ot,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let St=ot;e.ColorManager=St;const wn=class wn{constructor(u,xt,Dt,$t,Xt,rn){Lt(this,Qt);Lt(this,gn);Lt(this,Mn);Lt(this,In);Lt(this,Ln);Lt(this,on);Lt(this,Vt);Lt(this,pn);Lt(this,Hn);Lt(this,bn);Lt(this,yn);Lt(this,On);Lt(this,fn);Lt(this,ze,null);Lt(this,Rt,new Map);Lt(this,Ft,new Map);Lt(this,vt,null);Lt(this,Nt,null);Lt(this,Ht,new N);Lt(this,It,0);Lt(this,Mt,new Set);Lt(this,jt,null);Lt(this,ln,null);Lt(this,cn,new Set);Lt(this,tn,null);Lt(this,Pt,new Tt);Lt(this,l,!1);Lt(this,h,!1);Lt(this,c,null);Lt(this,Le,n.AnnotationEditorType.NONE);Lt(this,Qe,new Set);Lt(this,gt,null);Lt(this,Ct,this.blur.bind(this));Lt(this,kt,this.focus.bind(this));Lt(this,Ut,this.copy.bind(this));Lt(this,Bt,this.cut.bind(this));Lt(this,Gt,this.paste.bind(this));Lt(this,Jt,this.keydown.bind(this));Lt(this,sn,this.onEditingAction.bind(this));Lt(this,nn,this.onPageChanging.bind(this));Lt(this,_n,this.onScaleChanging.bind(this));Lt(this,Sn,this.onRotationChanging.bind(this));Lt(this,dn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Lt(this,vn,[0,0]);Lt(this,an,null);Lt(this,Wt,null);Lt(this,qt,null);Zt(this,Wt,u),Zt(this,qt,xt),Zt(this,vt,Dt),this._eventBus=$t,this._eventBus._on("editingaction",o(this,sn)),this._eventBus._on("pagechanging",o(this,nn)),this._eventBus._on("scalechanging",o(this,_n)),this._eventBus._on("rotationchanging",o(this,Sn)),Zt(this,Nt,Xt.annotationStorage),Zt(this,tn,Xt.filterFactory),Zt(this,gt,rn),this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const u=wn.prototype,xt=Xt=>{const{activeElement:rn}=document;return rn&&o(Xt,Wt).contains(rn)&&Xt.hasSomethingToControl()},Dt=this.TRANSLATE_SMALL,$t=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new E([[["ctrl+a","mac+meta+a"],u.selectAll],[["ctrl+z","mac+meta+z"],u.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],u.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],u.delete],[["Escape","mac+Escape"],u.unselectAll],[["ArrowLeft","mac+ArrowLeft"],u.translateSelectedEditors,{args:[-Dt,0],checker:xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u.translateSelectedEditors,{args:[-$t,0],checker:xt}],[["ArrowRight","mac+ArrowRight"],u.translateSelectedEditors,{args:[Dt,0],checker:xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u.translateSelectedEditors,{args:[$t,0],checker:xt}],[["ArrowUp","mac+ArrowUp"],u.translateSelectedEditors,{args:[0,-Dt],checker:xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u.translateSelectedEditors,{args:[0,-$t],checker:xt}],[["ArrowDown","mac+ArrowDown"],u.translateSelectedEditors,{args:[0,Dt],checker:xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u.translateSelectedEditors,{args:[0,$t],checker:xt}]]))}destroy(){zt(this,In,vr).call(this),zt(this,gn,jr).call(this),this._eventBus._off("editingaction",o(this,sn)),this._eventBus._off("pagechanging",o(this,nn)),this._eventBus._off("scalechanging",o(this,_n)),this._eventBus._off("rotationchanging",o(this,Sn));for(const u of o(this,Ft).values())u.destroy();o(this,Ft).clear(),o(this,Rt).clear(),o(this,cn).clear(),Zt(this,ze,null),o(this,Qe).clear(),o(this,Ht).destroy(),o(this,vt).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",o(this,gt)?o(this,tn).addHCMFilter(o(this,gt).foreground,o(this,gt).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(o(this,Wt)).direction)}editAltText(u){var xt;(xt=o(this,vt))==null||xt.editAltText(this,u)}onPageChanging({pageNumber:u}){Zt(this,It,u-1)}focusMainContainer(){o(this,Wt).focus()}findParent(u,xt){for(const Dt of o(this,Ft).values()){const{x:$t,y:Xt,width:rn,height:un}=Dt.div.getBoundingClientRect();if(u>=$t&&u<=$t+rn&&xt>=Xt&&xt<=Xt+un)return Dt}return null}disableUserSelect(u=!1){o(this,qt).classList.toggle("noUserSelect",u)}addShouldRescale(u){o(this,cn).add(u)}removeShouldRescale(u){o(this,cn).delete(u)}onScaleChanging({scale:u}){this.commitOrRemove(),this.viewParameters.realScale=u*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xt of o(this,cn))xt.onScaleChanging()}onRotationChanging({pagesRotation:u}){this.commitOrRemove(),this.viewParameters.rotation=u}addToAnnotationStorage(u){!u.isEmpty()&&o(this,Nt)&&!o(this,Nt).has(u.id)&&o(this,Nt).setValue(u.id,u)}blur(){if(!this.hasSelection)return;const{activeElement:u}=document;for(const xt of o(this,Qe))if(xt.div.contains(u)){Zt(this,c,[xt,u]),xt._focusEventsAllowed=!1;break}}focus(){if(!o(this,c))return;const[u,xt]=o(this,c);Zt(this,c,null),xt.addEventListener("focusin",()=>{u._focusEventsAllowed=!0},{once:!0}),xt.focus()}addEditListeners(){zt(this,Mn,Br).call(this),zt(this,Ln,Ur).call(this)}removeEditListeners(){zt(this,In,vr).call(this),zt(this,on,Wr).call(this)}copy(u){var Dt;if(u.preventDefault(),(Dt=o(this,ze))==null||Dt.commitOrRemove(),!this.hasSelection)return;const xt=[];for(const $t of o(this,Qe)){const Xt=$t.serialize(!0);Xt&&xt.push(Xt)}xt.length!==0&&u.clipboardData.setData("application/pdfjs",JSON.stringify(xt))}cut(u){this.copy(u),this.delete()}paste(u){u.preventDefault();const{clipboardData:xt}=u;for(const Xt of xt.items)for(const rn of o(this,ln))if(rn.isHandlingMimeForPasting(Xt.type)){rn.paste(Xt,this.currentLayer);return}let Dt=xt.getData("application/pdfjs");if(!Dt)return;try{Dt=JSON.parse(Dt)}catch(Xt){(0,n.warn)(`paste: "${Xt.message}".`);return}if(!Array.isArray(Dt))return;this.unselectAll();const $t=this.currentLayer;try{const Xt=[];for(const En of Dt){const An=$t.deserialize(En);if(!An)return;Xt.push(An)}const rn=()=>{for(const En of Xt)zt(this,yn,zr).call(this,En);zt(this,fn,Hr).call(this,Xt)},un=()=>{for(const En of Xt)En.remove()};this.addCommands({cmd:rn,undo:un,mustExec:!0})}catch(Xt){(0,n.warn)(`paste: "${Xt.message}".`)}}keydown(u){var xt;(xt=this.getActive())!=null&&xt.shouldGetKeyboardEvents()||wn._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","delete","selectAll"].includes(u.name)&&this[u.name]()}setEditingState(u){u?(zt(this,Qt,vi).call(this),zt(this,Mn,Br).call(this),zt(this,Ln,Ur).call(this),zt(this,Vt,Kn).call(this,{isEditing:o(this,Le)!==n.AnnotationEditorType.NONE,isEmpty:zt(this,On,ur).call(this),hasSomethingToUndo:o(this,Ht).hasSomethingToUndo(),hasSomethingToRedo:o(this,Ht).hasSomethingToRedo(),hasSelectedEditor:!1})):(zt(this,gn,jr).call(this),zt(this,In,vr).call(this),zt(this,on,Wr).call(this),zt(this,Vt,Kn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(u){if(!o(this,ln)){Zt(this,ln,u);for(const xt of o(this,ln))zt(this,pn,cr).call(this,xt.defaultPropertiesToUpdate)}}getId(){return o(this,Pt).getId()}get currentLayer(){return o(this,Ft).get(o(this,It))}getLayer(u){return o(this,Ft).get(u)}get currentPageIndex(){return o(this,It)}addLayer(u){o(this,Ft).set(u.pageIndex,u),o(this,l)?u.enable():u.disable()}removeLayer(u){o(this,Ft).delete(u.pageIndex)}updateMode(u,xt=null){if(o(this,Le)!==u){if(Zt(this,Le,u),u===n.AnnotationEditorType.NONE){this.setEditingState(!1),zt(this,bn,Ai).call(this);return}this.setEditingState(!0),zt(this,Hn,yi).call(this),this.unselectAll();for(const Dt of o(this,Ft).values())Dt.updateMode(u);if(xt){for(const Dt of o(this,Rt).values())if(Dt.annotationElementId===xt){this.setSelected(Dt),Dt.enterInEditMode();break}}}}updateToolbar(u){u!==o(this,Le)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,xt){if(o(this,ln)){if(u===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(u);return}for(const Dt of o(this,Qe))Dt.updateParams(u,xt);for(const Dt of o(this,ln))Dt.updateDefaultParams(u,xt)}}enableWaiting(u=!1){if(o(this,h)!==u){Zt(this,h,u);for(const xt of o(this,Ft).values())u?xt.disableClick():xt.enableClick(),xt.div.classList.toggle("waiting",u)}}getEditors(u){const xt=[];for(const Dt of o(this,Rt).values())Dt.pageIndex===u&&xt.push(Dt);return xt}getEditor(u){return o(this,Rt).get(u)}addEditor(u){o(this,Rt).set(u.id,u)}removeEditor(u){var xt;o(this,Rt).delete(u.id),this.unselect(u),(!u.annotationElementId||!o(this,Mt).has(u.annotationElementId))&&((xt=o(this,Nt))==null||xt.remove(u.id))}addDeletedAnnotationElement(u){o(this,Mt).add(u.annotationElementId),u.deleted=!0}isDeletedAnnotationElement(u){return o(this,Mt).has(u)}removeDeletedAnnotationElement(u){o(this,Mt).delete(u.annotationElementId),u.deleted=!1}setActiveEditor(u){o(this,ze)!==u&&(Zt(this,ze,u),u&&zt(this,pn,cr).call(this,u.propertiesToUpdate))}toggleSelected(u){if(o(this,Qe).has(u)){o(this,Qe).delete(u),u.unselect(),zt(this,Vt,Kn).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,Qe).add(u),u.select(),zt(this,pn,cr).call(this,u.propertiesToUpdate),zt(this,Vt,Kn).call(this,{hasSelectedEditor:!0})}setSelected(u){for(const xt of o(this,Qe))xt!==u&&xt.unselect();o(this,Qe).clear(),o(this,Qe).add(u),u.select(),zt(this,pn,cr).call(this,u.propertiesToUpdate),zt(this,Vt,Kn).call(this,{hasSelectedEditor:!0})}isSelected(u){return o(this,Qe).has(u)}unselect(u){u.unselect(),o(this,Qe).delete(u),zt(this,Vt,Kn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,Qe).size!==0}undo(){o(this,Ht).undo(),zt(this,Vt,Kn).call(this,{hasSomethingToUndo:o(this,Ht).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:zt(this,On,ur).call(this)})}redo(){o(this,Ht).redo(),zt(this,Vt,Kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,Ht).hasSomethingToRedo(),isEmpty:zt(this,On,ur).call(this)})}addCommands(u){o(this,Ht).add(u),zt(this,Vt,Kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:zt(this,On,ur).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const u=[...o(this,Qe)],xt=()=>{for(const $t of u)$t.remove()},Dt=()=>{for(const $t of u)zt(this,yn,zr).call(this,$t)};this.addCommands({cmd:xt,undo:Dt,mustExec:!0})}commitOrRemove(){var u;(u=o(this,ze))==null||u.commitOrRemove()}hasSomethingToControl(){return o(this,ze)||this.hasSelection}selectAll(){for(const u of o(this,Qe))u.commit();zt(this,fn,Hr).call(this,o(this,Rt).values())}unselectAll(){if(o(this,ze)){o(this,ze).commitOrRemove();return}if(this.hasSelection){for(const u of o(this,Qe))u.unselect();o(this,Qe).clear(),zt(this,Vt,Kn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(u,xt,Dt=!1){if(Dt||this.commitOrRemove(),!this.hasSelection)return;o(this,vn)[0]+=u,o(this,vn)[1]+=xt;const[$t,Xt]=o(this,vn),rn=[...o(this,Qe)],un=1e3;o(this,an)&&clearTimeout(o(this,an)),Zt(this,an,setTimeout(()=>{Zt(this,an,null),o(this,vn)[0]=o(this,vn)[1]=0,this.addCommands({cmd:()=>{for(const En of rn)o(this,Rt).has(En.id)&&En.translateInPage($t,Xt)},undo:()=>{for(const En of rn)o(this,Rt).has(En.id)&&En.translateInPage(-$t,-Xt)},mustExec:!1})},un));for(const En of rn)En.translateInPage(u,xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Zt(this,jt,new Map);for(const u of o(this,Qe))o(this,jt).set(u,{savedX:u.x,savedY:u.y,savedPageIndex:u.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,jt))return!1;this.disableUserSelect(!1);const u=o(this,jt);Zt(this,jt,null);let xt=!1;for(const[{x:$t,y:Xt,pageIndex:rn},un]of u)un.newX=$t,un.newY=Xt,un.newPageIndex=rn,xt||(xt=$t!==un.savedX||Xt!==un.savedY||rn!==un.savedPageIndex);if(!xt)return!1;const Dt=($t,Xt,rn,un)=>{if(o(this,Rt).has($t.id)){const En=o(this,Ft).get(un);En?$t._setParentAndPosition(En,Xt,rn):($t.pageIndex=un,$t.x=Xt,$t.y=rn)}};return this.addCommands({cmd:()=>{for(const[$t,{newX:Xt,newY:rn,newPageIndex:un}]of u)Dt($t,Xt,rn,un)},undo:()=>{for(const[$t,{savedX:Xt,savedY:rn,savedPageIndex:un}]of u)Dt($t,Xt,rn,un)},mustExec:!0}),!0}dragSelectedEditors(u,xt){if(o(this,jt))for(const Dt of o(this,jt).keys())Dt.drag(u,xt)}rebuild(u){if(u.parent===null){const xt=this.getLayer(u.pageIndex);xt?(xt.changeParent(u),xt.addOrRebuild(u)):(this.addEditor(u),this.addToAnnotationStorage(u),u.rebuild())}else u.parent.addOrRebuild(u)}isActive(u){return o(this,ze)===u}getActive(){return o(this,ze)}getMode(){return o(this,Le)}get imageManager(){return(0,n.shadow)(this,"imageManager",new P)}};ze=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,vt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,It=new WeakMap,Mt=new WeakMap,jt=new WeakMap,ln=new WeakMap,cn=new WeakMap,tn=new WeakMap,Pt=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,Le=new WeakMap,Qe=new WeakMap,gt=new WeakMap,Ct=new WeakMap,kt=new WeakMap,Ut=new WeakMap,Bt=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,sn=new WeakMap,nn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,dn=new WeakMap,vn=new WeakMap,an=new WeakMap,Wt=new WeakMap,qt=new WeakMap,Qt=new WeakSet,vi=function(){window.addEventListener("focus",o(this,kt)),window.addEventListener("blur",o(this,Ct))},gn=new WeakSet,jr=function(){window.removeEventListener("focus",o(this,kt)),window.removeEventListener("blur",o(this,Ct))},Mn=new WeakSet,Br=function(){window.addEventListener("keydown",o(this,Jt),{capture:!0})},In=new WeakSet,vr=function(){window.removeEventListener("keydown",o(this,Jt),{capture:!0})},Ln=new WeakSet,Ur=function(){document.addEventListener("copy",o(this,Ut)),document.addEventListener("cut",o(this,Bt)),document.addEventListener("paste",o(this,Gt))},on=new WeakSet,Wr=function(){document.removeEventListener("copy",o(this,Ut)),document.removeEventListener("cut",o(this,Bt)),document.removeEventListener("paste",o(this,Gt))},Vt=new WeakSet,Kn=function(u){Object.entries(u).some(([Dt,$t])=>o(this,dn)[Dt]!==$t)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,dn),u)})},pn=new WeakSet,cr=function(u){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:u})},Hn=new WeakSet,yi=function(){if(!o(this,l)){Zt(this,l,!0);for(const u of o(this,Ft).values())u.enable()}},bn=new WeakSet,Ai=function(){if(this.unselectAll(),o(this,l)){Zt(this,l,!1);for(const u of o(this,Ft).values())u.disable()}},yn=new WeakSet,zr=function(u){const xt=o(this,Ft).get(u.pageIndex);xt?xt.addOrRebuild(u):this.addEditor(u)},On=new WeakSet,ur=function(){if(o(this,Rt).size===0)return!0;if(o(this,Rt).size===1)for(const u of o(this,Rt).values())return u.isEmpty();return!1},fn=new WeakSet,Hr=function(u){o(this,Qe).clear();for(const xt of u)xt.isEmpty()||(o(this,Qe).add(xt),xt.select());zt(this,Vt,Kn).call(this,{hasSelectedEditor:!0})},Vn(wn,"TRANSLATE_SMALL",1),Vn(wn,"TRANSLATE_BIG",10);let wt=wn;e.AnnotationEditorUIManager=wt},(t,e,i)=>{var It,Mt,jt,ln,cn,tn,Pt,l,h,c,Le,Qe,nr,Ct,rr,Ut,Gr,Gt,yr,sn,Ar,_n,dr,dn,hr;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=yt,e.getColorValues=Rt,e.getCurrentTransform=Ft,e.getCurrentTransformInverse=vt,e.getFilenameFromUrl=dt,e.getPdfFilenameFromUrl=At,e.getRGB=ze,e.getXfaPageViewport=ot,e.isDataScheme=ft,e.isPdfFile=et,e.isValidFetchUrl=_t,e.loadScript=pe,e.noContextMenu=b,e.setLayerDimensions=Nt;var n=i(7),s=i(1);const p="http://www.w3.org/2000/svg",Ht=class Ht{};Vn(Ht,"CSS",96),Vn(Ht,"PDF",72),Vn(Ht,"PDF_TO_CSS_UNITS",Ht.CSS/Ht.PDF);let $e=Ht;e.PixelsPerInch=$e;class Tt extends n.BaseFilterFactory{constructor({docId:qt,ownerDocument:Qt=globalThis.document}={}){super();Lt(this,Qe);Lt(this,Ct);Lt(this,Ut);Lt(this,Gt);Lt(this,sn);Lt(this,_n);Lt(this,dn);Lt(this,It,void 0);Lt(this,Mt,void 0);Lt(this,jt,void 0);Lt(this,ln,void 0);Lt(this,cn,void 0);Lt(this,tn,void 0);Lt(this,Pt,void 0);Lt(this,l,void 0);Lt(this,h,void 0);Lt(this,c,void 0);Lt(this,Le,0);Zt(this,jt,qt),Zt(this,ln,Qt)}addFilter(qt){if(!qt)return"none";let Qt=o(this,Qe,nr).get(qt);if(Qt)return Qt;let mn,gn,kn,Mn;if(qt.length===1){const Ln=qt[0],Dn=new Array(256);for(let on=0;on<256;on++)Dn[on]=Ln[on]/255;Mn=mn=gn=kn=Dn.join(",")}else{const[Ln,Dn,on]=qt,Yt=new Array(256),Vt=new Array(256),hn=new Array(256);for(let pn=0;pn<256;pn++)Yt[pn]=Ln[pn]/255,Vt[pn]=Dn[pn]/255,hn[pn]=on[pn]/255;mn=Yt.join(","),gn=Vt.join(","),kn=hn.join(","),Mn=`${mn}${gn}${kn}`}if(Qt=o(this,Qe,nr).get(Mn),Qt)return o(this,Qe,nr).set(qt,Qt),Qt;const Fn=`g_${o(this,jt)}_transfer_map_${lr(this,Le)._++}`,In=`url(#${Fn})`;o(this,Qe,nr).set(qt,In),o(this,Qe,nr).set(Mn,In);const Cn=zt(this,Gt,yr).call(this,Fn);return zt(this,_n,dr).call(this,mn,gn,kn,Cn),In}addHCMFilter(qt,Qt){var Dn;const mn=`${qt}-${Qt}`;if(o(this,tn)===mn)return o(this,Pt);if(Zt(this,tn,mn),Zt(this,Pt,"none"),(Dn=o(this,cn))==null||Dn.remove(),!qt||!Qt)return o(this,Pt);const gn=zt(this,dn,hr).call(this,qt);qt=s.Util.makeHexColor(...gn);const kn=zt(this,dn,hr).call(this,Qt);if(Qt=s.Util.makeHexColor(...kn),o(this,Ct,rr).style.color="",qt==="#000000"&&Qt==="#ffffff"||qt===Qt)return o(this,Pt);const Mn=new Array(256);for(let on=0;on<=255;on++){const Yt=on/255;Mn[on]=Yt<=.03928?Yt/12.92:((Yt+.055)/1.055)**2.4}const Fn=Mn.join(","),In=`g_${o(this,jt)}_hcm_filter`,Cn=Zt(this,l,zt(this,Gt,yr).call(this,In));zt(this,_n,dr).call(this,Fn,Fn,Fn,Cn),zt(this,Ut,Gr).call(this,Cn);const Ln=(on,Yt)=>{const Vt=gn[on]/255,hn=kn[on]/255,pn=new Array(Yt+1);for(let Gn=0;Gn<=Yt;Gn++)pn[Gn]=Vt+Gn/Yt*(hn-Vt);return pn.join(",")};return zt(this,_n,dr).call(this,Ln(0,5),Ln(1,5),Ln(2,5),Cn),Zt(this,Pt,`url(#${In})`),o(this,Pt)}addHighlightHCMFilter(qt,Qt,mn,gn){var hn;const kn=`${qt}-${Qt}-${mn}-${gn}`;if(o(this,h)===kn)return o(this,c);if(Zt(this,h,kn),Zt(this,c,"none"),(hn=o(this,l))==null||hn.remove(),!qt||!Qt)return o(this,c);const[Mn,Fn]=[qt,Qt].map(zt(this,dn,hr).bind(this));let In=Math.round(.2126*Mn[0]+.7152*Mn[1]+.0722*Mn[2]),Cn=Math.round(.2126*Fn[0]+.7152*Fn[1]+.0722*Fn[2]),[Ln,Dn]=[mn,gn].map(zt(this,dn,hr).bind(this));Cn<In&&([In,Cn,Ln,Dn]=[Cn,In,Dn,Ln]),o(this,Ct,rr).style.color="";const on=(pn,Gn,Hn)=>{const Kt=new Array(256),bn=(Cn-In)/Hn,Tn=pn/255,yn=(Gn-pn)/(255*Hn);let Rn=0;for(let On=0;On<=Hn;On++){const Wn=Math.round(In+On*bn),fn=Tn+On*yn;for(let Bn=Rn;Bn<=Wn;Bn++)Kt[Bn]=fn;Rn=Wn+1}for(let On=Rn;On<256;On++)Kt[On]=Kt[Rn-1];return Kt.join(",")},Yt=`g_${o(this,jt)}_hcm_highlight_filter`,Vt=Zt(this,l,zt(this,Gt,yr).call(this,Yt));return zt(this,Ut,Gr).call(this,Vt),zt(this,_n,dr).call(this,on(Ln[0],Dn[0],5),on(Ln[1],Dn[1],5),on(Ln[2],Dn[2],5),Vt),Zt(this,c,`url(#${Yt})`),o(this,c)}destroy(qt=!1){qt&&(o(this,Pt)||o(this,c))||(o(this,Mt)&&(o(this,Mt).parentNode.parentNode.remove(),Zt(this,Mt,null)),o(this,It)&&(o(this,It).clear(),Zt(this,It,null)),Zt(this,Le,0))}}It=new WeakMap,Mt=new WeakMap,jt=new WeakMap,ln=new WeakMap,cn=new WeakMap,tn=new WeakMap,Pt=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,Le=new WeakMap,Qe=new WeakSet,nr=function(){return o(this,It)||Zt(this,It,new Map)},Ct=new WeakSet,rr=function(){if(!o(this,Mt)){const qt=o(this,ln).createElement("div"),{style:Qt}=qt;Qt.visibility="hidden",Qt.contain="strict",Qt.width=Qt.height=0,Qt.position="absolute",Qt.top=Qt.left=0,Qt.zIndex=-1;const mn=o(this,ln).createElementNS(p,"svg");mn.setAttribute("width",0),mn.setAttribute("height",0),Zt(this,Mt,o(this,ln).createElementNS(p,"defs")),qt.append(mn),mn.append(o(this,Mt)),o(this,ln).body.append(qt)}return o(this,Mt)},Ut=new WeakSet,Gr=function(qt){const Qt=o(this,ln).createElementNS(p,"feColorMatrix");Qt.setAttribute("type","matrix"),Qt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),qt.append(Qt)},Gt=new WeakSet,yr=function(qt){const Qt=o(this,ln).createElementNS(p,"filter");return Qt.setAttribute("color-interpolation-filters","sRGB"),Qt.setAttribute("id",qt),o(this,Ct,rr).append(Qt),Qt},sn=new WeakSet,Ar=function(qt,Qt,mn){const gn=o(this,ln).createElementNS(p,Qt);gn.setAttribute("type","discrete"),gn.setAttribute("tableValues",mn),qt.append(gn)},_n=new WeakSet,dr=function(qt,Qt,mn,gn){const kn=o(this,ln).createElementNS(p,"feComponentTransfer");gn.append(kn),zt(this,sn,Ar).call(this,kn,"feFuncR",qt),zt(this,sn,Ar).call(this,kn,"feFuncG",Qt),zt(this,sn,Ar).call(this,kn,"feFuncB",mn)},dn=new WeakSet,hr=function(qt){return o(this,Ct,rr).style.color=qt,ze(getComputedStyle(o(this,Ct,rr)).getPropertyValue("color"))},e.DOMFilterFactory=Tt;class P extends n.BaseCanvasFactory{constructor({ownerDocument:Wt=globalThis.document}={}){super(),this._document=Wt}_createCanvas(Wt,qt){const Qt=this._document.createElement("canvas");return Qt.width=Wt,Qt.height=qt,Qt}}e.DOMCanvasFactory=P;async function N(an,Wt=!1){if(_t(an,document.baseURI)){const qt=await fetch(an);if(!qt.ok)throw new Error(qt.statusText);return Wt?new Uint8Array(await qt.arrayBuffer()):(0,s.stringToBytes)(await qt.text())}return new Promise((qt,Qt)=>{const mn=new XMLHttpRequest;mn.open("GET",an,!0),Wt&&(mn.responseType="arraybuffer"),mn.onreadystatechange=()=>{if(mn.readyState===XMLHttpRequest.DONE){if(mn.status===200||mn.status===0){let gn;if(Wt&&mn.response?gn=new Uint8Array(mn.response):!Wt&&mn.responseText&&(gn=(0,s.stringToBytes)(mn.responseText)),gn){qt(gn);return}}Qt(new Error(mn.statusText))}},mn.send(null)})}class E extends n.BaseCMapReaderFactory{_fetchData(Wt,qt){return N(Wt,this.isCompressed).then(Qt=>({cMapData:Qt,compressionType:qt}))}}e.DOMCMapReaderFactory=E;class St extends n.BaseStandardFontDataFactory{_fetchData(Wt){return N(Wt,!0)}}e.DOMStandardFontDataFactory=St;class wt extends n.BaseSVGFactory{_createSVG(Wt){return document.createElementNS(p,Wt)}}e.DOMSVGFactory=wt;class bt{constructor({viewBox:Wt,scale:qt,rotation:Qt,offsetX:mn=0,offsetY:gn=0,dontFlip:kn=!1}){this.viewBox=Wt,this.scale=qt,this.rotation=Qt,this.offsetX=mn,this.offsetY=gn;const Mn=(Wt[2]+Wt[0])/2,Fn=(Wt[3]+Wt[1])/2;let In,Cn,Ln,Dn;switch(Qt%=360,Qt<0&&(Qt+=360),Qt){case 180:In=-1,Cn=0,Ln=0,Dn=1;break;case 90:In=0,Cn=1,Ln=1,Dn=0;break;case 270:In=0,Cn=-1,Ln=-1,Dn=0;break;case 0:In=1,Cn=0,Ln=0,Dn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}kn&&(Ln=-Ln,Dn=-Dn);let on,Yt,Vt,hn;In===0?(on=Math.abs(Fn-Wt[1])*qt+mn,Yt=Math.abs(Mn-Wt[0])*qt+gn,Vt=(Wt[3]-Wt[1])*qt,hn=(Wt[2]-Wt[0])*qt):(on=Math.abs(Mn-Wt[0])*qt+mn,Yt=Math.abs(Fn-Wt[1])*qt+gn,Vt=(Wt[2]-Wt[0])*qt,hn=(Wt[3]-Wt[1])*qt),this.transform=[In*qt,Cn*qt,Ln*qt,Dn*qt,on-In*qt*Mn-Ln*qt*Fn,Yt-Cn*qt*Mn-Dn*qt*Fn],this.width=Vt,this.height=hn}get rawDims(){const{viewBox:Wt}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:Wt[2]-Wt[0],pageHeight:Wt[3]-Wt[1],pageX:Wt[0],pageY:Wt[1]})}clone({scale:Wt=this.scale,rotation:qt=this.rotation,offsetX:Qt=this.offsetX,offsetY:mn=this.offsetY,dontFlip:gn=!1}={}){return new bt({viewBox:this.viewBox.slice(),scale:Wt,rotation:qt,offsetX:Qt,offsetY:mn,dontFlip:gn})}convertToViewportPoint(Wt,qt){return s.Util.applyTransform([Wt,qt],this.transform)}convertToViewportRectangle(Wt){const qt=s.Util.applyTransform([Wt[0],Wt[1]],this.transform),Qt=s.Util.applyTransform([Wt[2],Wt[3]],this.transform);return[qt[0],qt[1],Qt[0],Qt[1]]}convertToPdfPoint(Wt,qt){return s.Util.applyInverseTransform([Wt,qt],this.transform)}}e.PageViewport=bt;class mt extends s.BaseException{constructor(Wt,qt=0){super(Wt,"RenderingCancelledException"),this.extraDelay=qt}}e.RenderingCancelledException=mt;function ft(an){const Wt=an.length;let qt=0;for(;qt<Wt&&an[qt].trim()==="";)qt++;return an.substring(qt,qt+5).toLowerCase()==="data:"}function et(an){return typeof an=="string"&&/\.pdf$/i.test(an)}function dt(an,Wt=!1){return Wt||([an]=an.split(/[#?]/,1)),an.substring(an.lastIndexOf("/")+1)}function At(an,Wt="document.pdf"){if(typeof an!="string")return Wt;if(ft(an))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Wt;const qt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Qt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,mn=qt.exec(an);let gn=Qt.exec(mn[1])||Qt.exec(mn[2])||Qt.exec(mn[3]);if(gn&&(gn=gn[0],gn.includes("%")))try{gn=Qt.exec(decodeURIComponent(gn))[0]}catch{}return gn||Wt}class Et{constructor(){Vn(this,"started",Object.create(null));Vn(this,"times",[])}time(Wt){Wt in this.started&&(0,s.warn)(`Timer is already running for ${Wt}`),this.started[Wt]=Date.now()}timeEnd(Wt){Wt in this.started||(0,s.warn)(`Timer has not been started for ${Wt}`),this.times.push({name:Wt,start:this.started[Wt],end:Date.now()}),delete this.started[Wt]}toString(){const Wt=[];let qt=0;for(const{name:Qt}of this.times)qt=Math.max(Qt.length,qt);for(const{name:Qt,start:mn,end:gn}of this.times)Wt.push(`${Qt.padEnd(qt)} ${gn-mn}ms
`);return Wt.join("")}}e.StatTimer=Et;function _t(an,Wt){try{const{protocol:qt}=Wt?new URL(an,Wt):new URL(an);return qt==="http:"||qt==="https:"}catch{return!1}}function b(an){an.preventDefault()}function pe(an,Wt=!1){return new Promise((qt,Qt)=>{const mn=document.createElement("script");mn.src=an,mn.onload=function(gn){Wt&&mn.remove(),qt(gn)},mn.onerror=function(){Qt(new Error(`Cannot load script at: ${mn.src}`))},(document.head||document.documentElement).append(mn)})}function yt(an){console.log("Deprecated API usage: "+an)}let d;class a{static toDateObject(Wt){if(!Wt||typeof Wt!="string")return null;d||(d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const qt=d.exec(Wt);if(!qt)return null;const Qt=parseInt(qt[1],10);let mn=parseInt(qt[2],10);mn=mn>=1&&mn<=12?mn-1:0;let gn=parseInt(qt[3],10);gn=gn>=1&&gn<=31?gn:1;let kn=parseInt(qt[4],10);kn=kn>=0&&kn<=23?kn:0;let Mn=parseInt(qt[5],10);Mn=Mn>=0&&Mn<=59?Mn:0;let Fn=parseInt(qt[6],10);Fn=Fn>=0&&Fn<=59?Fn:0;const In=qt[7]||"Z";let Cn=parseInt(qt[8],10);Cn=Cn>=0&&Cn<=23?Cn:0;let Ln=parseInt(qt[9],10)||0;return Ln=Ln>=0&&Ln<=59?Ln:0,In==="-"?(kn+=Cn,Mn+=Ln):In==="+"&&(kn-=Cn,Mn-=Ln),new Date(Date.UTC(Qt,mn,gn,kn,Mn,Fn))}}e.PDFDateString=a;function ot(an,{scale:Wt=1,rotation:qt=0}){const{width:Qt,height:mn}=an.attributes.style,gn=[0,0,parseInt(Qt),parseInt(mn)];return new bt({viewBox:gn,scale:Wt,rotation:qt})}function ze(an){if(an.startsWith("#")){const Wt=parseInt(an.slice(1),16);return[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255]}return an.startsWith("rgb(")?an.slice(4,-1).split(",").map(Wt=>parseInt(Wt)):an.startsWith("rgba(")?an.slice(5,-1).split(",").map(Wt=>parseInt(Wt)).slice(0,3):((0,s.warn)(`Not a valid color format: "${an}"`),[0,0,0])}function Rt(an){const Wt=document.createElement("span");Wt.style.visibility="hidden",document.body.append(Wt);for(const qt of an.keys()){Wt.style.color=qt;const Qt=window.getComputedStyle(Wt).color;an.set(qt,ze(Qt))}Wt.remove()}function Ft(an){const{a:Wt,b:qt,c:Qt,d:mn,e:gn,f:kn}=an.getTransform();return[Wt,qt,Qt,mn,gn,kn]}function vt(an){const{a:Wt,b:qt,c:Qt,d:mn,e:gn,f:kn}=an.getTransform().invertSelf();return[Wt,qt,Qt,mn,gn,kn]}function Nt(an,Wt,qt=!1,Qt=!0){if(Wt instanceof bt){const{pageWidth:mn,pageHeight:gn}=Wt.rawDims,{style:kn}=an,Mn=s.FeatureTest.isCSSRoundSupported,Fn=`var(--scale-factor) * ${mn}px`,In=`var(--scale-factor) * ${gn}px`,Cn=Mn?`round(${Fn}, 1px)`:`calc(${Fn})`,Ln=Mn?`round(${In}, 1px)`:`calc(${In})`;!qt||Wt.rotation%180===0?(kn.width=Cn,kn.height=Ln):(kn.width=Ln,kn.height=Cn)}Qt&&an.setAttribute("data-main-rotation",Wt.rotation)}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=i(1);class s{constructor(){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(E){return"none"}addHCMFilter(E,St){return"none"}addHighlightHCMFilter(E,St,wt,bt){return"none"}destroy(E=!1){}}e.BaseFilterFactory=s;class p{constructor(){this.constructor===p&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(E,St){if(E<=0||St<=0)throw new Error("Invalid canvas size");const wt=this._createCanvas(E,St);return{canvas:wt,context:wt.getContext("2d")}}reset(E,St,wt){if(!E.canvas)throw new Error("Canvas is not specified");if(St<=0||wt<=0)throw new Error("Invalid canvas size");E.canvas.width=St,E.canvas.height=wt}destroy(E){if(!E.canvas)throw new Error("Canvas is not specified");E.canvas.width=0,E.canvas.height=0,E.canvas=null,E.context=null}_createCanvas(E,St){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=p;class $e{constructor({baseUrl:E=null,isCompressed:St=!0}){this.constructor===$e&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=E,this.isCompressed=St}async fetch({name:E}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!E)throw new Error("CMap name must be specified.");const St=this.baseUrl+E+(this.isCompressed?".bcmap":""),wt=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(St,wt).catch(bt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${St}`)})}_fetchData(E,St){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=$e;class Tt{constructor({baseUrl:E=null}){this.constructor===Tt&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=E}async fetch({filename:E}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!E)throw new Error("Font filename must be specified.");const St=`${this.baseUrl}${E}`;return this._fetchData(St).catch(wt=>{throw new Error(`Unable to load font data at: ${St}`)})}_fetchData(E){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=Tt;class P{constructor(){this.constructor===P&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(E,St,wt=!1){if(E<=0||St<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),wt||(bt.setAttribute("width",`${E}px`),bt.setAttribute("height",`${St}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${E} ${St}`),bt}createElement(E){if(typeof E!="string")throw new Error("Invalid SVG element type");return this._createSVG(E)}_createSVG(E){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=P},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=i(1);const s=3285377520,p=4294901760,$e=65535;class Tt{constructor(N){this.h1=N?N&4294967295:s,this.h2=N?N&4294967295:s}update(N){let E,St;if(typeof N=="string"){E=new Uint8Array(N.length*2),St=0;for(let yt=0,d=N.length;yt<d;yt++){const a=N.charCodeAt(yt);a<=255?E[St++]=a:(E[St++]=a>>>8,E[St++]=a&255)}}else if((0,n.isArrayBuffer)(N))E=N.slice(),St=E.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const wt=St>>2,bt=St-wt*4,mt=new Uint32Array(E.buffer,0,wt);let ft=0,et=0,dt=this.h1,At=this.h2;const Et=3432918353,_t=461845907,b=Et&$e,pe=_t&$e;for(let yt=0;yt<wt;yt++)yt&1?(ft=mt[yt],ft=ft*Et&p|ft*b&$e,ft=ft<<15|ft>>>17,ft=ft*_t&p|ft*pe&$e,dt^=ft,dt=dt<<13|dt>>>19,dt=dt*5+3864292196):(et=mt[yt],et=et*Et&p|et*b&$e,et=et<<15|et>>>17,et=et*_t&p|et*pe&$e,At^=et,At=At<<13|At>>>19,At=At*5+3864292196);switch(ft=0,bt){case 3:ft^=E[wt*4+2]<<16;case 2:ft^=E[wt*4+1]<<8;case 1:ft^=E[wt*4],ft=ft*Et&p|ft*b&$e,ft=ft<<15|ft>>>17,ft=ft*_t&p|ft*pe&$e,wt&1?dt^=ft:At^=ft}this.h1=dt,this.h2=At}hexdigest(){let N=this.h1,E=this.h2;return N^=E>>>1,N=N*3981806797&p|N*36045&$e,E=E*4283543511&p|((E<<16|N>>>16)*2950163797&p)>>>16,N^=E>>>1,N=N*444984403&p|N*60499&$e,E=E*3301882366&p|((E<<16|N>>>16)*3120437893&p)>>>16,N^=E>>>1,(N>>>0).toString(16).padStart(8,"0")+(E>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=Tt},(t,e,i)=>{var $e;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=i(1);class s{constructor({ownerDocument:P=globalThis.document,styleElement:N=null}){Lt(this,$e,new Set);this._document=P,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(P){this.nativeFontFaces.add(P),this._document.fonts.add(P)}removeNativeFontFace(P){this.nativeFontFaces.delete(P),this._document.fonts.delete(P)}insertRule(P){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const N=this.styleElement.sheet;N.insertRule(P,N.cssRules.length)}clear(){for(const P of this.nativeFontFaces)this._document.fonts.delete(P);this.nativeFontFaces.clear(),o(this,$e).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(P){if(!(!P||o(this,$e).has(P.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:N,src:E,style:St}=P,wt=new FontFace(N,E,St);this.addNativeFontFace(wt);try{await wt.load(),o(this,$e).add(N)}catch{(0,n.warn)(`Cannot load system font: ${P.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(wt)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(P){if(P.attached||P.missingFile&&!P.systemFontInfo)return;if(P.attached=!0,P.systemFontInfo){await this.loadSystemFont(P.systemFontInfo);return}if(this.isFontLoadingAPISupported){const E=P.createNativeFontFace();if(E){this.addNativeFontFace(E);try{await E.loaded}catch(St){throw(0,n.warn)(`Failed to load font '${E.family}': '${St}'.`),P.disableFontFace=!0,St}}return}const N=P.createFontFaceRule();if(N){if(this.insertRule(N),this.isSyncFontLoadingSupported)return;await new Promise(E=>{const St=this._queueLoadingCallback(E);this._prepareFontLoadEvent(P,St)})}}get isFontLoadingAPISupported(){var N;const P=!!((N=this._document)!=null&&N.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",P)}get isSyncFontLoadingSupported(){let P=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(P=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",P)}_queueLoadingCallback(P){function N(){for((0,n.assert)(!St.done,"completeRequest() cannot be called twice."),St.done=!0;E.length>0&&E[0].done;){const wt=E.shift();setTimeout(wt.callback,0)}}const{loadingRequests:E}=this,St={done:!1,complete:N,callback:P};return E.push(St),St}get _loadTestFont(){const P=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",P)}_prepareFontLoadEvent(P,N){function E(ze,Rt){return ze.charCodeAt(Rt)<<24|ze.charCodeAt(Rt+1)<<16|ze.charCodeAt(Rt+2)<<8|ze.charCodeAt(Rt+3)&255}function St(ze,Rt,Ft,vt){const Nt=ze.substring(0,Rt),Ht=ze.substring(Rt+Ft);return Nt+vt+Ht}let wt,bt;const mt=this._document.createElement("canvas");mt.width=1,mt.height=1;const ft=mt.getContext("2d");let et=0;function dt(ze,Rt){if(++et>30){(0,n.warn)("Load test font never loaded."),Rt();return}if(ft.font="30px "+ze,ft.fillText(".",0,20),ft.getImageData(0,0,1,1).data[3]>0){Rt();return}setTimeout(dt.bind(null,ze,Rt))}const At=`lt${Date.now()}${this.loadTestFontId++}`;let Et=this._loadTestFont;Et=St(Et,976,At.length,At);const b=16,pe=1482184792;let yt=E(Et,b);for(wt=0,bt=At.length-3;wt<bt;wt+=4)yt=yt-pe+E(At,wt)|0;wt<At.length&&(yt=yt-pe+E(At+"XXX",wt)|0),Et=St(Et,b,4,(0,n.string32)(yt));const d=`url(data:font/opentype;base64,${btoa(Et)});`,a=`@font-face {font-family:"${At}";src:${d}}`;this.insertRule(a);const ot=this._document.createElement("div");ot.style.visibility="hidden",ot.style.width=ot.style.height="10px",ot.style.position="absolute",ot.style.top=ot.style.left="0px";for(const ze of[P.loadedName,At]){const Rt=this._document.createElement("span");Rt.textContent="Hi",Rt.style.fontFamily=ze,ot.append(Rt)}this._document.body.append(ot),dt(At,()=>{ot.remove(),N.complete()})}}$e=new WeakMap,e.FontLoader=s;class p{constructor(P,{isEvalSupported:N=!0,disableFontFace:E=!1,ignoreErrors:St=!1,inspectFont:wt=null}){this.compiledGlyphs=Object.create(null);for(const bt in P)this[bt]=P[bt];this.isEvalSupported=N!==!1,this.disableFontFace=E===!0,this.ignoreErrors=St===!0,this._inspectFont=wt}createNativeFontFace(){var N;if(!this.data||this.disableFontFace)return null;let P;if(!this.cssFontInfo)P=new FontFace(this.loadedName,this.data,{});else{const E={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(E.style=`oblique ${this.cssFontInfo.italicAngle}deg`),P=new FontFace(this.cssFontInfo.fontFamily,this.data,E)}return(N=this._inspectFont)==null||N.call(this,this),P}createFontFaceRule(){var St;if(!this.data||this.disableFontFace)return null;const P=(0,n.bytesToString)(this.data),N=`url(data:${this.mimetype};base64,${btoa(P)});`;let E;if(!this.cssFontInfo)E=`@font-face {font-family:"${this.loadedName}";src:${N}}`;else{let wt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(wt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),E=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${wt}src:${N}}`}return(St=this._inspectFont)==null||St.call(this,this,N),E}getPathGenerator(P,N){if(this.compiledGlyphs[N]!==void 0)return this.compiledGlyphs[N];let E;try{E=P.get(this.loadedName+"_path_"+N)}catch(St){if(!this.ignoreErrors)throw St;return(0,n.warn)(`getPathGenerator - ignoring character: "${St}".`),this.compiledGlyphs[N]=function(wt,bt){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const St=[];for(const wt of E){const bt=wt.args!==void 0?wt.args.join(","):"";St.push("c.",wt.cmd,"(",bt,`);
`)}return this.compiledGlyphs[N]=new Function("c","size",St.join(""))}return this.compiledGlyphs[N]=function(St,wt){for(const bt of E)bt.cmd==="scale"&&(bt.args=[wt,-wt]),St[bt.cmd].apply(St,bt.args)}}}e.FontFaceObject=p},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=i(7);i(1);const s=function(N){return new Promise((E,St)=>{require$$5.readFile(N,(bt,mt)=>{if(bt||!mt){St(new Error(bt));return}E(new Uint8Array(mt))})})};class p extends n.BaseFilterFactory{}e.NodeFilterFactory=p;class $e extends n.BaseCanvasFactory{_createCanvas(E,St){return require$$5.createCanvas(E,St)}}e.NodeCanvasFactory=$e;class Tt extends n.BaseCMapReaderFactory{_fetchData(E,St){return s(E).then(wt=>({cMapData:wt,compressionType:St}))}}e.NodeCMapReaderFactory=Tt;class P extends n.BaseStandardFontDataFactory{_fetchData(E){return s(E)}}e.NodeStandardFontDataFactory=P},(t,e,i)=>{var Mt,Vr,ln,qr;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=i(1),s=i(6),p=i(12),$e=i(13);const Tt=16,P=100,N=4096,E=15,St=10,wt=1e3,bt=16;function mt(Pt,l){if(Pt._removeMirroring)throw new Error("Context is already forwarding operations.");Pt.__originalSave=Pt.save,Pt.__originalRestore=Pt.restore,Pt.__originalRotate=Pt.rotate,Pt.__originalScale=Pt.scale,Pt.__originalTranslate=Pt.translate,Pt.__originalTransform=Pt.transform,Pt.__originalSetTransform=Pt.setTransform,Pt.__originalResetTransform=Pt.resetTransform,Pt.__originalClip=Pt.clip,Pt.__originalMoveTo=Pt.moveTo,Pt.__originalLineTo=Pt.lineTo,Pt.__originalBezierCurveTo=Pt.bezierCurveTo,Pt.__originalRect=Pt.rect,Pt.__originalClosePath=Pt.closePath,Pt.__originalBeginPath=Pt.beginPath,Pt._removeMirroring=()=>{Pt.save=Pt.__originalSave,Pt.restore=Pt.__originalRestore,Pt.rotate=Pt.__originalRotate,Pt.scale=Pt.__originalScale,Pt.translate=Pt.__originalTranslate,Pt.transform=Pt.__originalTransform,Pt.setTransform=Pt.__originalSetTransform,Pt.resetTransform=Pt.__originalResetTransform,Pt.clip=Pt.__originalClip,Pt.moveTo=Pt.__originalMoveTo,Pt.lineTo=Pt.__originalLineTo,Pt.bezierCurveTo=Pt.__originalBezierCurveTo,Pt.rect=Pt.__originalRect,Pt.closePath=Pt.__originalClosePath,Pt.beginPath=Pt.__originalBeginPath,delete Pt._removeMirroring},Pt.save=function(){l.save(),this.__originalSave()},Pt.restore=function(){l.restore(),this.__originalRestore()},Pt.translate=function(c,Le){l.translate(c,Le),this.__originalTranslate(c,Le)},Pt.scale=function(c,Le){l.scale(c,Le),this.__originalScale(c,Le)},Pt.transform=function(c,Le,Qe,gt,Ct,kt){l.transform(c,Le,Qe,gt,Ct,kt),this.__originalTransform(c,Le,Qe,gt,Ct,kt)},Pt.setTransform=function(c,Le,Qe,gt,Ct,kt){l.setTransform(c,Le,Qe,gt,Ct,kt),this.__originalSetTransform(c,Le,Qe,gt,Ct,kt)},Pt.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},Pt.rotate=function(c){l.rotate(c),this.__originalRotate(c)},Pt.clip=function(c){l.clip(c),this.__originalClip(c)},Pt.moveTo=function(h,c){l.moveTo(h,c),this.__originalMoveTo(h,c)},Pt.lineTo=function(h,c){l.lineTo(h,c),this.__originalLineTo(h,c)},Pt.bezierCurveTo=function(h,c,Le,Qe,gt,Ct){l.bezierCurveTo(h,c,Le,Qe,gt,Ct),this.__originalBezierCurveTo(h,c,Le,Qe,gt,Ct)},Pt.rect=function(h,c,Le,Qe){l.rect(h,c,Le,Qe),this.__originalRect(h,c,Le,Qe)},Pt.closePath=function(){l.closePath(),this.__originalClosePath()},Pt.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}class ft{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,h,c){let Le;return this.cache[l]!==void 0?(Le=this.cache[l],this.canvasFactory.reset(Le,h,c)):(Le=this.canvasFactory.create(h,c),this.cache[l]=Le),Le}delete(l){delete this.cache[l]}clear(){for(const l in this.cache){const h=this.cache[l];this.canvasFactory.destroy(h),delete this.cache[l]}}}function et(Pt,l,h,c,Le,Qe,gt,Ct,kt,Ut){const[Bt,Gt,Jt,sn,nn,_n]=(0,s.getCurrentTransform)(Pt);if(Gt===0&&Jt===0){const vn=gt*Bt+nn,an=Math.round(vn),Wt=Ct*sn+_n,qt=Math.round(Wt),Qt=(gt+kt)*Bt+nn,mn=Math.abs(Math.round(Qt)-an)||1,gn=(Ct+Ut)*sn+_n,kn=Math.abs(Math.round(gn)-qt)||1;return Pt.setTransform(Math.sign(Bt),0,0,Math.sign(sn),an,qt),Pt.drawImage(l,h,c,Le,Qe,0,0,mn,kn),Pt.setTransform(Bt,Gt,Jt,sn,nn,_n),[mn,kn]}if(Bt===0&&sn===0){const vn=Ct*Jt+nn,an=Math.round(vn),Wt=gt*Gt+_n,qt=Math.round(Wt),Qt=(Ct+Ut)*Jt+nn,mn=Math.abs(Math.round(Qt)-an)||1,gn=(gt+kt)*Gt+_n,kn=Math.abs(Math.round(gn)-qt)||1;return Pt.setTransform(0,Math.sign(Gt),Math.sign(Jt),0,an,qt),Pt.drawImage(l,h,c,Le,Qe,0,0,kn,mn),Pt.setTransform(Bt,Gt,Jt,sn,nn,_n),[kn,mn]}Pt.drawImage(l,h,c,Le,Qe,gt,Ct,kt,Ut);const Sn=Math.hypot(Bt,Gt),dn=Math.hypot(Jt,sn);return[Sn*kt,dn*Ut]}function dt(Pt){const{width:l,height:h}=Pt;if(l>wt||h>wt)return null;const c=1e3,Le=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Qe=l+1;let gt=new Uint8Array(Qe*(h+1)),Ct,kt,Ut;const Bt=l+7&-8;let Gt=new Uint8Array(Bt*h),Jt=0;for(const dn of Pt.data){let vn=128;for(;vn>0;)Gt[Jt++]=dn&vn?0:255,vn>>=1}let sn=0;for(Jt=0,Gt[Jt]!==0&&(gt[0]=1,++sn),kt=1;kt<l;kt++)Gt[Jt]!==Gt[Jt+1]&&(gt[kt]=Gt[Jt]?2:1,++sn),Jt++;for(Gt[Jt]!==0&&(gt[kt]=2,++sn),Ct=1;Ct<h;Ct++){Jt=Ct*Bt,Ut=Ct*Qe,Gt[Jt-Bt]!==Gt[Jt]&&(gt[Ut]=Gt[Jt]?1:8,++sn);let dn=(Gt[Jt]?4:0)+(Gt[Jt-Bt]?8:0);for(kt=1;kt<l;kt++)dn=(dn>>2)+(Gt[Jt+1]?4:0)+(Gt[Jt-Bt+1]?8:0),Le[dn]&&(gt[Ut+kt]=Le[dn],++sn),Jt++;if(Gt[Jt-Bt]!==Gt[Jt]&&(gt[Ut+kt]=Gt[Jt]?2:4,++sn),sn>c)return null}for(Jt=Bt*(h-1),Ut=Ct*Qe,Gt[Jt]!==0&&(gt[Ut]=8,++sn),kt=1;kt<l;kt++)Gt[Jt]!==Gt[Jt+1]&&(gt[Ut+kt]=Gt[Jt]?4:8,++sn),Jt++;if(Gt[Jt]!==0&&(gt[Ut+kt]=4,++sn),sn>c)return null;const nn=new Int32Array([0,Qe,-1,0,-Qe,0,0,0,1]),_n=new Path2D;for(Ct=0;sn&&Ct<=h;Ct++){let dn=Ct*Qe;const vn=dn+l;for(;dn<vn&&!gt[dn];)dn++;if(dn===vn)continue;_n.moveTo(dn%Qe,Ct);const an=dn;let Wt=gt[dn];do{const qt=nn[Wt];do dn+=qt;while(!gt[dn]);const Qt=gt[dn];Qt!==5&&Qt!==10?(Wt=Qt,gt[dn]=0):(Wt=Qt&51*Wt>>4,gt[dn]&=Wt>>2|Wt<<2),_n.lineTo(dn%Qe,dn/Qe|0),gt[dn]||--sn}while(an!==dn);--Ct}return Gt=null,gt=null,function(dn){dn.save(),dn.scale(1/l,-1/h),dn.translate(0,-h),dn.fill(_n),dn.beginPath(),dn.restore()}}class At{constructor(l,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,l,h])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,h){this.x=l,this.y=h}updatePathMinMax(l,h,c){[h,c]=n.Util.applyTransform([h,c],l),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,c)}updateRectMinMax(l,h){const c=n.Util.applyTransform(h,l),Le=n.Util.applyTransform(h.slice(2),l);this.minX=Math.min(this.minX,c[0],Le[0]),this.minY=Math.min(this.minY,c[1],Le[1]),this.maxX=Math.max(this.maxX,c[0],Le[0]),this.maxY=Math.max(this.maxY,c[1],Le[1])}updateScalingPathMinMax(l,h){n.Util.scaleMinMax(l,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(l,h,c,Le,Qe,gt,Ct,kt,Ut,Bt){const Gt=n.Util.bezierBoundingBox(h,c,Le,Qe,gt,Ct,kt,Ut);if(Bt){Bt[0]=Math.min(Bt[0],Gt[0],Gt[2]),Bt[1]=Math.max(Bt[1],Gt[0],Gt[2]),Bt[2]=Math.min(Bt[2],Gt[1],Gt[3]),Bt[3]=Math.max(Bt[3],Gt[1],Gt[3]);return}this.updateRectMinMax(l,Gt)}getPathBoundingBox(l=p.PathType.FILL,h=null){const c=[this.minX,this.minY,this.maxX,this.maxY];if(l===p.PathType.STROKE){h||(0,n.unreachable)("Stroke bounding box must include transform.");const Le=n.Util.singularValueDecompose2dScale(h),Qe=Le[0]*this.lineWidth/2,gt=Le[1]*this.lineWidth/2;c[0]-=Qe,c[1]-=gt,c[2]+=Qe,c[3]+=gt}return c}updateClipFromPath(){const l=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=p.PathType.FILL,h=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(l,h))}}function Et(Pt,l){if(typeof ImageData<"u"&&l instanceof ImageData){Pt.putImageData(l,0,0);return}const h=l.height,c=l.width,Le=h%bt,Qe=(h-Le)/bt,gt=Le===0?Qe:Qe+1,Ct=Pt.createImageData(c,bt);let kt=0,Ut;const Bt=l.data,Gt=Ct.data;let Jt,sn,nn,_n;if(l.kind===n.ImageKind.GRAYSCALE_1BPP){const Sn=Bt.byteLength,dn=new Uint32Array(Gt.buffer,0,Gt.byteLength>>2),vn=dn.length,an=c+7>>3,Wt=4294967295,qt=n.FeatureTest.isLittleEndian?4278190080:255;for(Jt=0;Jt<gt;Jt++){for(nn=Jt<Qe?bt:Le,Ut=0,sn=0;sn<nn;sn++){const Qt=Sn-kt;let mn=0;const gn=Qt>an?c:Qt*8-7,kn=gn&-8;let Mn=0,Fn=0;for(;mn<kn;mn+=8)Fn=Bt[kt++],dn[Ut++]=Fn&128?Wt:qt,dn[Ut++]=Fn&64?Wt:qt,dn[Ut++]=Fn&32?Wt:qt,dn[Ut++]=Fn&16?Wt:qt,dn[Ut++]=Fn&8?Wt:qt,dn[Ut++]=Fn&4?Wt:qt,dn[Ut++]=Fn&2?Wt:qt,dn[Ut++]=Fn&1?Wt:qt;for(;mn<gn;mn++)Mn===0&&(Fn=Bt[kt++],Mn=128),dn[Ut++]=Fn&Mn?Wt:qt,Mn>>=1}for(;Ut<vn;)dn[Ut++]=0;Pt.putImageData(Ct,0,Jt*bt)}}else if(l.kind===n.ImageKind.RGBA_32BPP){for(sn=0,_n=c*bt*4,Jt=0;Jt<Qe;Jt++)Gt.set(Bt.subarray(kt,kt+_n)),kt+=_n,Pt.putImageData(Ct,0,sn),sn+=bt;Jt<gt&&(_n=c*Le*4,Gt.set(Bt.subarray(kt,kt+_n)),Pt.putImageData(Ct,0,sn))}else if(l.kind===n.ImageKind.RGB_24BPP)for(nn=bt,_n=c*nn,Jt=0;Jt<gt;Jt++){for(Jt>=Qe&&(nn=Le,_n=c*nn),Ut=0,sn=_n;sn--;)Gt[Ut++]=Bt[kt++],Gt[Ut++]=Bt[kt++],Gt[Ut++]=Bt[kt++],Gt[Ut++]=255;Pt.putImageData(Ct,0,Jt*bt)}else throw new Error(`bad image kind: ${l.kind}`)}function _t(Pt,l){if(l.bitmap){Pt.drawImage(l.bitmap,0,0);return}const h=l.height,c=l.width,Le=h%bt,Qe=(h-Le)/bt,gt=Le===0?Qe:Qe+1,Ct=Pt.createImageData(c,bt);let kt=0;const Ut=l.data,Bt=Ct.data;for(let Gt=0;Gt<gt;Gt++){const Jt=Gt<Qe?bt:Le;({srcPos:kt}=(0,$e.convertBlackAndWhiteToRGBA)({src:Ut,srcPos:kt,dest:Bt,width:c,height:Jt,nonBlackColor:0})),Pt.putImageData(Ct,0,Gt*bt)}}function b(Pt,l){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const c of h)Pt[c]!==void 0&&(l[c]=Pt[c]);Pt.setLineDash!==void 0&&(l.setLineDash(Pt.getLineDash()),l.lineDashOffset=Pt.lineDashOffset)}function pe(Pt){if(Pt.strokeStyle=Pt.fillStyle="#000000",Pt.fillRule="nonzero",Pt.globalAlpha=1,Pt.lineWidth=1,Pt.lineCap="butt",Pt.lineJoin="miter",Pt.miterLimit=10,Pt.globalCompositeOperation="source-over",Pt.font="10px sans-serif",Pt.setLineDash!==void 0&&(Pt.setLineDash([]),Pt.lineDashOffset=0),!n.isNodeJS){const{filter:l}=Pt;l!=="none"&&l!==""&&(Pt.filter="none")}}function yt(Pt,l,h,c){const Le=Pt.length;for(let Qe=3;Qe<Le;Qe+=4){const gt=Pt[Qe];if(gt===0)Pt[Qe-3]=l,Pt[Qe-2]=h,Pt[Qe-1]=c;else if(gt<255){const Ct=255-gt;Pt[Qe-3]=Pt[Qe-3]*gt+l*Ct>>8,Pt[Qe-2]=Pt[Qe-2]*gt+h*Ct>>8,Pt[Qe-1]=Pt[Qe-1]*gt+c*Ct>>8}}}function d(Pt,l,h){const c=Pt.length,Le=1/255;for(let Qe=3;Qe<c;Qe+=4){const gt=h?h[Pt[Qe]]:Pt[Qe];l[Qe]=l[Qe]*gt*Le|0}}function a(Pt,l,h){const c=Pt.length;for(let Le=3;Le<c;Le+=4){const Qe=Pt[Le-3]*77+Pt[Le-2]*152+Pt[Le-1]*28;l[Le]=h?l[Le]*h[Qe>>8]>>8:l[Le]*Qe>>16}}function ot(Pt,l,h,c,Le,Qe,gt,Ct,kt,Ut,Bt){const Gt=!!Qe,Jt=Gt?Qe[0]:0,sn=Gt?Qe[1]:0,nn=Gt?Qe[2]:0,_n=Le==="Luminosity"?a:d,dn=Math.min(c,Math.ceil(1048576/h));for(let vn=0;vn<c;vn+=dn){const an=Math.min(dn,c-vn),Wt=Pt.getImageData(Ct-Ut,vn+(kt-Bt),h,an),qt=l.getImageData(Ct,vn+kt,h,an);Gt&&yt(Wt.data,Jt,sn,nn),_n(Wt.data,qt.data,gt),l.putImageData(qt,Ct,vn+kt)}}function ze(Pt,l,h,c){const Le=c[0],Qe=c[1],gt=c[2]-Le,Ct=c[3]-Qe;gt===0||Ct===0||(ot(l.context,h,gt,Ct,l.subtype,l.backdrop,l.transferMap,Le,Qe,l.offsetX,l.offsetY),Pt.save(),Pt.globalAlpha=1,Pt.globalCompositeOperation="source-over",Pt.setTransform(1,0,0,1,0,0),Pt.drawImage(h.canvas,0,0),Pt.restore())}function Rt(Pt,l){const h=n.Util.singularValueDecompose2dScale(Pt);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const c=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return l!==void 0?l:h[0]<=c||h[1]<=c}const Ft=["butt","round","square"],vt=["miter","round","bevel"],Nt={},Ht={},tn=class tn{constructor(l,h,c,Le,Qe,{optionalContentConfig:gt,markedContentStack:Ct=null},kt,Ut){Lt(this,Mt);Lt(this,ln);this.ctx=l,this.current=new At(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=c,this.canvasFactory=Le,this.filterFactory=Qe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ct||[],this.optionalContentConfig=gt,this.cachedCanvases=new ft(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=kt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ut,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(l,h=null){return typeof l=="string"?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):h}beginDrawing({transform:l,viewport:h,transparency:c=!1,background:Le=null}){const Qe=this.ctx.canvas.width,gt=this.ctx.canvas.height,Ct=this.ctx.fillStyle;if(this.ctx.fillStyle=Le||"#ffffff",this.ctx.fillRect(0,0,Qe,gt),this.ctx.fillStyle=Ct,c){const kt=this.cachedCanvases.getCanvas("transparent",Qe,gt);this.compositeCtx=this.ctx,this.transparentCanvas=kt.canvas,this.ctx=kt.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),pe(this.ctx),l&&(this.ctx.transform(...l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform(...h.transform),this.viewportScale=h.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(l,h,c,Le){const Qe=l.argsArray,gt=l.fnArray;let Ct=h||0;const kt=Qe.length;if(kt===Ct)return Ct;const Ut=kt-Ct>St&&typeof c=="function",Bt=Ut?Date.now()+E:0;let Gt=0;const Jt=this.commonObjs,sn=this.objs;let nn;for(;;){if(Le!==void 0&&Ct===Le.nextBreakPoint)return Le.breakIt(Ct,c),Ct;if(nn=gt[Ct],nn!==n.OPS.dependency)this[nn].apply(this,Qe[Ct]);else for(const _n of Qe[Ct]){const Sn=_n.startsWith("g_")?Jt:sn;if(!Sn.has(_n))return Sn.get(_n,c),Ct}if(Ct++,Ct===kt)return Ct;if(Ut&&++Gt>St){if(Date.now()>Bt)return c(),Ct;Gt=0}}}endDrawing(){zt(this,Mt,Vr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const l of this._cachedBitmapsMap.values()){for(const h of l.values())typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);l.clear()}this._cachedBitmapsMap.clear(),zt(this,ln,qr).call(this)}_scaleImage(l,h){const c=l.width,Le=l.height;let Qe=Math.max(Math.hypot(h[0],h[1]),1),gt=Math.max(Math.hypot(h[2],h[3]),1),Ct=c,kt=Le,Ut="prescale1",Bt,Gt;for(;Qe>2&&Ct>1||gt>2&&kt>1;){let Jt=Ct,sn=kt;Qe>2&&Ct>1&&(Jt=Ct>=16384?Math.floor(Ct/2)-1||1:Math.ceil(Ct/2),Qe/=Ct/Jt),gt>2&&kt>1&&(sn=kt>=16384?Math.floor(kt/2)-1||1:Math.ceil(kt)/2,gt/=kt/sn),Bt=this.cachedCanvases.getCanvas(Ut,Jt,sn),Gt=Bt.context,Gt.clearRect(0,0,Jt,sn),Gt.drawImage(l,0,0,Ct,kt,0,0,Jt,sn),l=Bt.canvas,Ct=Jt,kt=sn,Ut=Ut==="prescale1"?"prescale2":"prescale1"}return{img:l,paintWidth:Ct,paintHeight:kt}}_createMaskCanvas(l){const h=this.ctx,{width:c,height:Le}=l,Qe=this.current.fillColor,gt=this.current.patternFill,Ct=(0,s.getCurrentTransform)(h);let kt,Ut,Bt,Gt;if((l.bitmap||l.data)&&l.count>1){const mn=l.bitmap||l.data.buffer;Ut=JSON.stringify(gt?Ct:[Ct.slice(0,4),Qe]),kt=this._cachedBitmapsMap.get(mn),kt||(kt=new Map,this._cachedBitmapsMap.set(mn,kt));const gn=kt.get(Ut);if(gn&&!gt){const kn=Math.round(Math.min(Ct[0],Ct[2])+Ct[4]),Mn=Math.round(Math.min(Ct[1],Ct[3])+Ct[5]);return{canvas:gn,offsetX:kn,offsetY:Mn}}Bt=gn}Bt||(Gt=this.cachedCanvases.getCanvas("maskCanvas",c,Le),_t(Gt.context,l));let Jt=n.Util.transform(Ct,[1/c,0,0,-1/Le,0,0]);Jt=n.Util.transform(Jt,[1,0,0,1,0,-Le]);const sn=n.Util.applyTransform([0,0],Jt),nn=n.Util.applyTransform([c,Le],Jt),_n=n.Util.normalizeRect([sn[0],sn[1],nn[0],nn[1]]),Sn=Math.round(_n[2]-_n[0])||1,dn=Math.round(_n[3]-_n[1])||1,vn=this.cachedCanvases.getCanvas("fillCanvas",Sn,dn),an=vn.context,Wt=Math.min(sn[0],nn[0]),qt=Math.min(sn[1],nn[1]);an.translate(-Wt,-qt),an.transform(...Jt),Bt||(Bt=this._scaleImage(Gt.canvas,(0,s.getCurrentTransformInverse)(an)),Bt=Bt.img,kt&&gt&&kt.set(Ut,Bt)),an.imageSmoothingEnabled=Rt((0,s.getCurrentTransform)(an),l.interpolate),et(an,Bt,0,0,Bt.width,Bt.height,0,0,c,Le),an.globalCompositeOperation="source-in";const Qt=n.Util.transform((0,s.getCurrentTransformInverse)(an),[1,0,0,1,-Wt,-qt]);return an.fillStyle=gt?Qe.getPattern(h,this,Qt,p.PathType.FILL):Qe,an.fillRect(0,0,c,Le),kt&&!gt&&(this.cachedCanvases.delete("fillCanvas"),kt.set(Ut,vn.canvas)),{canvas:vn.canvas,offsetX:Math.round(Wt),offsetY:Math.round(qt)}}setLineWidth(l){l!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=Ft[l]}setLineJoin(l){this.ctx.lineJoin=vt[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,h){const c=this.ctx;c.setLineDash!==void 0&&(c.setLineDash(l),c.lineDashOffset=h)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[h,c]of l)switch(h){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c[0],c[1]);break;case"CA":this.current.strokeAlpha=c;break;case"ca":this.current.fillAlpha=c,this.ctx.globalAlpha=c;break;case"BM":this.ctx.globalCompositeOperation=c;break;case"SMask":this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.ctx.canvas.width,h=this.ctx.canvas.height,c="smaskGroupAt"+this.groupLevel,Le=this.cachedCanvases.getCanvas(c,l,h);this.suspendedCtx=this.ctx,this.ctx=Le.context;const Qe=this.ctx;Qe.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,Qe),mt(Qe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){if(!this.current.activeSMask)return;l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const h=this.current.activeSMask,c=this.suspendedCtx;ze(c,h,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(l,h,c,Le,Qe,gt){this.ctx.transform(l,h,c,Le,Qe,gt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(l,h,c){const Le=this.ctx,Qe=this.current;let gt=Qe.x,Ct=Qe.y,kt,Ut;const Bt=(0,s.getCurrentTransform)(Le),Gt=Bt[0]===0&&Bt[3]===0||Bt[1]===0&&Bt[2]===0,Jt=Gt?c.slice(0):null;for(let sn=0,nn=0,_n=l.length;sn<_n;sn++)switch(l[sn]|0){case n.OPS.rectangle:gt=h[nn++],Ct=h[nn++];const Sn=h[nn++],dn=h[nn++],vn=gt+Sn,an=Ct+dn;Le.moveTo(gt,Ct),Sn===0||dn===0?Le.lineTo(vn,an):(Le.lineTo(vn,Ct),Le.lineTo(vn,an),Le.lineTo(gt,an)),Gt||Qe.updateRectMinMax(Bt,[gt,Ct,vn,an]),Le.closePath();break;case n.OPS.moveTo:gt=h[nn++],Ct=h[nn++],Le.moveTo(gt,Ct),Gt||Qe.updatePathMinMax(Bt,gt,Ct);break;case n.OPS.lineTo:gt=h[nn++],Ct=h[nn++],Le.lineTo(gt,Ct),Gt||Qe.updatePathMinMax(Bt,gt,Ct);break;case n.OPS.curveTo:kt=gt,Ut=Ct,gt=h[nn+4],Ct=h[nn+5],Le.bezierCurveTo(h[nn],h[nn+1],h[nn+2],h[nn+3],gt,Ct),Qe.updateCurvePathMinMax(Bt,kt,Ut,h[nn],h[nn+1],h[nn+2],h[nn+3],gt,Ct,Jt),nn+=6;break;case n.OPS.curveTo2:kt=gt,Ut=Ct,Le.bezierCurveTo(gt,Ct,h[nn],h[nn+1],h[nn+2],h[nn+3]),Qe.updateCurvePathMinMax(Bt,kt,Ut,gt,Ct,h[nn],h[nn+1],h[nn+2],h[nn+3],Jt),gt=h[nn+2],Ct=h[nn+3],nn+=4;break;case n.OPS.curveTo3:kt=gt,Ut=Ct,gt=h[nn+2],Ct=h[nn+3],Le.bezierCurveTo(h[nn],h[nn+1],gt,Ct,gt,Ct),Qe.updateCurvePathMinMax(Bt,kt,Ut,h[nn],h[nn+1],gt,Ct,gt,Ct,Jt),nn+=4;break;case n.OPS.closePath:Le.closePath();break}Gt&&Qe.updateScalingPathMinMax(Bt,Jt),Qe.setCurrentPoint(gt,Ct)}closePath(){this.ctx.closePath()}stroke(l=!0){const h=this.ctx,c=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof c=="object"&&(c!=null&&c.getPattern)?(h.save(),h.strokeStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),p.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),l&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l=!0){const h=this.ctx,c=this.current.fillColor,Le=this.current.patternFill;let Qe=!1;Le&&(h.save(),h.fillStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),p.PathType.FILL),Qe=!0);const gt=this.current.getClippedPathBoundingBox();this.contentVisible&&gt!==null&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),Qe&&h.restore(),l&&this.consumePath(gt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Nt}eoClip(){this.pendingClip=Ht}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,h=this.ctx;if(l===void 0){h.beginPath();return}h.save(),h.beginPath();for(const c of l)h.setTransform(...c.transform),h.translate(c.x,c.y),c.addToPath(h,c.fontSize);h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,h){var Bt;const c=this.commonObjs.get(l),Le=this.current;if(!c)throw new Error(`Can't find font for ${l}`);if(Le.fontMatrix=c.fontMatrix||n.FONT_IDENTITY_MATRIX,(Le.fontMatrix[0]===0||Le.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+l),h<0?(h=-h,Le.fontDirection=-1):Le.fontDirection=1,this.current.font=c,this.current.fontSize=h,c.isType3Font)return;const Qe=c.loadedName||"sans-serif",gt=((Bt=c.systemFontInfo)==null?void 0:Bt.css)||`"${Qe}", ${c.fallbackName}`;let Ct="normal";c.black?Ct="900":c.bold&&(Ct="bold");const kt=c.italic?"italic":"normal";let Ut=h;h<Tt?Ut=Tt:h>P&&(Ut=P),this.current.fontSizeScale=h/Ut,this.ctx.font=`${kt} ${Ct} ${Ut}px ${gt}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,h){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=h}setLeadingMoveText(l,h){this.setLeading(-h),this.moveText(l,h)}setTextMatrix(l,h,c,Le,Qe,gt){this.current.textMatrix=[l,h,c,Le,Qe,gt],this.current.textMatrixScale=Math.hypot(l,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,h,c,Le){const Qe=this.ctx,gt=this.current,Ct=gt.font,kt=gt.textRenderingMode,Ut=gt.fontSize/gt.fontSizeScale,Bt=kt&n.TextRenderingMode.FILL_STROKE_MASK,Gt=!!(kt&n.TextRenderingMode.ADD_TO_PATH_FLAG),Jt=gt.patternFill&&!Ct.missingFile;let sn;(Ct.disableFontFace||Gt||Jt)&&(sn=Ct.getPathGenerator(this.commonObjs,l)),Ct.disableFontFace||Jt?(Qe.save(),Qe.translate(h,c),Qe.beginPath(),sn(Qe,Ut),Le&&Qe.setTransform(...Le),(Bt===n.TextRenderingMode.FILL||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.fill(),(Bt===n.TextRenderingMode.STROKE||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.stroke(),Qe.restore()):((Bt===n.TextRenderingMode.FILL||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.fillText(l,h,c),(Bt===n.TextRenderingMode.STROKE||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.strokeText(l,h,c)),Gt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,s.getCurrentTransform)(Qe),x:h,y:c,fontSize:Ut,addToPath:sn})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const h=l.getImageData(0,0,10,10).data;let c=!1;for(let Le=3;Le<h.length;Le+=4)if(h[Le]>0&&h[Le]<255){c=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",c)}showText(l){const h=this.current,c=h.font;if(c.isType3Font)return this.showType3Text(l);const Le=h.fontSize;if(Le===0)return;const Qe=this.ctx,gt=h.fontSizeScale,Ct=h.charSpacing,kt=h.wordSpacing,Ut=h.fontDirection,Bt=h.textHScale*Ut,Gt=l.length,Jt=c.vertical,sn=Jt?1:-1,nn=c.defaultVMetrics,_n=Le*h.fontMatrix[0],Sn=h.textRenderingMode===n.TextRenderingMode.FILL&&!c.disableFontFace&&!h.patternFill;Qe.save(),Qe.transform(...h.textMatrix),Qe.translate(h.x,h.y+h.textRise),Ut>0?Qe.scale(Bt,-1):Qe.scale(Bt,1);let dn;if(h.patternFill){Qe.save();const Qt=h.fillColor.getPattern(Qe,this,(0,s.getCurrentTransformInverse)(Qe),p.PathType.FILL);dn=(0,s.getCurrentTransform)(Qe),Qe.restore(),Qe.fillStyle=Qt}let vn=h.lineWidth;const an=h.textMatrixScale;if(an===0||vn===0){const Qt=h.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(Qt===n.TextRenderingMode.STROKE||Qt===n.TextRenderingMode.FILL_STROKE)&&(vn=this.getSinglePixelWidth())}else vn/=an;if(gt!==1&&(Qe.scale(gt,gt),vn/=gt),Qe.lineWidth=vn,c.isInvalidPDFjsFont){const Qt=[];let mn=0;for(const gn of l)Qt.push(gn.unicode),mn+=gn.width;Qe.fillText(Qt.join(""),0,0),h.x+=mn*_n*Bt,Qe.restore(),this.compose();return}let Wt=0,qt;for(qt=0;qt<Gt;++qt){const Qt=l[qt];if(typeof Qt=="number"){Wt+=sn*Qt*Le/1e3;continue}let mn=!1;const gn=(Qt.isSpace?kt:0)+Ct,kn=Qt.fontChar,Mn=Qt.accent;let Fn,In,Cn=Qt.width;if(Jt){const Dn=Qt.vmetric||nn,on=-(Qt.vmetric?Dn[1]:Cn*.5)*_n,Yt=Dn[2]*_n;Cn=Dn?-Dn[0]:Cn,Fn=on/gt,In=(Wt+Yt)/gt}else Fn=Wt/gt,In=0;if(c.remeasure&&Cn>0){const Dn=Qe.measureText(kn).width*1e3/Le*gt;if(Cn<Dn&&this.isFontSubpixelAAEnabled){const on=Cn/Dn;mn=!0,Qe.save(),Qe.scale(on,1),Fn/=on}else Cn!==Dn&&(Fn+=(Cn-Dn)/2e3*Le/gt)}if(this.contentVisible&&(Qt.isInFont||c.missingFile)){if(Sn&&!Mn)Qe.fillText(kn,Fn,In);else if(this.paintChar(kn,Fn,In,dn),Mn){const Dn=Fn+Le*Mn.offset.x/gt,on=In-Le*Mn.offset.y/gt;this.paintChar(Mn.fontChar,Dn,on,dn)}}const Ln=Jt?Cn*_n-gn*Ut:Cn*_n+gn*Ut;Wt+=Ln,mn&&Qe.restore()}Jt?h.y-=Wt:h.x+=Wt*Bt,Qe.restore(),this.compose()}showType3Text(l){const h=this.ctx,c=this.current,Le=c.font,Qe=c.fontSize,gt=c.fontDirection,Ct=Le.vertical?1:-1,kt=c.charSpacing,Ut=c.wordSpacing,Bt=c.textHScale*gt,Gt=c.fontMatrix||n.FONT_IDENTITY_MATRIX,Jt=l.length,sn=c.textRenderingMode===n.TextRenderingMode.INVISIBLE;let nn,_n,Sn,dn;if(!(sn||Qe===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,h.save(),h.transform(...c.textMatrix),h.translate(c.x,c.y),h.scale(Bt,gt),nn=0;nn<Jt;++nn){if(_n=l[nn],typeof _n=="number"){dn=Ct*_n*Qe/1e3,this.ctx.translate(dn,0),c.x+=dn*Bt;continue}const vn=(_n.isSpace?Ut:0)+kt,an=Le.charProcOperatorList[_n.operatorListId];if(!an){(0,n.warn)(`Type3 character "${_n.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_n,this.save(),h.scale(Qe,Qe),h.transform(...Gt),this.executeOperatorList(an),this.restore()),Sn=n.Util.applyTransform([_n.width,0],Gt)[0]*Qe+vn,h.translate(Sn,0),c.x+=Sn*Bt}h.restore(),this.processingType3=null}}setCharWidth(l,h){}setCharWidthAndBounds(l,h,c,Le,Qe,gt){this.ctx.rect(c,Le,Qe-c,gt-Le),this.ctx.clip(),this.endPath()}getColorN_Pattern(l){let h;if(l[0]==="TilingPattern"){const c=l[1],Le=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),Qe={createCanvasGraphics:gt=>new tn(gt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};h=new p.TilingPattern(l,c,this.ctx,Qe,Le)}else h=this._getPattern(l[1],l[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,h,c){const Le=n.Util.makeHexColor(l,h,c);this.ctx.strokeStyle=Le,this.current.strokeColor=Le}setFillRGBColor(l,h,c){const Le=n.Util.makeHexColor(l,h,c);this.ctx.fillStyle=Le,this.current.fillColor=Le,this.current.patternFill=!1}_getPattern(l,h=null){let c;return this.cachedPatterns.has(l)?c=this.cachedPatterns.get(l):(c=(0,p.getShadingPattern)(this.getObject(l)),this.cachedPatterns.set(l,c)),h&&(c.matrix=h),c}shadingFill(l){if(!this.contentVisible)return;const h=this.ctx;this.save();const c=this._getPattern(l);h.fillStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),p.PathType.SHADING);const Le=(0,s.getCurrentTransformInverse)(h);if(Le){const{width:Qe,height:gt}=h.canvas,[Ct,kt,Ut,Bt]=n.Util.getAxialAlignedBoundingBox([0,0,Qe,gt],Le);this.ctx.fillRect(Ct,kt,Ut-Ct,Bt-kt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,h){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&l.length===6&&this.transform(...l),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),h)){const c=h[2]-h[0],Le=h[3]-h[1];this.ctx.rect(h[0],h[1],c,Le),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),h),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;l.isolated||(0,n.info)("TODO: Support non-isolated groups."),l.knockout&&(0,n.warn)("Knockout groups not supported.");const c=(0,s.getCurrentTransform)(h);if(l.matrix&&h.transform(...l.matrix),!l.bbox)throw new Error("Bounding box is required.");let Le=n.Util.getAxialAlignedBoundingBox(l.bbox,(0,s.getCurrentTransform)(h));const Qe=[0,0,h.canvas.width,h.canvas.height];Le=n.Util.intersect(Le,Qe)||[0,0,0,0];const gt=Math.floor(Le[0]),Ct=Math.floor(Le[1]);let kt=Math.max(Math.ceil(Le[2])-gt,1),Ut=Math.max(Math.ceil(Le[3])-Ct,1),Bt=1,Gt=1;kt>N&&(Bt=kt/N,kt=N),Ut>N&&(Gt=Ut/N,Ut=N),this.current.startNewPathAndClipBox([0,0,kt,Ut]);let Jt="groupAt"+this.groupLevel;l.smask&&(Jt+="_smask_"+this.smaskCounter++%2);const sn=this.cachedCanvases.getCanvas(Jt,kt,Ut),nn=sn.context;nn.scale(1/Bt,1/Gt),nn.translate(-gt,-Ct),nn.transform(...c),l.smask?this.smaskStack.push({canvas:sn.canvas,context:nn,offsetX:gt,offsetY:Ct,scaleX:Bt,scaleY:Gt,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(gt,Ct),h.scale(Bt,Gt),h.save()),b(h,nn),this.ctx=nn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,c=this.groupStack.pop();if(this.ctx=c,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Le=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Le);const Qe=n.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],Le);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(Qe)}}beginAnnotation(l,h,c,Le,Qe){if(zt(this,Mt,Vr).call(this),pe(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(h)&&h.length===4){const gt=h[2]-h[0],Ct=h[3]-h[1];if(Qe&&this.annotationCanvasMap){c=c.slice(),c[4]-=h[0],c[5]-=h[1],h=h.slice(),h[0]=h[1]=0,h[2]=gt,h[3]=Ct;const[kt,Ut]=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:Bt}=this,Gt=Math.ceil(gt*this.outputScaleX*Bt),Jt=Math.ceil(Ct*this.outputScaleY*Bt);this.annotationCanvas=this.canvasFactory.create(Gt,Jt);const{canvas:sn,context:nn}=this.annotationCanvas;this.annotationCanvasMap.set(l,sn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=nn,this.ctx.save(),this.ctx.setTransform(kt,0,0,-Ut,0,Ct*Ut),pe(this.ctx)}else pe(this.ctx),this.ctx.rect(h[0],h[1],gt,Ct),this.ctx.clip(),this.endPath()}this.current=new At(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...c),this.transform(...Le)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),zt(this,ln,qr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(l){if(!this.contentVisible)return;const h=l.count;l=this.getObject(l.data,l),l.count=h;const c=this.ctx,Le=this.processingType3;if(Le&&(Le.compiled===void 0&&(Le.compiled=dt(l)),Le.compiled)){Le.compiled(c);return}const Qe=this._createMaskCanvas(l),gt=Qe.canvas;c.save(),c.setTransform(1,0,0,1,0,0),c.drawImage(gt,Qe.offsetX,Qe.offsetY),c.restore(),this.compose()}paintImageMaskXObjectRepeat(l,h,c=0,Le=0,Qe,gt){if(!this.contentVisible)return;l=this.getObject(l.data,l);const Ct=this.ctx;Ct.save();const kt=(0,s.getCurrentTransform)(Ct);Ct.transform(h,c,Le,Qe,0,0);const Ut=this._createMaskCanvas(l);Ct.setTransform(1,0,0,1,Ut.offsetX-kt[4],Ut.offsetY-kt[5]);for(let Bt=0,Gt=gt.length;Bt<Gt;Bt+=2){const Jt=n.Util.transform(kt,[h,c,Le,Qe,gt[Bt],gt[Bt+1]]),[sn,nn]=n.Util.applyTransform([0,0],Jt);Ct.drawImage(Ut.canvas,sn,nn)}Ct.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const h=this.ctx,c=this.current.fillColor,Le=this.current.patternFill;for(const Qe of l){const{data:gt,width:Ct,height:kt,transform:Ut}=Qe,Bt=this.cachedCanvases.getCanvas("maskCanvas",Ct,kt),Gt=Bt.context;Gt.save();const Jt=this.getObject(gt,Qe);_t(Gt,Jt),Gt.globalCompositeOperation="source-in",Gt.fillStyle=Le?c.getPattern(Gt,this,(0,s.getCurrentTransformInverse)(h),p.PathType.FILL):c,Gt.fillRect(0,0,Ct,kt),Gt.restore(),h.save(),h.transform(...Ut),h.scale(1,-1),et(h,Bt.canvas,0,0,Ct,kt,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const h=this.getObject(l);if(!h){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(h)}paintImageXObjectRepeat(l,h,c,Le){if(!this.contentVisible)return;const Qe=this.getObject(l);if(!Qe){(0,n.warn)("Dependent image isn't ready yet");return}const gt=Qe.width,Ct=Qe.height,kt=[];for(let Ut=0,Bt=Le.length;Ut<Bt;Ut+=2)kt.push({transform:[h,0,0,c,Le[Ut],Le[Ut+1]],x:0,y:0,w:gt,h:Ct});this.paintInlineImageXObjectGroup(Qe,kt)}applyTransferMapsToCanvas(l){return this.current.transferMaps!=="none"&&(l.filter=this.current.transferMaps,l.drawImage(l.canvas,0,0),l.filter="none"),l.canvas}applyTransferMapsToBitmap(l){if(this.current.transferMaps==="none")return l.bitmap;const{bitmap:h,width:c,height:Le}=l,Qe=this.cachedCanvases.getCanvas("inlineImage",c,Le),gt=Qe.context;return gt.filter=this.current.transferMaps,gt.drawImage(h,0,0),gt.filter="none",Qe.canvas}paintInlineImageXObject(l){if(!this.contentVisible)return;const h=l.width,c=l.height,Le=this.ctx;if(this.save(),!n.isNodeJS){const{filter:Ct}=Le;Ct!=="none"&&Ct!==""&&(Le.filter="none")}Le.scale(1/h,-1/c);let Qe;if(l.bitmap)Qe=this.applyTransferMapsToBitmap(l);else if(typeof HTMLElement=="function"&&l instanceof HTMLElement||!l.data)Qe=l;else{const kt=this.cachedCanvases.getCanvas("inlineImage",h,c).context;Et(kt,l),Qe=this.applyTransferMapsToCanvas(kt)}const gt=this._scaleImage(Qe,(0,s.getCurrentTransformInverse)(Le));Le.imageSmoothingEnabled=Rt((0,s.getCurrentTransform)(Le),l.interpolate),et(Le,gt.img,0,0,gt.paintWidth,gt.paintHeight,0,-c,h,c),this.compose(),this.restore()}paintInlineImageXObjectGroup(l,h){if(!this.contentVisible)return;const c=this.ctx;let Le;if(l.bitmap)Le=l.bitmap;else{const Qe=l.width,gt=l.height,kt=this.cachedCanvases.getCanvas("inlineImage",Qe,gt).context;Et(kt,l),Le=this.applyTransferMapsToCanvas(kt)}for(const Qe of h)c.save(),c.transform(...Qe.transform),c.scale(1,-1),et(c,Le,Qe.x,Qe.y,Qe.w,Qe.h,0,-1,1,1),c.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,h){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,h){l==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(h)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const c=this.ctx;this.pendingClip&&(h||(this.pendingClip===Ht?c.clip("evenodd"):c.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),c.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const l=(0,s.getCurrentTransform)(this.ctx);if(l[1]===0&&l[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(l[0]),Math.abs(l[3]));else{const h=Math.abs(l[0]*l[3]-l[2]*l[1]),c=Math.hypot(l[0],l[2]),Le=Math.hypot(l[1],l[3]);this._cachedGetSinglePixelWidth=Math.max(c,Le)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:l}=this.current,{a:h,b:c,c:Le,d:Qe}=this.ctx.getTransform();let gt,Ct;if(c===0&&Le===0){const kt=Math.abs(h),Ut=Math.abs(Qe);if(kt===Ut)if(l===0)gt=Ct=1/kt;else{const Bt=kt*l;gt=Ct=Bt<1?1/Bt:1}else if(l===0)gt=1/kt,Ct=1/Ut;else{const Bt=kt*l,Gt=Ut*l;gt=Bt<1?1/Bt:1,Ct=Gt<1?1/Gt:1}}else{const kt=Math.abs(h*Qe-c*Le),Ut=Math.hypot(h,c),Bt=Math.hypot(Le,Qe);if(l===0)gt=Bt/kt,Ct=Ut/kt;else{const Gt=l*kt;gt=Bt>Gt?Bt/Gt:1,Ct=Ut>Gt?Ut/Gt:1}}this._cachedScaleForStroking[0]=gt,this._cachedScaleForStroking[1]=Ct}return this._cachedScaleForStroking}rescaleAndStroke(l){const{ctx:h}=this,{lineWidth:c}=this.current,[Le,Qe]=this.getScaleForStroking();if(h.lineWidth=c||1,Le===1&&Qe===1){h.stroke();return}const gt=h.getLineDash();if(l&&h.save(),h.scale(Le,Qe),gt.length>0){const Ct=Math.max(Le,Qe);h.setLineDash(gt.map(kt=>kt/Ct)),h.lineDashOffset/=Ct}h.stroke(),l&&h.restore()}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}};Mt=new WeakSet,Vr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ln=new WeakSet,qr=function(){if(this.pageColors){const l=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(l!=="none"){const h=this.ctx.filter;this.ctx.filter=l,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=h}}};let It=tn;e.CanvasGraphics=It;for(const Pt in n.OPS)It.prototype[Pt]!==void 0&&(It.prototype[n.OPS[Pt]]=It.prototype[Pt])},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=bt;var n=i(1),s=i(6);const p={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=p;function $e(dt,At){if(!At)return;const Et=At[2]-At[0],_t=At[3]-At[1],b=new Path2D;b.rect(At[0],At[1],Et,_t),dt.clip(b)}class Tt{constructor(){this.constructor===Tt&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class P extends Tt{constructor(At){super(),this._type=At[1],this._bbox=At[2],this._colorStops=At[3],this._p0=At[4],this._p1=At[5],this._r0=At[6],this._r1=At[7],this.matrix=null}_createGradient(At){let Et;this._type==="axial"?Et=At.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Et=At.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _t of this._colorStops)Et.addColorStop(_t[0],_t[1]);return Et}getPattern(At,Et,_t,b){let pe;if(b===p.STROKE||b===p.FILL){const yt=Et.current.getClippedPathBoundingBox(b,(0,s.getCurrentTransform)(At))||[0,0,0,0],d=Math.ceil(yt[2]-yt[0])||1,a=Math.ceil(yt[3]-yt[1])||1,ot=Et.cachedCanvases.getCanvas("pattern",d,a,!0),ze=ot.context;ze.clearRect(0,0,ze.canvas.width,ze.canvas.height),ze.beginPath(),ze.rect(0,0,ze.canvas.width,ze.canvas.height),ze.translate(-yt[0],-yt[1]),_t=n.Util.transform(_t,[1,0,0,1,yt[0],yt[1]]),ze.transform(...Et.baseTransform),this.matrix&&ze.transform(...this.matrix),$e(ze,this._bbox),ze.fillStyle=this._createGradient(ze),ze.fill(),pe=At.createPattern(ot.canvas,"no-repeat");const Rt=new DOMMatrix(_t);pe.setTransform(Rt)}else $e(At,this._bbox),pe=this._createGradient(At);return pe}}function N(dt,At,Et,_t,b,pe,yt,d){const a=At.coords,ot=At.colors,ze=dt.data,Rt=dt.width*4;let Ft;a[Et+1]>a[_t+1]&&(Ft=Et,Et=_t,_t=Ft,Ft=pe,pe=yt,yt=Ft),a[_t+1]>a[b+1]&&(Ft=_t,_t=b,b=Ft,Ft=yt,yt=d,d=Ft),a[Et+1]>a[_t+1]&&(Ft=Et,Et=_t,_t=Ft,Ft=pe,pe=yt,yt=Ft);const vt=(a[Et]+At.offsetX)*At.scaleX,Nt=(a[Et+1]+At.offsetY)*At.scaleY,Ht=(a[_t]+At.offsetX)*At.scaleX,It=(a[_t+1]+At.offsetY)*At.scaleY,Mt=(a[b]+At.offsetX)*At.scaleX,jt=(a[b+1]+At.offsetY)*At.scaleY;if(Nt>=jt)return;const ln=ot[pe],cn=ot[pe+1],tn=ot[pe+2],Pt=ot[yt],l=ot[yt+1],h=ot[yt+2],c=ot[d],Le=ot[d+1],Qe=ot[d+2],gt=Math.round(Nt),Ct=Math.round(jt);let kt,Ut,Bt,Gt,Jt,sn,nn,_n;for(let Sn=gt;Sn<=Ct;Sn++){if(Sn<It){const qt=Sn<Nt?0:(Nt-Sn)/(Nt-It);kt=vt-(vt-Ht)*qt,Ut=ln-(ln-Pt)*qt,Bt=cn-(cn-l)*qt,Gt=tn-(tn-h)*qt}else{let qt;Sn>jt?qt=1:It===jt?qt=0:qt=(It-Sn)/(It-jt),kt=Ht-(Ht-Mt)*qt,Ut=Pt-(Pt-c)*qt,Bt=l-(l-Le)*qt,Gt=h-(h-Qe)*qt}let dn;Sn<Nt?dn=0:Sn>jt?dn=1:dn=(Nt-Sn)/(Nt-jt),Jt=vt-(vt-Mt)*dn,sn=ln-(ln-c)*dn,nn=cn-(cn-Le)*dn,_n=tn-(tn-Qe)*dn;const vn=Math.round(Math.min(kt,Jt)),an=Math.round(Math.max(kt,Jt));let Wt=Rt*Sn+vn*4;for(let qt=vn;qt<=an;qt++)dn=(kt-qt)/(kt-Jt),dn<0?dn=0:dn>1&&(dn=1),ze[Wt++]=Ut-(Ut-sn)*dn|0,ze[Wt++]=Bt-(Bt-nn)*dn|0,ze[Wt++]=Gt-(Gt-_n)*dn|0,ze[Wt++]=255}}function E(dt,At,Et){const _t=At.coords,b=At.colors;let pe,yt;switch(At.type){case"lattice":const d=At.verticesPerRow,a=Math.floor(_t.length/d)-1,ot=d-1;for(pe=0;pe<a;pe++){let ze=pe*d;for(let Rt=0;Rt<ot;Rt++,ze++)N(dt,Et,_t[ze],_t[ze+1],_t[ze+d],b[ze],b[ze+1],b[ze+d]),N(dt,Et,_t[ze+d+1],_t[ze+1],_t[ze+d],b[ze+d+1],b[ze+1],b[ze+d])}break;case"triangles":for(pe=0,yt=_t.length;pe<yt;pe+=3)N(dt,Et,_t[pe],_t[pe+1],_t[pe+2],b[pe],b[pe+1],b[pe+2]);break;default:throw new Error("illegal figure")}}class St extends Tt{constructor(At){super(),this._coords=At[2],this._colors=At[3],this._figures=At[4],this._bounds=At[5],this._bbox=At[7],this._background=At[8],this.matrix=null}_createMeshCanvas(At,Et,_t){const d=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),ot=Math.ceil(this._bounds[2])-d,ze=Math.ceil(this._bounds[3])-a,Rt=Math.min(Math.ceil(Math.abs(ot*At[0]*1.1)),3e3),Ft=Math.min(Math.ceil(Math.abs(ze*At[1]*1.1)),3e3),vt=ot/Rt,Nt=ze/Ft,Ht={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-a,scaleX:1/vt,scaleY:1/Nt},It=Rt+2*2,Mt=Ft+2*2,jt=_t.getCanvas("mesh",It,Mt,!1),ln=jt.context,cn=ln.createImageData(Rt,Ft);if(Et){const Pt=cn.data;for(let l=0,h=Pt.length;l<h;l+=4)Pt[l]=Et[0],Pt[l+1]=Et[1],Pt[l+2]=Et[2],Pt[l+3]=255}for(const Pt of this._figures)E(cn,Pt,Ht);return ln.putImageData(cn,2,2),{canvas:jt.canvas,offsetX:d-2*vt,offsetY:a-2*Nt,scaleX:vt,scaleY:Nt}}getPattern(At,Et,_t,b){$e(At,this._bbox);let pe;if(b===p.SHADING)pe=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(At));else if(pe=n.Util.singularValueDecompose2dScale(Et.baseTransform),this.matrix){const d=n.Util.singularValueDecompose2dScale(this.matrix);pe=[pe[0]*d[0],pe[1]*d[1]]}const yt=this._createMeshCanvas(pe,b===p.SHADING?null:this._background,Et.cachedCanvases);return b!==p.SHADING&&(At.setTransform(...Et.baseTransform),this.matrix&&At.transform(...this.matrix)),At.translate(yt.offsetX,yt.offsetY),At.scale(yt.scaleX,yt.scaleY),At.createPattern(yt.canvas,"no-repeat")}}class wt extends Tt{getPattern(){return"hotpink"}}function bt(dt){switch(dt[0]){case"RadialAxial":return new P(dt);case"Mesh":return new St(dt);case"Dummy":return new wt}throw new Error(`Unknown IR type: ${dt[0]}`)}const mt={COLORED:1,UNCOLORED:2},et=class et{constructor(At,Et,_t,b,pe){this.operatorList=At[2],this.matrix=At[3]||[1,0,0,1,0,0],this.bbox=At[4],this.xstep=At[5],this.ystep=At[6],this.paintType=At[7],this.tilingType=At[8],this.color=Et,this.ctx=_t,this.canvasGraphicsFactory=b,this.baseTransform=pe}createPatternCanvas(At){const Et=this.operatorList,_t=this.bbox,b=this.xstep,pe=this.ystep,yt=this.paintType,d=this.tilingType,a=this.color,ot=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+d);const ze=_t[0],Rt=_t[1],Ft=_t[2],vt=_t[3],Nt=n.Util.singularValueDecompose2dScale(this.matrix),Ht=n.Util.singularValueDecompose2dScale(this.baseTransform),It=[Nt[0]*Ht[0],Nt[1]*Ht[1]],Mt=this.getSizeAndScale(b,this.ctx.canvas.width,It[0]),jt=this.getSizeAndScale(pe,this.ctx.canvas.height,It[1]),ln=At.cachedCanvases.getCanvas("pattern",Mt.size,jt.size,!0),cn=ln.context,tn=ot.createCanvasGraphics(cn);tn.groupLevel=At.groupLevel,this.setFillAndStrokeStyleToContext(tn,yt,a);let Pt=ze,l=Rt,h=Ft,c=vt;return ze<0&&(Pt=0,h+=Math.abs(ze)),Rt<0&&(l=0,c+=Math.abs(Rt)),cn.translate(-(Mt.scale*Pt),-(jt.scale*l)),tn.transform(Mt.scale,0,0,jt.scale,0,0),cn.save(),this.clipBbox(tn,Pt,l,h,c),tn.baseTransform=(0,s.getCurrentTransform)(tn.ctx),tn.executeOperatorList(Et),tn.endDrawing(),{canvas:ln.canvas,scaleX:Mt.scale,scaleY:jt.scale,offsetX:Pt,offsetY:l}}getSizeAndScale(At,Et,_t){At=Math.abs(At);const b=Math.max(et.MAX_PATTERN_SIZE,Et);let pe=Math.ceil(At*_t);return pe>=b?pe=b:_t=pe/At,{scale:_t,size:pe}}clipBbox(At,Et,_t,b,pe){const yt=b-Et,d=pe-_t;At.ctx.rect(Et,_t,yt,d),At.current.updateRectMinMax((0,s.getCurrentTransform)(At.ctx),[Et,_t,b,pe]),At.clip(),At.endPath()}setFillAndStrokeStyleToContext(At,Et,_t){const b=At.ctx,pe=At.current;switch(Et){case mt.COLORED:const yt=this.ctx;b.fillStyle=yt.fillStyle,b.strokeStyle=yt.strokeStyle,pe.fillColor=yt.fillStyle,pe.strokeColor=yt.strokeStyle;break;case mt.UNCOLORED:const d=n.Util.makeHexColor(_t[0],_t[1],_t[2]);b.fillStyle=d,b.strokeStyle=d,pe.fillColor=d,pe.strokeColor=d;break;default:throw new n.FormatError(`Unsupported paint type: ${Et}`)}}getPattern(At,Et,_t,b){let pe=_t;b!==p.SHADING&&(pe=n.Util.transform(pe,Et.baseTransform),this.matrix&&(pe=n.Util.transform(pe,this.matrix)));const yt=this.createPatternCanvas(Et);let d=new DOMMatrix(pe);d=d.translate(yt.offsetX,yt.offsetY),d=d.scale(1/yt.scaleX,1/yt.scaleY);const a=At.createPattern(yt.canvas,"repeat");return a.setTransform(d),a}};Vn(et,"MAX_PATTERN_SIZE",3e3);let ft=et;e.TilingPattern=ft},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=p,e.convertToRGBA=s,e.grayToRGBA=Tt;var n=i(1);function s(P){switch(P.kind){case n.ImageKind.GRAYSCALE_1BPP:return p(P);case n.ImageKind.RGB_24BPP:return $e(P)}return null}function p({src:P,srcPos:N=0,dest:E,width:St,height:wt,nonBlackColor:bt=4294967295,inverseDecode:mt=!1}){const ft=n.FeatureTest.isLittleEndian?4278190080:255,[et,dt]=mt?[bt,ft]:[ft,bt],At=St>>3,Et=St&7,_t=P.length;E=new Uint32Array(E.buffer);let b=0;for(let pe=0;pe<wt;pe++){for(const d=N+At;N<d;N++){const a=N<_t?P[N]:255;E[b++]=a&128?dt:et,E[b++]=a&64?dt:et,E[b++]=a&32?dt:et,E[b++]=a&16?dt:et,E[b++]=a&8?dt:et,E[b++]=a&4?dt:et,E[b++]=a&2?dt:et,E[b++]=a&1?dt:et}if(Et===0)continue;const yt=N<_t?P[N++]:255;for(let d=0;d<Et;d++)E[b++]=yt&1<<7-d?dt:et}return{srcPos:N,destPos:b}}function $e({src:P,srcPos:N=0,dest:E,destPos:St=0,width:wt,height:bt}){let mt=0;const ft=P.length>>2,et=new Uint32Array(P.buffer,N,ft);if(n.FeatureTest.isLittleEndian){for(;mt<ft-2;mt+=3,St+=4){const dt=et[mt],At=et[mt+1],Et=et[mt+2];E[St]=dt|4278190080,E[St+1]=dt>>>24|At<<8|4278190080,E[St+2]=At>>>16|Et<<16|4278190080,E[St+3]=Et>>>8|4278190080}for(let dt=mt*4,At=P.length;dt<At;dt+=3)E[St++]=P[dt]|P[dt+1]<<8|P[dt+2]<<16|4278190080}else{for(;mt<ft-2;mt+=3,St+=4){const dt=et[mt],At=et[mt+1],Et=et[mt+2];E[St]=dt|255,E[St+1]=dt<<24|At>>>8|255,E[St+2]=At<<16|Et>>>16|255,E[St+3]=Et<<8|255}for(let dt=mt*4,At=P.length;dt<At;dt+=3)E[St++]=P[dt]<<24|P[dt+1]<<16|P[dt+2]<<8|255}return{srcPos:N,destPos:St}}function Tt(P,N){if(n.FeatureTest.isLittleEndian)for(let E=0,St=P.length;E<St;E++)N[E]=P[E]*65793|4278190080;else for(let E=0,St=P.length;E<St;E++)N[E]=P[E]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(t,e,i)=>{var P,Ei,E,Si,wt,Er;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=i(1);const s={UNKNOWN:0,DATA:1,ERROR:2},p={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $e(mt){switch(mt instanceof Error||typeof mt=="object"&&mt!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),mt.name){case"AbortException":return new n.AbortException(mt.message);case"MissingPDFException":return new n.MissingPDFException(mt.message);case"PasswordException":return new n.PasswordException(mt.message,mt.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(mt.message,mt.status);case"UnknownErrorException":return new n.UnknownErrorException(mt.message,mt.details);default:return new n.UnknownErrorException(mt.message,mt.toString())}}class Tt{constructor(ft,et,dt){Lt(this,P);Lt(this,E);Lt(this,wt);this.sourceName=ft,this.targetName=et,this.comObj=dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=At=>{const Et=At.data;if(Et.targetName!==this.sourceName)return;if(Et.stream){zt(this,E,Si).call(this,Et);return}if(Et.callback){const b=Et.callbackId,pe=this.callbackCapabilities[b];if(!pe)throw new Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],Et.callback===s.DATA)pe.resolve(Et.data);else if(Et.callback===s.ERROR)pe.reject($e(Et.reason));else throw new Error("Unexpected callback case");return}const _t=this.actionHandler[Et.action];if(!_t)throw new Error(`Unknown action from worker: ${Et.action}`);if(Et.callbackId){const b=this.sourceName,pe=Et.sourceName;new Promise(function(yt){yt(_t(Et.data))}).then(function(yt){dt.postMessage({sourceName:b,targetName:pe,callback:s.DATA,callbackId:Et.callbackId,data:yt})},function(yt){dt.postMessage({sourceName:b,targetName:pe,callback:s.ERROR,callbackId:Et.callbackId,reason:$e(yt)})});return}if(Et.streamId){zt(this,P,Ei).call(this,Et);return}_t(Et.data)},dt.addEventListener("message",this._onComObjOnMessage)}on(ft,et){const dt=this.actionHandler;if(dt[ft])throw new Error(`There is already an actionName called "${ft}"`);dt[ft]=et}send(ft,et,dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ft,data:et},dt)}sendWithPromise(ft,et,dt){const At=this.callbackId++,Et=new n.PromiseCapability;this.callbackCapabilities[At]=Et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ft,callbackId:At,data:et},dt)}catch(_t){Et.reject(_t)}return Et.promise}sendWithStream(ft,et,dt,At){const Et=this.streamId++,_t=this.sourceName,b=this.targetName,pe=this.comObj;return new ReadableStream({start:yt=>{const d=new n.PromiseCapability;return this.streamControllers[Et]={controller:yt,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},pe.postMessage({sourceName:_t,targetName:b,action:ft,streamId:Et,data:et,desiredSize:yt.desiredSize},At),d.promise},pull:yt=>{const d=new n.PromiseCapability;return this.streamControllers[Et].pullCall=d,pe.postMessage({sourceName:_t,targetName:b,stream:p.PULL,streamId:Et,desiredSize:yt.desiredSize}),d.promise},cancel:yt=>{(0,n.assert)(yt instanceof Error,"cancel must have a valid reason");const d=new n.PromiseCapability;return this.streamControllers[Et].cancelCall=d,this.streamControllers[Et].isClosed=!0,pe.postMessage({sourceName:_t,targetName:b,stream:p.CANCEL,streamId:Et,reason:$e(yt)}),d.promise}},dt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}P=new WeakSet,Ei=function(ft){const et=ft.streamId,dt=this.sourceName,At=ft.sourceName,Et=this.comObj,_t=this,b=this.actionHandler[ft.action],pe={enqueue(yt,d=1,a){if(this.isCancelled)return;const ot=this.desiredSize;this.desiredSize-=d,ot>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),Et.postMessage({sourceName:dt,targetName:At,stream:p.ENQUEUE,streamId:et,chunk:yt},a)},close(){this.isCancelled||(this.isCancelled=!0,Et.postMessage({sourceName:dt,targetName:At,stream:p.CLOSE,streamId:et}),delete _t.streamSinks[et])},error(yt){(0,n.assert)(yt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Et.postMessage({sourceName:dt,targetName:At,stream:p.ERROR,streamId:et,reason:$e(yt)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ft.desiredSize,ready:null};pe.sinkCapability.resolve(),pe.ready=pe.sinkCapability.promise,this.streamSinks[et]=pe,new Promise(function(yt){yt(b(ft.data,pe))}).then(function(){Et.postMessage({sourceName:dt,targetName:At,stream:p.START_COMPLETE,streamId:et,success:!0})},function(yt){Et.postMessage({sourceName:dt,targetName:At,stream:p.START_COMPLETE,streamId:et,reason:$e(yt)})})},E=new WeakSet,Si=function(ft){const et=ft.streamId,dt=this.sourceName,At=ft.sourceName,Et=this.comObj,_t=this.streamControllers[et],b=this.streamSinks[et];switch(ft.stream){case p.START_COMPLETE:ft.success?_t.startCall.resolve():_t.startCall.reject($e(ft.reason));break;case p.PULL_COMPLETE:ft.success?_t.pullCall.resolve():_t.pullCall.reject($e(ft.reason));break;case p.PULL:if(!b){Et.postMessage({sourceName:dt,targetName:At,stream:p.PULL_COMPLETE,streamId:et,success:!0});break}b.desiredSize<=0&&ft.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=ft.desiredSize,new Promise(function(pe){var yt;pe((yt=b.onPull)==null?void 0:yt.call(b))}).then(function(){Et.postMessage({sourceName:dt,targetName:At,stream:p.PULL_COMPLETE,streamId:et,success:!0})},function(pe){Et.postMessage({sourceName:dt,targetName:At,stream:p.PULL_COMPLETE,streamId:et,reason:$e(pe)})});break;case p.ENQUEUE:if((0,n.assert)(_t,"enqueue should have stream controller"),_t.isClosed)break;_t.controller.enqueue(ft.chunk);break;case p.CLOSE:if((0,n.assert)(_t,"close should have stream controller"),_t.isClosed)break;_t.isClosed=!0,_t.controller.close(),zt(this,wt,Er).call(this,_t,et);break;case p.ERROR:(0,n.assert)(_t,"error should have stream controller"),_t.controller.error($e(ft.reason)),zt(this,wt,Er).call(this,_t,et);break;case p.CANCEL_COMPLETE:ft.success?_t.cancelCall.resolve():_t.cancelCall.reject($e(ft.reason)),zt(this,wt,Er).call(this,_t,et);break;case p.CANCEL:if(!b)break;new Promise(function(pe){var yt;pe((yt=b.onCancel)==null?void 0:yt.call(b,$e(ft.reason)))}).then(function(){Et.postMessage({sourceName:dt,targetName:At,stream:p.CANCEL_COMPLETE,streamId:et,success:!0})},function(pe){Et.postMessage({sourceName:dt,targetName:At,stream:p.CANCEL_COMPLETE,streamId:et,reason:$e(pe)})}),b.sinkCapability.reject($e(ft.reason)),b.isCancelled=!0,delete this.streamSinks[et];break;default:throw new Error("Unexpected stream case")}},wt=new WeakSet,Er=async function(ft,et){var dt,At,Et;await Promise.allSettled([(dt=ft.startCall)==null?void 0:dt.promise,(At=ft.pullCall)==null?void 0:At.promise,(Et=ft.cancelCall)==null?void 0:Et.promise]),delete this.streamControllers[et]},e.MessageHandler=Tt},(t,e,i)=>{var p,$e;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=i(1);class s{constructor({parsedData:P,rawData:N}){Lt(this,p,void 0);Lt(this,$e,void 0);Zt(this,p,P),Zt(this,$e,N)}getRaw(){return o(this,$e)}get(P){return o(this,p).get(P)??null}getAll(){return(0,n.objectFromMap)(o(this,p))}has(P){return o(this,p).has(P)}}p=new WeakMap,$e=new WeakMap,e.Metadata=s},(t,e,i)=>{var P,N,E,St,wt,bt,Xr;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=i(1),s=i(8);const p=Symbol("INTERNAL");class $e{constructor(et,dt){Lt(this,P,!0);this.name=et,this.intent=dt}get visible(){return o(this,P)}_setVisible(et,dt){et!==p&&(0,n.unreachable)("Internal method `_setVisible` called."),Zt(this,P,dt)}}P=new WeakMap;class Tt{constructor(et){Lt(this,bt);Lt(this,N,null);Lt(this,E,new Map);Lt(this,St,null);Lt(this,wt,null);if(this.name=null,this.creator=null,et!==null){this.name=et.name,this.creator=et.creator,Zt(this,wt,et.order);for(const dt of et.groups)o(this,E).set(dt.id,new $e(dt.name,dt.intent));if(et.baseState==="OFF")for(const dt of o(this,E).values())dt._setVisible(p,!1);for(const dt of et.on)o(this,E).get(dt)._setVisible(p,!0);for(const dt of et.off)o(this,E).get(dt)._setVisible(p,!1);Zt(this,St,this.getHash())}}isVisible(et){if(o(this,E).size===0)return!0;if(!et)return(0,n.warn)("Optional content group not defined."),!0;if(et.type==="OCG")return o(this,E).has(et.id)?o(this,E).get(et.id).visible:((0,n.warn)(`Optional content group not found: ${et.id}`),!0);if(et.type==="OCMD"){if(et.expression)return zt(this,bt,Xr).call(this,et.expression);if(!et.policy||et.policy==="AnyOn"){for(const dt of et.ids){if(!o(this,E).has(dt))return(0,n.warn)(`Optional content group not found: ${dt}`),!0;if(o(this,E).get(dt).visible)return!0}return!1}else if(et.policy==="AllOn"){for(const dt of et.ids){if(!o(this,E).has(dt))return(0,n.warn)(`Optional content group not found: ${dt}`),!0;if(!o(this,E).get(dt).visible)return!1}return!0}else if(et.policy==="AnyOff"){for(const dt of et.ids){if(!o(this,E).has(dt))return(0,n.warn)(`Optional content group not found: ${dt}`),!0;if(!o(this,E).get(dt).visible)return!0}return!1}else if(et.policy==="AllOff"){for(const dt of et.ids){if(!o(this,E).has(dt))return(0,n.warn)(`Optional content group not found: ${dt}`),!0;if(o(this,E).get(dt).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${et.policy}.`),!0}return(0,n.warn)(`Unknown group type ${et.type}.`),!0}setVisibility(et,dt=!0){if(!o(this,E).has(et)){(0,n.warn)(`Optional content group not found: ${et}`);return}o(this,E).get(et)._setVisible(p,!!dt),Zt(this,N,null)}get hasInitialVisibility(){return o(this,St)===null||this.getHash()===o(this,St)}getOrder(){return o(this,E).size?o(this,wt)?o(this,wt).slice():[...o(this,E).keys()]:null}getGroups(){return o(this,E).size>0?(0,n.objectFromMap)(o(this,E)):null}getGroup(et){return o(this,E).get(et)||null}getHash(){if(o(this,N)!==null)return o(this,N);const et=new s.MurmurHash3_64;for(const[dt,At]of o(this,E))et.update(`${dt}:${At.visible}`);return Zt(this,N,et.hexdigest())}}N=new WeakMap,E=new WeakMap,St=new WeakMap,wt=new WeakMap,bt=new WeakSet,Xr=function(et){const dt=et.length;if(dt<2)return!0;const At=et[0];for(let Et=1;Et<dt;Et++){const _t=et[Et];let b;if(Array.isArray(_t))b=zt(this,bt,Xr).call(this,_t);else if(o(this,E).has(_t))b=o(this,E).get(_t).visible;else return(0,n.warn)(`Optional content group not found: ${_t}`),!0;switch(At){case"And":if(!b)return!1;break;case"Or":if(b)return!0;break;case"Not":return!b;default:return!0}}return At==="And"},e.OptionalContentConfig=Tt},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=i(1),s=i(6);class p{constructor({length:N,initialData:E,progressiveDone:St=!1,contentDispositionFilename:wt=null,disableRange:bt=!1,disableStream:mt=!1},ft){if((0,n.assert)(ft,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=St,this._contentDispositionFilename=wt,(E==null?void 0:E.length)>0){const et=E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength?E.buffer:new Uint8Array(E).buffer;this._queuedChunks.push(et)}this._pdfDataRangeTransport=ft,this._isStreamingSupported=!mt,this._isRangeSupported=!bt,this._contentLength=N,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((et,dt)=>{this._onReceiveData({begin:et,chunk:dt})}),this._pdfDataRangeTransport.addProgressListener((et,dt)=>{this._onProgress({loaded:et,total:dt})}),this._pdfDataRangeTransport.addProgressiveReadListener(et=>{this._onReceiveData({chunk:et})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:N,chunk:E}){const St=E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength?E.buffer:new Uint8Array(E).buffer;if(N===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(St):this._queuedChunks.push(St);else{const wt=this._rangeReaders.some(function(bt){return bt._begin!==N?!1:(bt._enqueue(St),!0)});(0,n.assert)(wt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var N;return((N=this._fullRequestReader)==null?void 0:N._loaded)??0}_onProgress(N){var E,St,wt,bt;N.total===void 0?(St=(E=this._rangeReaders[0])==null?void 0:E.onProgress)==null||St.call(E,{loaded:N.loaded}):(bt=(wt=this._fullRequestReader)==null?void 0:wt.onProgress)==null||bt.call(wt,{loaded:N.loaded,total:N.total})}_onProgressiveDone(){var N;(N=this._fullRequestReader)==null||N.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(N){const E=this._rangeReaders.indexOf(N);E>=0&&this._rangeReaders.splice(E,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const N=this._queuedChunks;return this._queuedChunks=null,new $e(this,N,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(N,E){if(E<=this._progressiveDataLength)return null;const St=new Tt(this,N,E);return this._pdfDataRangeTransport.requestDataRange(N,E),this._rangeReaders.push(St),St}cancelAllRequests(N){var E;(E=this._fullRequestReader)==null||E.cancel(N);for(const St of this._rangeReaders.slice(0))St.cancel(N);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=p;class $e{constructor(N,E,St=!1,wt=null){this._stream=N,this._done=St||!1,this._filename=(0,s.isPdfFile)(wt)?wt:null,this._queuedChunks=E||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),N._fullRequestReader=this,this.onProgress=null}_enqueue(N){this._done||(this._requests.length>0?this._requests.shift().resolve({value:N,done:!1}):this._queuedChunks.push(N),this._loaded+=N.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const N=new n.PromiseCapability;return this._requests.push(N),N.promise}cancel(N){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Tt{constructor(N,E,St){this._stream=N,this._begin=E,this._end=St,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(N){if(!this._done){if(this._requests.length===0)this._queuedChunk=N;else{this._requests.shift().resolve({value:N,done:!1});for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const N=new n.PromiseCapability;return this._requests.push(N),N.promise}cancel(N){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=i(1),s=i(20);function p(St,wt,bt){return{method:"GET",headers:St,signal:bt.signal,mode:"cors",credentials:wt?"include":"same-origin",redirect:"follow"}}function $e(St){const wt=new Headers;for(const bt in St){const mt=St[bt];mt!==void 0&&wt.append(bt,mt)}return wt}function Tt(St){return St instanceof Uint8Array?St.buffer:St instanceof ArrayBuffer?St:((0,n.warn)(`getArrayBuffer - unexpected data format: ${St}`),new Uint8Array(St).buffer)}class P{constructor(wt){this.source=wt,this.isHttp=/^https?:/i.test(wt.url),this.httpHeaders=this.isHttp&&wt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var wt;return((wt=this._fullRequestReader)==null?void 0:wt._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new N(this),this._fullRequestReader}getRangeReader(wt,bt){if(bt<=this._progressiveDataLength)return null;const mt=new E(this,wt,bt);return this._rangeRequestReaders.push(mt),mt}cancelAllRequests(wt){var bt;(bt=this._fullRequestReader)==null||bt.cancel(wt);for(const mt of this._rangeRequestReaders.slice(0))mt.cancel(wt)}}e.PDFFetchStream=P;class N{constructor(wt){this._stream=wt,this._reader=null,this._loaded=0,this._filename=null;const bt=wt.source;this._withCredentials=bt.withCredentials||!1,this._contentLength=bt.length,this._headersCapability=new n.PromiseCapability,this._disableRange=bt.disableRange||!1,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!bt.disableStream,this._isRangeSupported=!bt.disableRange,this._headers=$e(this._stream.httpHeaders);const mt=bt.url;fetch(mt,p(this._headers,this._withCredentials,this._abortController)).then(ft=>{if(!(0,s.validateResponseStatus)(ft.status))throw(0,s.createResponseStatusError)(ft.status,mt);this._reader=ft.body.getReader(),this._headersCapability.resolve();const et=Et=>ft.headers.get(Et),{allowRangeRequests:dt,suggestedLength:At}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:et,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=dt,this._contentLength=At||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(et),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mt;await this._headersCapability.promise;const{value:wt,done:bt}=await this._reader.read();return bt?{value:wt,done:bt}:(this._loaded+=wt.byteLength,(mt=this.onProgress)==null||mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Tt(wt),done:!1})}cancel(wt){var bt;(bt=this._reader)==null||bt.cancel(wt),this._abortController.abort()}}class E{constructor(wt,bt,mt){this._stream=wt,this._reader=null,this._loaded=0;const ft=wt.source;this._withCredentials=ft.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!ft.disableStream,this._abortController=new AbortController,this._headers=$e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${bt}-${mt-1}`);const et=ft.url;fetch(et,p(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,s.validateResponseStatus)(dt.status))throw(0,s.createResponseStatusError)(dt.status,et);this._readCapability.resolve(),this._reader=dt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mt;await this._readCapability.promise;const{value:wt,done:bt}=await this._reader.read();return bt?{value:wt,done:bt}:(this._loaded+=wt.byteLength,(mt=this.onProgress)==null||mt.call(this,{loaded:this._loaded}),{value:Tt(wt),done:!1})}cancel(wt){var bt;(bt=this._reader)==null||bt.cancel(wt),this._abortController.abort()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=P,e.extractFilenameFromHeader=Tt,e.validateRangeRequestCapabilities=$e,e.validateResponseStatus=N;var n=i(1),s=i(21),p=i(6);function $e({getResponseHeader:E,isHttp:St,rangeChunkSize:wt,disableRange:bt}){const mt={allowRangeRequests:!1,suggestedLength:void 0},ft=parseInt(E("Content-Length"),10);return!Number.isInteger(ft)||(mt.suggestedLength=ft,ft<=2*wt)||bt||!St||E("Accept-Ranges")!=="bytes"||(E("Content-Encoding")||"identity")!=="identity"||(mt.allowRangeRequests=!0),mt}function Tt(E){const St=E("Content-Disposition");if(St){let wt=(0,s.getFilenameFromContentDispositionHeader)(St);if(wt.includes("%"))try{wt=decodeURIComponent(wt)}catch{}if((0,p.isPdfFile)(wt))return wt}return null}function P(E,St){return E===404||E===0&&St.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+St+'".'):new n.UnexpectedResponseException(`Unexpected server response (${E}) while retrieving PDF "${St}".`,E)}function N(E){return E===200||E===206}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=s;var n=i(1);function s(p){let $e=!0,Tt=P("filename\\*","i").exec(p);if(Tt){Tt=Tt[1];let ft=wt(Tt);return ft=unescape(ft),ft=bt(ft),ft=mt(ft),E(ft)}if(Tt=St(p),Tt){const ft=mt(Tt);return E(ft)}if(Tt=P("filename","i").exec(p),Tt){Tt=Tt[1];let ft=wt(Tt);return ft=mt(ft),E(ft)}function P(ft,et){return new RegExp("(?:^|;)\\s*"+ft+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',et)}function N(ft,et){if(ft){if(!/^[\x00-\xFF]+$/.test(et))return et;try{const dt=new TextDecoder(ft,{fatal:!0}),At=(0,n.stringToBytes)(et);et=dt.decode(At),$e=!1}catch{}}return et}function E(ft){return $e&&/[\x80-\xff]/.test(ft)&&(ft=N("utf-8",ft),$e&&(ft=N("iso-8859-1",ft))),ft}function St(ft){const et=[];let dt;const At=P("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(dt=At.exec(ft))!==null;){let[,_t,b,pe]=dt;if(_t=parseInt(_t,10),_t in et){if(_t===0)break;continue}et[_t]=[b,pe]}const Et=[];for(let _t=0;_t<et.length&&_t in et;++_t){let[b,pe]=et[_t];pe=wt(pe),b&&(pe=unescape(pe),_t===0&&(pe=bt(pe))),Et.push(pe)}return Et.join("")}function wt(ft){if(ft.startsWith('"')){const et=ft.slice(1).split('\\"');for(let dt=0;dt<et.length;++dt){const At=et[dt].indexOf('"');At!==-1&&(et[dt]=et[dt].slice(0,At),et.length=dt+1),et[dt]=et[dt].replaceAll(/\\(.)/g,"$1")}ft=et.join('"')}return ft}function bt(ft){const et=ft.indexOf("'");if(et===-1)return ft;const dt=ft.slice(0,et),Et=ft.slice(et+1).replace(/^[^']*'/,"");return N(dt,Et)}function mt(ft){return!ft.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ft)?ft:ft.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(et,dt,At,Et){if(At==="q"||At==="Q")return Et=Et.replaceAll("_"," "),Et=Et.replaceAll(/=([0-9a-fA-F]{2})/g,function(_t,b){return String.fromCharCode(parseInt(b,16))}),N(dt,Et);try{Et=atob(Et)}catch{}return N(dt,Et)})}return""}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=i(1),s=i(20);const p=200,$e=206;function Tt(wt){const bt=wt.response;return typeof bt!="string"?bt:(0,n.stringToBytes)(bt).buffer}class P{constructor(bt,mt={}){this.url=bt,this.isHttp=/^https?:/i.test(bt),this.httpHeaders=this.isHttp&&mt.httpHeaders||Object.create(null),this.withCredentials=mt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(bt,mt,ft){const et={begin:bt,end:mt};for(const dt in ft)et[dt]=ft[dt];return this.request(et)}requestFull(bt){return this.request(bt)}request(bt){const mt=new XMLHttpRequest,ft=this.currXhrId++,et=this.pendingRequests[ft]={xhr:mt};mt.open("GET",this.url),mt.withCredentials=this.withCredentials;for(const dt in this.httpHeaders){const At=this.httpHeaders[dt];At!==void 0&&mt.setRequestHeader(dt,At)}return this.isHttp&&"begin"in bt&&"end"in bt?(mt.setRequestHeader("Range",`bytes=${bt.begin}-${bt.end-1}`),et.expectedStatus=$e):et.expectedStatus=p,mt.responseType="arraybuffer",bt.onError&&(mt.onerror=function(dt){bt.onError(mt.status)}),mt.onreadystatechange=this.onStateChange.bind(this,ft),mt.onprogress=this.onProgress.bind(this,ft),et.onHeadersReceived=bt.onHeadersReceived,et.onDone=bt.onDone,et.onError=bt.onError,et.onProgress=bt.onProgress,mt.send(null),ft}onProgress(bt,mt){var et;const ft=this.pendingRequests[bt];ft&&((et=ft.onProgress)==null||et.call(ft,mt))}onStateChange(bt,mt){var _t,b,pe;const ft=this.pendingRequests[bt];if(!ft)return;const et=ft.xhr;if(et.readyState>=2&&ft.onHeadersReceived&&(ft.onHeadersReceived(),delete ft.onHeadersReceived),et.readyState!==4||!(bt in this.pendingRequests))return;if(delete this.pendingRequests[bt],et.status===0&&this.isHttp){(_t=ft.onError)==null||_t.call(ft,et.status);return}const dt=et.status||p;if(!(dt===p&&ft.expectedStatus===$e)&&dt!==ft.expectedStatus){(b=ft.onError)==null||b.call(ft,et.status);return}const Et=Tt(et);if(dt===$e){const yt=et.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(yt);ft.onDone({begin:parseInt(d[1],10),chunk:Et})}else Et?ft.onDone({begin:0,chunk:Et}):(pe=ft.onError)==null||pe.call(ft,et.status)}getRequestXhr(bt){return this.pendingRequests[bt].xhr}isPendingRequest(bt){return bt in this.pendingRequests}abortRequest(bt){const mt=this.pendingRequests[bt].xhr;delete this.pendingRequests[bt],mt.abort()}}class N{constructor(bt){this._source=bt,this._manager=new P(bt.url,{httpHeaders:bt.httpHeaders,withCredentials:bt.withCredentials}),this._rangeChunkSize=bt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(bt){const mt=this._rangeRequestReaders.indexOf(bt);mt>=0&&this._rangeRequestReaders.splice(mt,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E(this._manager,this._source),this._fullRequestReader}getRangeReader(bt,mt){const ft=new St(this._manager,bt,mt);return ft.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ft),ft}cancelAllRequests(bt){var mt;(mt=this._fullRequestReader)==null||mt.cancel(bt);for(const ft of this._rangeRequestReaders.slice(0))ft.cancel(bt)}}e.PDFNetworkStream=N;class E{constructor(bt,mt){this._manager=bt;const ft={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=mt.url,this._fullRequestId=bt.requestFull(ft),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=mt.disableRange||!1,this._contentLength=mt.length,this._rangeChunkSize=mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const bt=this._fullRequestId,mt=this._manager.getRequestXhr(bt),ft=At=>mt.getResponseHeader(At),{allowRangeRequests:et,suggestedLength:dt}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});et&&(this._isRangeSupported=!0),this._contentLength=dt||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(ft),this._isRangeSupported&&this._manager.abortRequest(bt),this._headersReceivedCapability.resolve()}_onDone(bt){if(bt&&(this._requests.length>0?this._requests.shift().resolve({value:bt.chunk,done:!1}):this._cachedChunks.push(bt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(bt){this._storedError=(0,s.createResponseStatusError)(bt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const mt of this._requests)mt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(bt){var mt;(mt=this.onProgress)==null||mt.call(this,{loaded:bt.loaded,total:bt.lengthComputable?bt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const bt=new n.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0,this._headersReceivedCapability.reject(bt);for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class St{constructor(bt,mt,ft){this._manager=bt;const et={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._requestId=bt.requestRange(mt,ft,et),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var bt;(bt=this.onClosed)==null||bt.call(this,this)}_onDone(bt){const mt=bt.chunk;this._requests.length>0?this._requests.shift().resolve({value:mt,done:!1}):this._queuedChunk=mt,this._done=!0;for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(bt){this._storedError=(0,s.createResponseStatusError)(bt,this._url);for(const mt of this._requests)mt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(bt){var mt;this.isStreamingSupported||(mt=this.onProgress)==null||mt.call(this,{loaded:bt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const mt=this._queuedChunk;return this._queuedChunk=null,{value:mt,done:!1}}if(this._done)return{value:void 0,done:!0};const bt=new n.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=i(1),s=i(20);const p=/^file:\/\/\/[a-zA-Z]:\//;function $e(ft){const et=require$$5,dt=et.parse(ft);return dt.protocol==="file:"||dt.host?dt:/^[a-z]:[/\\]/i.test(ft)?et.parse(`file:///${ft}`):(dt.host||(dt.protocol="file:"),dt)}class Tt{constructor(et){this.source=et,this.url=$e(et.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new bt(this):new St(this),this._fullRequestReader}getRangeReader(et,dt){if(dt<=this._progressiveDataLength)return null;const At=this.isFsUrl?new mt(this,et,dt):new wt(this,et,dt);return this._rangeRequestReaders.push(At),At}cancelAllRequests(et){var dt;(dt=this._fullRequestReader)==null||dt.cancel(et);for(const At of this._rangeRequestReaders.slice(0))At.cancel(et)}}e.PDFNodeStream=Tt;class P{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null;const dt=et.source;this._contentLength=dt.length,this._loaded=0,this._filename=null,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var At;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=et.length,(At=this.onProgress)==null||At.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",dt=>{this._error(dt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const dt=et.source;this._isStreamingSupported=!dt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var At;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=et.length,(At=this.onProgress)==null||At.call(this,{loaded:this._loaded}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",dt=>{this._error(dt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E(ft,et){return{protocol:ft.protocol,auth:ft.auth,host:ft.hostname,port:ft.port,path:ft.path,method:"GET",headers:et}}class St extends P{constructor(et){super(et);const dt=At=>{if(At.statusCode===404){const pe=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pe,this._headersCapability.reject(pe);return}this._headersCapability.resolve(),this._setReadableStream(At);const Et=pe=>this._readableStream.headers[pe.toLowerCase()],{allowRangeRequests:_t,suggestedLength:b}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:Et,isHttp:et.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_t,this._contentLength=b||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(Et)};if(this._request=null,this._url.protocol==="http:"){const At=require$$5;this._request=At.request(E(this._url,et.httpHeaders),dt)}else{const At=require$$5;this._request=At.request(E(this._url,et.httpHeaders),dt)}this._request.on("error",At=>{this._storedError=At,this._headersCapability.reject(At)}),this._request.end()}}class wt extends N{constructor(et,dt,At){super(et),this._httpHeaders={};for(const _t in et.httpHeaders){const b=et.httpHeaders[_t];b!==void 0&&(this._httpHeaders[_t]=b)}this._httpHeaders.Range=`bytes=${dt}-${At-1}`;const Et=_t=>{if(_t.statusCode===404){const b=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b;return}this._setReadableStream(_t)};if(this._request=null,this._url.protocol==="http:"){const _t=require$$5;this._request=_t.request(E(this._url,this._httpHeaders),Et)}else{const _t=require$$5;this._request=_t.request(E(this._url,this._httpHeaders),Et)}this._request.on("error",_t=>{this._storedError=_t}),this._request.end()}}class bt extends P{constructor(et){super(et);let dt=decodeURIComponent(this._url.path);p.test(this._url.href)&&(dt=dt.replace(/^\//,""));const At=require$$5;At.lstat(dt,(Et,_t)=>{if(Et){Et.code==="ENOENT"&&(Et=new n.MissingPDFException(`Missing PDF "${dt}".`)),this._storedError=Et,this._headersCapability.reject(Et);return}this._contentLength=_t.size,this._setReadableStream(At.createReadStream(dt)),this._headersCapability.resolve()})}}class mt extends N{constructor(et,dt,At){super(et);let Et=decodeURIComponent(this._url.path);p.test(this._url.href)&&(Et=Et.replace(/^\//,""));const _t=require$$5;this._setReadableStream(_t.createReadStream(Et,{start:dt,end:At-1}))}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=i(6),s=i(1);const p={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},$e="http://www.w3.org/XML/1998/namespace",Tt="http://www.w3.org/1999/xlink",P=["butt","round","square"],N=["miter","round","bevel"],E=function(_t,b="",pe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pe)return URL.createObjectURL(new Blob([_t],{type:b}));const yt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${b};base64,`;for(let a=0,ot=_t.length;a<ot;a+=3){const ze=_t[a]&255,Rt=_t[a+1]&255,Ft=_t[a+2]&255,vt=ze>>2,Nt=(ze&3)<<4|Rt>>4,Ht=a+1<ot?(Rt&15)<<2|Ft>>6:64,It=a+2<ot?Ft&63:64;d+=yt[vt]+yt[Nt]+yt[Ht]+yt[It]}return d},St=function(){const _t=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,pe=new Int32Array(256);for(let Ft=0;Ft<256;Ft++){let vt=Ft;for(let Nt=0;Nt<8;Nt++)vt=vt&1?3988292384^vt>>1&2147483647:vt>>1&2147483647;pe[Ft]=vt}function yt(Ft,vt,Nt){let Ht=-1;for(let It=vt;It<Nt;It++){const Mt=(Ht^Ft[It])&255,jt=pe[Mt];Ht=Ht>>>8^jt}return Ht^-1}function d(Ft,vt,Nt,Ht){let It=Ht;const Mt=vt.length;Nt[It]=Mt>>24&255,Nt[It+1]=Mt>>16&255,Nt[It+2]=Mt>>8&255,Nt[It+3]=Mt&255,It+=4,Nt[It]=Ft.charCodeAt(0)&255,Nt[It+1]=Ft.charCodeAt(1)&255,Nt[It+2]=Ft.charCodeAt(2)&255,Nt[It+3]=Ft.charCodeAt(3)&255,It+=4,Nt.set(vt,It),It+=vt.length;const jt=yt(Nt,Ht+4,It);Nt[It]=jt>>24&255,Nt[It+1]=jt>>16&255,Nt[It+2]=jt>>8&255,Nt[It+3]=jt&255}function a(Ft,vt,Nt){let Ht=1,It=0;for(let Mt=vt;Mt<Nt;++Mt)Ht=(Ht+(Ft[Mt]&255))%65521,It=(It+Ht)%65521;return It<<16|Ht}function ot(Ft){if(!s.isNodeJS)return ze(Ft);try{const vt=parseInt(process.versions.node)>=8?Ft:Buffer.from(Ft),Nt=require$$5.deflateSync(vt,{level:9});return Nt instanceof Uint8Array?Nt:new Uint8Array(Nt)}catch(vt){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+vt)}return ze(Ft)}function ze(Ft){let vt=Ft.length;const Nt=65535,Ht=Math.ceil(vt/Nt),It=new Uint8Array(2+vt+Ht*5+4);let Mt=0;It[Mt++]=120,It[Mt++]=156;let jt=0;for(;vt>Nt;)It[Mt++]=0,It[Mt++]=255,It[Mt++]=255,It[Mt++]=0,It[Mt++]=0,It.set(Ft.subarray(jt,jt+Nt),Mt),Mt+=Nt,jt+=Nt,vt-=Nt;It[Mt++]=1,It[Mt++]=vt&255,It[Mt++]=vt>>8&255,It[Mt++]=~vt&65535&255,It[Mt++]=(~vt&65535)>>8&255,It.set(Ft.subarray(jt),Mt),Mt+=Ft.length-jt;const ln=a(Ft,0,Ft.length);return It[Mt++]=ln>>24&255,It[Mt++]=ln>>16&255,It[Mt++]=ln>>8&255,It[Mt++]=ln&255,It}function Rt(Ft,vt,Nt,Ht){const It=Ft.width,Mt=Ft.height;let jt,ln,cn;const tn=Ft.data;switch(vt){case s.ImageKind.GRAYSCALE_1BPP:ln=0,jt=1,cn=It+7>>3;break;case s.ImageKind.RGB_24BPP:ln=2,jt=8,cn=It*3;break;case s.ImageKind.RGBA_32BPP:ln=6,jt=8,cn=It*4;break;default:throw new Error("invalid format")}const Pt=new Uint8Array((1+cn)*Mt);let l=0,h=0;for(let kt=0;kt<Mt;++kt)Pt[l++]=0,Pt.set(tn.subarray(h,h+cn),l),h+=cn,l+=cn;if(vt===s.ImageKind.GRAYSCALE_1BPP&&Ht){l=0;for(let kt=0;kt<Mt;kt++){l++;for(let Ut=0;Ut<cn;Ut++)Pt[l++]^=255}}const c=new Uint8Array([It>>24&255,It>>16&255,It>>8&255,It&255,Mt>>24&255,Mt>>16&255,Mt>>8&255,Mt&255,jt,ln,0,0,0]),Le=ot(Pt),Qe=_t.length+b*3+c.length+Le.length,gt=new Uint8Array(Qe);let Ct=0;return gt.set(_t,Ct),Ct+=_t.length,d("IHDR",c,gt,Ct),Ct+=b+c.length,d("IDATA",Le,gt,Ct),Ct+=b+Le.length,d("IEND",new Uint8Array(0),gt,Ct),E(gt,"image/png",Nt)}return function(vt,Nt,Ht){const It=vt.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:vt.kind;return Rt(vt,It,Nt,Ht)}}();class wt{constructor(){this.fontSizeScale=1,this.fontWeight=p.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=p.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(b,pe){this.x=b,this.y=pe}}function bt(_t){let b=[];const pe=[];for(const yt of _t){if(yt.fn==="save"){b.push({fnId:92,fn:"group",items:[]}),pe.push(b),b=b.at(-1).items;continue}yt.fn==="restore"?b=pe.pop():b.push(yt)}return b}function mt(_t){if(Number.isInteger(_t))return _t.toString();const b=_t.toFixed(10);let pe=b.length-1;if(b[pe]!=="0")return b;do pe--;while(b[pe]==="0");return b.substring(0,b[pe]==="."?pe:pe+1)}function ft(_t){if(_t[4]===0&&_t[5]===0){if(_t[1]===0&&_t[2]===0)return _t[0]===1&&_t[3]===1?"":`scale(${mt(_t[0])} ${mt(_t[3])})`;if(_t[0]===_t[3]&&_t[1]===-_t[2]){const b=Math.acos(_t[0])*180/Math.PI;return`rotate(${mt(b)})`}}else if(_t[0]===1&&_t[1]===0&&_t[2]===0&&_t[3]===1)return`translate(${mt(_t[4])} ${mt(_t[5])})`;return`matrix(${mt(_t[0])} ${mt(_t[1])} ${mt(_t[2])} ${mt(_t[3])} ${mt(_t[4])} ${mt(_t[5])})`}let et=0,dt=0,At=0;class Et{constructor(b,pe,yt=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new wt,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=pe,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!yt,this._operatorIdMapping=[];for(const d in s.OPS)this._operatorIdMapping[s.OPS[d]]=d}getObject(b,pe=null){return typeof b=="string"?b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b):pe}save(){this.transformStack.push(this.transformMatrix);const b=this.current;this.extraStack.push(b),this.current=b.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(b){this.save(),this.executeOpTree(b),this.restore()}loadDependencies(b){const pe=b.fnArray,yt=b.argsArray;for(let d=0,a=pe.length;d<a;d++)if(pe[d]===s.OPS.dependency)for(const ot of yt[d]){const ze=ot.startsWith("g_")?this.commonObjs:this.objs,Rt=new Promise(Ft=>{ze.get(ot,Ft)});this.current.dependencies.push(Rt)}return Promise.all(this.current.dependencies)}transform(b,pe,yt,d,a,ot){const ze=[b,pe,yt,d,a,ot];this.transformMatrix=s.Util.transform(this.transformMatrix,ze),this.tgrp=null}getSVG(b,pe){this.viewport=pe;const yt=this._initialize(pe);return this.loadDependencies(b).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(b)),yt))}convertOpList(b){const pe=this._operatorIdMapping,yt=b.argsArray,d=b.fnArray,a=[];for(let ot=0,ze=d.length;ot<ze;ot++){const Rt=d[ot];a.push({fnId:Rt,fn:pe[Rt],args:yt[ot]})}return bt(a)}executeOpTree(b){for(const pe of b){const yt=pe.fn,d=pe.fnId,a=pe.args;switch(d|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(a);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case s.OPS.setFont:this.setFont(a);break;case s.OPS.showText:this.showText(a[0]);break;case s.OPS.showSpacedText:this.showText(a[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(a[0],a[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case s.OPS.setHScale:this.setHScale(a[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case s.OPS.setTextRise:this.setTextRise(a[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(a[0]);break;case s.OPS.setLineWidth:this.setLineWidth(a[0]);break;case s.OPS.setLineJoin:this.setLineJoin(a[0]);break;case s.OPS.setLineCap:this.setLineCap(a[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(a);break;case s.OPS.setFillColorN:this.setFillColorN(a);break;case s.OPS.shadingFill:this.shadingFill(a[0]);break;case s.OPS.setDash:this.setDash(a[0],a[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(a[0]);break;case s.OPS.setFlatness:this.setFlatness(a[0]);break;case s.OPS.setGState:this.setGState(a[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case s.OPS.constructPath:this.constructPath(a[0],a[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(pe.items);break;default:(0,s.warn)(`Unimplemented operator ${yt}`);break}}}setWordSpacing(b){this.current.wordSpacing=b}setCharSpacing(b){this.current.charSpacing=b}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(b,pe,yt,d,a,ot){const ze=this.current;ze.textMatrix=ze.lineMatrix=[b,pe,yt,d,a,ot],ze.textMatrixScale=Math.hypot(b,pe),ze.x=ze.lineX=0,ze.y=ze.lineY=0,ze.xcoords=[],ze.ycoords=[],ze.tspan=this.svgFactory.createElement("svg:tspan"),ze.tspan.setAttributeNS(null,"font-family",ze.fontFamily),ze.tspan.setAttributeNS(null,"font-size",`${mt(ze.fontSize)}px`),ze.tspan.setAttributeNS(null,"y",mt(-ze.y)),ze.txtElement=this.svgFactory.createElement("svg:text"),ze.txtElement.append(ze.tspan)}beginText(){const b=this.current;b.x=b.lineX=0,b.y=b.lineY=0,b.textMatrix=s.IDENTITY_MATRIX,b.lineMatrix=s.IDENTITY_MATRIX,b.textMatrixScale=1,b.tspan=this.svgFactory.createElement("svg:tspan"),b.txtElement=this.svgFactory.createElement("svg:text"),b.txtgrp=this.svgFactory.createElement("svg:g"),b.xcoords=[],b.ycoords=[]}moveText(b,pe){const yt=this.current;yt.x=yt.lineX+=b,yt.y=yt.lineY+=pe,yt.xcoords=[],yt.ycoords=[],yt.tspan=this.svgFactory.createElement("svg:tspan"),yt.tspan.setAttributeNS(null,"font-family",yt.fontFamily),yt.tspan.setAttributeNS(null,"font-size",`${mt(yt.fontSize)}px`),yt.tspan.setAttributeNS(null,"y",mt(-yt.y))}showText(b){const pe=this.current,yt=pe.font,d=pe.fontSize;if(d===0)return;const a=pe.fontSizeScale,ot=pe.charSpacing,ze=pe.wordSpacing,Rt=pe.fontDirection,Ft=pe.textHScale*Rt,vt=yt.vertical,Nt=vt?1:-1,Ht=yt.defaultVMetrics,It=d*pe.fontMatrix[0];let Mt=0;for(const cn of b){if(cn===null){Mt+=Rt*ze;continue}else if(typeof cn=="number"){Mt+=Nt*cn*d/1e3;continue}const tn=(cn.isSpace?ze:0)+ot,Pt=cn.fontChar;let l,h,c=cn.width;if(vt){let Qe;const gt=cn.vmetric||Ht;Qe=cn.vmetric?gt[1]:c*.5,Qe=-Qe*It;const Ct=gt[2]*It;c=gt?-gt[0]:c,l=Qe/a,h=(Mt+Ct)/a}else l=Mt/a,h=0;(cn.isInFont||yt.missingFile)&&(pe.xcoords.push(pe.x+l),vt&&pe.ycoords.push(-pe.y+h),pe.tspan.textContent+=Pt);const Le=vt?c*It-tn*Rt:c*It+tn*Rt;Mt+=Le}pe.tspan.setAttributeNS(null,"x",pe.xcoords.map(mt).join(" ")),vt?pe.tspan.setAttributeNS(null,"y",pe.ycoords.map(mt).join(" ")):pe.tspan.setAttributeNS(null,"y",mt(-pe.y)),vt?pe.y-=Mt:pe.x+=Mt*Ft,pe.tspan.setAttributeNS(null,"font-family",pe.fontFamily),pe.tspan.setAttributeNS(null,"font-size",`${mt(pe.fontSize)}px`),pe.fontStyle!==p.fontStyle&&pe.tspan.setAttributeNS(null,"font-style",pe.fontStyle),pe.fontWeight!==p.fontWeight&&pe.tspan.setAttributeNS(null,"font-weight",pe.fontWeight);const jt=pe.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(jt===s.TextRenderingMode.FILL||jt===s.TextRenderingMode.FILL_STROKE?(pe.fillColor!==p.fillColor&&pe.tspan.setAttributeNS(null,"fill",pe.fillColor),pe.fillAlpha<1&&pe.tspan.setAttributeNS(null,"fill-opacity",pe.fillAlpha)):pe.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?pe.tspan.setAttributeNS(null,"fill","transparent"):pe.tspan.setAttributeNS(null,"fill","none"),jt===s.TextRenderingMode.STROKE||jt===s.TextRenderingMode.FILL_STROKE){const cn=1/(pe.textMatrixScale||1);this._setStrokeAttributes(pe.tspan,cn)}let ln=pe.textMatrix;pe.textRise!==0&&(ln=ln.slice(),ln[5]+=pe.textRise),pe.txtElement.setAttributeNS(null,"transform",`${ft(ln)} scale(${mt(Ft)}, -1)`),pe.txtElement.setAttributeNS($e,"xml:space","preserve"),pe.txtElement.append(pe.tspan),pe.txtgrp.append(pe.txtElement),this._ensureTransformGroup().append(pe.txtElement)}setLeadingMoveText(b,pe){this.setLeading(-pe),this.moveText(b,pe)}addFontStyle(b){if(!b.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const pe=E(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${b.loadedName}"; src: url(${pe}); }
`}setFont(b){const pe=this.current,yt=this.commonObjs.get(b[0]);let d=b[1];pe.font=yt,this.embedFonts&&!yt.missingFile&&!this.embeddedFonts[yt.loadedName]&&(this.addFontStyle(yt),this.embeddedFonts[yt.loadedName]=yt),pe.fontMatrix=yt.fontMatrix||s.FONT_IDENTITY_MATRIX;let a="normal";yt.black?a="900":yt.bold&&(a="bold");const ot=yt.italic?"italic":"normal";d<0?(d=-d,pe.fontDirection=-1):pe.fontDirection=1,pe.fontSize=d,pe.fontFamily=yt.loadedName,pe.fontWeight=a,pe.fontStyle=ot,pe.tspan=this.svgFactory.createElement("svg:tspan"),pe.tspan.setAttributeNS(null,"y",mt(-pe.y)),pe.xcoords=[],pe.ycoords=[]}endText(){var pe;const b=this.current;b.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&((pe=b.txtElement)!=null&&pe.hasChildNodes())&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(b){b>0&&(this.current.lineWidth=b)}setLineCap(b){this.current.lineCap=P[b]}setLineJoin(b){this.current.lineJoin=N[b]}setMiterLimit(b){this.current.miterLimit=b}setStrokeAlpha(b){this.current.strokeAlpha=b}setStrokeRGBColor(b,pe,yt){this.current.strokeColor=s.Util.makeHexColor(b,pe,yt)}setFillAlpha(b){this.current.fillAlpha=b}setFillRGBColor(b,pe,yt){this.current.fillColor=s.Util.makeHexColor(b,pe,yt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(b){this.current.strokeColor=this._makeColorN_Pattern(b)}setFillColorN(b){this.current.fillColor=this._makeColorN_Pattern(b)}shadingFill(b){const{width:pe,height:yt}=this.viewport,d=s.Util.inverseTransform(this.transformMatrix),[a,ot,ze,Rt]=s.Util.getAxialAlignedBoundingBox([0,0,pe,yt],d),Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x",a),Ft.setAttributeNS(null,"y",ot),Ft.setAttributeNS(null,"width",ze-a),Ft.setAttributeNS(null,"height",Rt-ot),Ft.setAttributeNS(null,"fill",this._makeShadingPattern(b)),this.current.fillAlpha<1&&Ft.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ft)}_makeColorN_Pattern(b){return b[0]==="TilingPattern"?this._makeTilingPattern(b):this._makeShadingPattern(b)}_makeTilingPattern(b){const pe=b[1],yt=b[2],d=b[3]||s.IDENTITY_MATRIX,[a,ot,ze,Rt]=b[4],Ft=b[5],vt=b[6],Nt=b[7],Ht=`shading${At++}`,[It,Mt,jt,ln]=s.Util.normalizeRect([...s.Util.applyTransform([a,ot],d),...s.Util.applyTransform([ze,Rt],d)]),[cn,tn]=s.Util.singularValueDecompose2dScale(d),Pt=Ft*cn,l=vt*tn,h=this.svgFactory.createElement("svg:pattern");h.setAttributeNS(null,"id",Ht),h.setAttributeNS(null,"patternUnits","userSpaceOnUse"),h.setAttributeNS(null,"width",Pt),h.setAttributeNS(null,"height",l),h.setAttributeNS(null,"x",`${It}`),h.setAttributeNS(null,"y",`${Mt}`);const c=this.svg,Le=this.transformMatrix,Qe=this.current.fillColor,gt=this.current.strokeColor,Ct=this.svgFactory.create(jt-It,ln-Mt);if(this.svg=Ct,this.transformMatrix=d,Nt===2){const kt=s.Util.makeHexColor(...pe);this.current.fillColor=kt,this.current.strokeColor=kt}return this.executeOpTree(this.convertOpList(yt)),this.svg=c,this.transformMatrix=Le,this.current.fillColor=Qe,this.current.strokeColor=gt,h.append(Ct.childNodes[0]),this.defs.append(h),`url(#${Ht})`}_makeShadingPattern(b){switch(typeof b=="string"&&(b=this.objs.get(b)),b[0]){case"RadialAxial":const pe=`shading${At++}`,yt=b[3];let d;switch(b[1]){case"axial":const a=b[4],ot=b[5];d=this.svgFactory.createElement("svg:linearGradient"),d.setAttributeNS(null,"id",pe),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"x1",a[0]),d.setAttributeNS(null,"y1",a[1]),d.setAttributeNS(null,"x2",ot[0]),d.setAttributeNS(null,"y2",ot[1]);break;case"radial":const ze=b[4],Rt=b[5],Ft=b[6],vt=b[7];d=this.svgFactory.createElement("svg:radialGradient"),d.setAttributeNS(null,"id",pe),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"cx",Rt[0]),d.setAttributeNS(null,"cy",Rt[1]),d.setAttributeNS(null,"r",vt),d.setAttributeNS(null,"fx",ze[0]),d.setAttributeNS(null,"fy",ze[1]),d.setAttributeNS(null,"fr",Ft);break;default:throw new Error(`Unknown RadialAxial type: ${b[1]}`)}for(const a of yt){const ot=this.svgFactory.createElement("svg:stop");ot.setAttributeNS(null,"offset",a[0]),ot.setAttributeNS(null,"stop-color",a[1]),d.append(ot)}return this.defs.append(d),`url(#${pe})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${b[0]}`)}}setDash(b,pe){this.current.dashArray=b,this.current.dashPhase=pe}constructPath(b,pe){const yt=this.current;let d=yt.x,a=yt.y,ot=[],ze=0;for(const Rt of b)switch(Rt|0){case s.OPS.rectangle:d=pe[ze++],a=pe[ze++];const Ft=pe[ze++],vt=pe[ze++],Nt=d+Ft,Ht=a+vt;ot.push("M",mt(d),mt(a),"L",mt(Nt),mt(a),"L",mt(Nt),mt(Ht),"L",mt(d),mt(Ht),"Z");break;case s.OPS.moveTo:d=pe[ze++],a=pe[ze++],ot.push("M",mt(d),mt(a));break;case s.OPS.lineTo:d=pe[ze++],a=pe[ze++],ot.push("L",mt(d),mt(a));break;case s.OPS.curveTo:d=pe[ze+4],a=pe[ze+5],ot.push("C",mt(pe[ze]),mt(pe[ze+1]),mt(pe[ze+2]),mt(pe[ze+3]),mt(d),mt(a)),ze+=6;break;case s.OPS.curveTo2:ot.push("C",mt(d),mt(a),mt(pe[ze]),mt(pe[ze+1]),mt(pe[ze+2]),mt(pe[ze+3])),d=pe[ze+2],a=pe[ze+3],ze+=4;break;case s.OPS.curveTo3:d=pe[ze+2],a=pe[ze+3],ot.push("C",mt(pe[ze]),mt(pe[ze+1]),mt(d),mt(a),mt(d),mt(a)),ze+=4;break;case s.OPS.closePath:ot.push("Z");break}ot=ot.join(" "),yt.path&&b.length>0&&b[0]!==s.OPS.rectangle&&b[0]!==s.OPS.moveTo?ot=yt.path.getAttributeNS(null,"d")+ot:(yt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(yt.path)),yt.path.setAttributeNS(null,"d",ot),yt.path.setAttributeNS(null,"fill","none"),yt.element=yt.path,yt.setCurrentPoint(d,a)}endPath(){const b=this.current;if(b.path=null,!this.pendingClip)return;if(!b.element){this.pendingClip=null;return}const pe=`clippath${et++}`,yt=this.svgFactory.createElement("svg:clipPath");yt.setAttributeNS(null,"id",pe),yt.setAttributeNS(null,"transform",ft(this.transformMatrix));const d=b.element.cloneNode(!0);if(this.pendingClip==="evenodd"?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,yt.append(d),this.defs.append(yt),b.activeClipUrl){b.clipGroup=null;for(const a of this.extraStack)a.clipGroup=null;yt.setAttributeNS(null,"clip-path",b.activeClipUrl)}b.activeClipUrl=`url(#${pe})`,this.tgrp=null}clip(b){this.pendingClip=b}closePath(){const b=this.current;if(b.path){const pe=`${b.path.getAttributeNS(null,"d")}Z`;b.path.setAttributeNS(null,"d",pe)}}setLeading(b){this.current.leading=-b}setTextRise(b){this.current.textRise=b}setTextRenderingMode(b){this.current.textRenderingMode=b}setHScale(b){this.current.textHScale=b/100}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(const[pe,yt]of b)switch(pe){case"LW":this.setLineWidth(yt);break;case"LC":this.setLineCap(yt);break;case"LJ":this.setLineJoin(yt);break;case"ML":this.setMiterLimit(yt);break;case"D":this.setDash(yt[0],yt[1]);break;case"RI":this.setRenderingIntent(yt);break;case"FL":this.setFlatness(yt);break;case"Font":this.setFont(yt);break;case"CA":this.setStrokeAlpha(yt);break;case"ca":this.setFillAlpha(yt);break;default:(0,s.warn)(`Unimplemented graphic state operator ${pe}`);break}}fill(){const b=this.current;b.element&&(b.element.setAttributeNS(null,"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha),this.endPath())}stroke(){const b=this.current;b.element&&(this._setStrokeAttributes(b.element),b.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(b,pe=1){const yt=this.current;let d=yt.dashArray;pe!==1&&d.length>0&&(d=d.map(function(a){return pe*a})),b.setAttributeNS(null,"stroke",yt.strokeColor),b.setAttributeNS(null,"stroke-opacity",yt.strokeAlpha),b.setAttributeNS(null,"stroke-miterlimit",mt(yt.miterLimit)),b.setAttributeNS(null,"stroke-linecap",yt.lineCap),b.setAttributeNS(null,"stroke-linejoin",yt.lineJoin),b.setAttributeNS(null,"stroke-width",mt(pe*yt.lineWidth)+"px"),b.setAttributeNS(null,"stroke-dasharray",d.map(mt).join(" ")),b.setAttributeNS(null,"stroke-dashoffset",mt(pe*yt.dashPhase)+"px")}eoFill(){var b;(b=this.current.element)==null||b.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var b;(b=this.current.element)==null||b.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(b)}paintImageXObject(b){const pe=this.getObject(b);if(!pe){(0,s.warn)(`Dependent image with object ID ${b} is not ready yet`);return}this.paintInlineImageXObject(pe)}paintInlineImageXObject(b,pe){const yt=b.width,d=b.height,a=St(b,this.forceDataSchema,!!pe),ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width",mt(yt)),ot.setAttributeNS(null,"height",mt(d)),this.current.element=ot,this.clip("nonzero");const ze=this.svgFactory.createElement("svg:image");ze.setAttributeNS(Tt,"xlink:href",a),ze.setAttributeNS(null,"x","0"),ze.setAttributeNS(null,"y",mt(-d)),ze.setAttributeNS(null,"width",mt(yt)+"px"),ze.setAttributeNS(null,"height",mt(d)+"px"),ze.setAttributeNS(null,"transform",`scale(${mt(1/yt)} ${mt(-1/d)})`),pe?pe.append(ze):this._ensureTransformGroup().append(ze)}paintImageMaskXObject(b){const pe=this.getObject(b.data,b);if(pe.bitmap){(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const yt=this.current,d=pe.width,a=pe.height,ot=yt.fillColor;yt.maskId=`mask${dt++}`;const ze=this.svgFactory.createElement("svg:mask");ze.setAttributeNS(null,"id",yt.maskId);const Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x","0"),Rt.setAttributeNS(null,"y","0"),Rt.setAttributeNS(null,"width",mt(d)),Rt.setAttributeNS(null,"height",mt(a)),Rt.setAttributeNS(null,"fill",ot),Rt.setAttributeNS(null,"mask",`url(#${yt.maskId})`),this.defs.append(ze),this._ensureTransformGroup().append(Rt),this.paintInlineImageXObject(pe,ze)}paintFormXObjectBegin(b,pe){if(Array.isArray(b)&&b.length===6&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),pe){const yt=pe[2]-pe[0],d=pe[3]-pe[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",pe[0]),a.setAttributeNS(null,"y",pe[1]),a.setAttributeNS(null,"width",mt(yt)),a.setAttributeNS(null,"height",mt(d)),this.current.element=a,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(b){const pe=this.svgFactory.create(b.width,b.height),yt=this.svgFactory.createElement("svg:defs");pe.append(yt),this.defs=yt;const d=this.svgFactory.createElement("svg:g");return d.setAttributeNS(null,"transform",ft(b.transform)),pe.append(d),this.svg=d,pe}_ensureClipGroup(){if(!this.current.clipGroup){const b=this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(b),this.current.clipGroup=b}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ft(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=Et},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class i{static textContent(s){const p=[],$e={items:p,styles:Object.create(null)};function Tt(P){var St;if(!P)return;let N=null;const E=P.name;if(E==="#text")N=P.value;else if(i.shouldBuildText(E))(St=P==null?void 0:P.attributes)!=null&&St.textContent?N=P.attributes.textContent:P.value&&(N=P.value);else return;if(N!==null&&p.push({str:N}),!!P.children)for(const wt of P.children)Tt(wt)}return Tt(s),$e}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}e.XfaText=i},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=ft,e.updateTextLayer=et;var n=i(1),s=i(6);const p=1e5,$e=30,Tt=.8,P=new Map;function N(dt,At){let Et;if(At&&n.FeatureTest.isOffscreenCanvasSupported)Et=new OffscreenCanvas(dt,dt).getContext("2d",{alpha:!1});else{const _t=document.createElement("canvas");_t.width=_t.height=dt,Et=_t.getContext("2d",{alpha:!1})}return Et}function E(dt,At){const Et=P.get(dt);if(Et)return Et;const _t=N($e,At);_t.font=`${$e}px ${dt}`;const b=_t.measureText("");let pe=b.fontBoundingBoxAscent,yt=Math.abs(b.fontBoundingBoxDescent);if(pe){const a=pe/(pe+yt);return P.set(dt,a),_t.canvas.width=_t.canvas.height=0,a}_t.strokeStyle="red",_t.clearRect(0,0,$e,$e),_t.strokeText("g",0,0);let d=_t.getImageData(0,0,$e,$e).data;yt=0;for(let a=d.length-1-3;a>=0;a-=4)if(d[a]>0){yt=Math.ceil(a/4/$e);break}_t.clearRect(0,0,$e,$e),_t.strokeText("A",0,$e),d=_t.getImageData(0,0,$e,$e).data,pe=0;for(let a=0,ot=d.length;a<ot;a+=4)if(d[a]>0){pe=$e-Math.floor(a/4/$e);break}if(_t.canvas.width=_t.canvas.height=0,pe){const a=pe/(pe+yt);return P.set(dt,a),a}return P.set(dt,Tt),Tt}function St(dt,At,Et){const _t=document.createElement("span"),b={angle:0,canvasWidth:0,hasText:At.str!=="",hasEOL:At.hasEOL,fontSize:0};dt._textDivs.push(_t);const pe=n.Util.transform(dt._transform,At.transform);let yt=Math.atan2(pe[1],pe[0]);const d=Et[At.fontName];d.vertical&&(yt+=Math.PI/2);const a=Math.hypot(pe[2],pe[3]),ot=a*E(d.fontFamily,dt._isOffscreenCanvasSupported);let ze,Rt;yt===0?(ze=pe[4],Rt=pe[5]-ot):(ze=pe[4]+ot*Math.sin(yt),Rt=pe[5]-ot*Math.cos(yt));const Ft="calc(var(--scale-factor)*",vt=_t.style;dt._container===dt._rootContainer?(vt.left=`${(100*ze/dt._pageWidth).toFixed(2)}%`,vt.top=`${(100*Rt/dt._pageHeight).toFixed(2)}%`):(vt.left=`${Ft}${ze.toFixed(2)}px)`,vt.top=`${Ft}${Rt.toFixed(2)}px)`),vt.fontSize=`${Ft}${a.toFixed(2)}px)`,vt.fontFamily=d.fontFamily,b.fontSize=a,_t.setAttribute("role","presentation"),_t.textContent=At.str,_t.dir=At.dir,dt._fontInspectorEnabled&&(_t.dataset.fontName=At.fontName),yt!==0&&(b.angle=yt*(180/Math.PI));let Nt=!1;if(At.str.length>1)Nt=!0;else if(At.str!==" "&&At.transform[0]!==At.transform[3]){const Ht=Math.abs(At.transform[0]),It=Math.abs(At.transform[3]);Ht!==It&&Math.max(Ht,It)/Math.min(Ht,It)>1.5&&(Nt=!0)}Nt&&(b.canvasWidth=d.vertical?At.height:At.width),dt._textDivProperties.set(_t,b),dt._isReadableStream&&dt._layoutText(_t)}function wt(dt){const{div:At,scale:Et,properties:_t,ctx:b,prevFontSize:pe,prevFontFamily:yt}=dt,{style:d}=At;let a="";if(_t.canvasWidth!==0&&_t.hasText){const{fontFamily:ot}=d,{canvasWidth:ze,fontSize:Rt}=_t;(pe!==Rt||yt!==ot)&&(b.font=`${Rt*Et}px ${ot}`,dt.prevFontSize=Rt,dt.prevFontFamily=ot);const{width:Ft}=b.measureText(At.textContent);Ft>0&&(a=`scaleX(${ze*Et/Ft})`)}_t.angle!==0&&(a=`rotate(${_t.angle}deg) ${a}`),a.length>0&&(d.transform=a)}function bt(dt){if(dt._canceled)return;const At=dt._textDivs,Et=dt._capability;if(At.length>p){Et.resolve();return}if(!dt._isReadableStream)for(const b of At)dt._layoutText(b);Et.resolve()}class mt{constructor({textContentSource:At,container:Et,viewport:_t,textDivs:b,textDivProperties:pe,textContentItemsStr:yt,isOffscreenCanvasSupported:d}){var Ft;this._textContentSource=At,this._isReadableStream=At instanceof ReadableStream,this._container=this._rootContainer=Et,this._textDivs=b||[],this._textContentItemsStr=yt||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!((Ft=globalThis.FontInspector)!=null&&Ft.enabled),this._reader=null,this._textDivProperties=pe||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:_t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:N(0,d)};const{pageWidth:a,pageHeight:ot,pageX:ze,pageY:Rt}=_t.rawDims;this._transform=[1,0,0,-1,-ze,Rt+ot],this._pageWidth=a,this._pageHeight=ot,(0,s.setLayerDimensions)(Et,_t),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(At,Et){for(const _t of At){if(_t.str===void 0){if(_t.type==="beginMarkedContentProps"||_t.type==="beginMarkedContent"){const b=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_t.id!==null&&this._container.setAttribute("id",`${_t.id}`),b.append(this._container)}else _t.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(_t.str),St(this,_t,Et)}}_layoutText(At){const Et=this._layoutTextParams.properties=this._textDivProperties.get(At);if(this._layoutTextParams.div=At,wt(this._layoutTextParams),Et.hasText&&this._container.append(At),Et.hasEOL){const _t=document.createElement("br");_t.setAttribute("role","presentation"),this._container.append(_t)}}_render(){const At=new n.PromiseCapability;let Et=Object.create(null);if(this._isReadableStream){const _t=()=>{this._reader.read().then(({value:b,done:pe})=>{if(pe){At.resolve();return}Object.assign(Et,b.styles),this._processItems(b.items,Et),_t()},At.reject)};this._reader=this._textContentSource.getReader(),_t()}else if(this._textContentSource){const{items:_t,styles:b}=this._textContentSource;this._processItems(_t,b),At.resolve()}else throw new Error('No "textContentSource" parameter specified.');At.promise.then(()=>{Et=null,bt(this)},this._capability.reject)}}e.TextLayerRenderTask=mt;function ft(dt){!dt.textContentSource&&(dt.textContent||dt.textContentStream)&&((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),dt.textContentSource=dt.textContent||dt.textContentStream);const{container:At,viewport:Et}=dt,_t=getComputedStyle(At),b=_t.getPropertyValue("visibility"),pe=parseFloat(_t.getPropertyValue("--scale-factor"));b==="visible"&&(!pe||Math.abs(pe-Et.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const yt=new mt(dt);return yt._render(),yt}function et({container:dt,viewport:At,textDivs:Et,textDivProperties:_t,isOffscreenCanvasSupported:b,mustRotate:pe=!0,mustRescale:yt=!0}){if(pe&&(0,s.setLayerDimensions)(dt,{rotation:At.rotation}),yt){const d=N(0,b),ot={prevFontSize:null,prevFontFamily:null,div:null,scale:At.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d};for(const ze of Et)ot.properties=_t.get(ze),ot.div=ze,wt(ot)}}},(t,e,i)=>{var E,St,wt,bt,mt,ft,et,dt,At,Et,_t,Yr,pe,Sr,d,Kr,ot,Jr;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=i(1),s=i(4),p=i(28),$e=i(33),Tt=i(6),P=i(34);const Rt=class Rt{constructor({uiManager:vt,pageIndex:Nt,div:Ht,accessibilityManager:It,annotationLayer:Mt,viewport:jt,l10n:ln}){Lt(this,_t);Lt(this,pe);Lt(this,d);Lt(this,ot);Lt(this,E,void 0);Lt(this,St,!1);Lt(this,wt,null);Lt(this,bt,this.pointerup.bind(this));Lt(this,mt,this.pointerdown.bind(this));Lt(this,ft,new Map);Lt(this,et,!1);Lt(this,dt,!1);Lt(this,At,!1);Lt(this,Et,void 0);const cn=[p.FreeTextEditor,$e.InkEditor,P.StampEditor];if(!Rt._initialized){Rt._initialized=!0;for(const tn of cn)tn.initialize(ln)}vt.registerEditorTypes(cn),Zt(this,Et,vt),this.pageIndex=Nt,this.div=Ht,Zt(this,E,It),Zt(this,wt,Mt),this.viewport=jt,o(this,Et).addLayer(this)}get isEmpty(){return o(this,ft).size===0}updateToolbar(vt){o(this,Et).updateToolbar(vt)}updateMode(vt=o(this,Et).getMode()){zt(this,ot,Jr).call(this),vt===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),vt!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",vt===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",vt===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",vt===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(vt){if(!vt&&o(this,Et).getMode()!==n.AnnotationEditorType.INK)return;if(!vt){for(const Ht of o(this,ft).values())if(Ht.isEmpty()){Ht.setInBackground();return}}zt(this,pe,Sr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(vt){o(this,Et).setEditingState(vt)}addCommands(vt){o(this,Et).addCommands(vt)}enable(){this.div.style.pointerEvents="auto";const vt=new Set;for(const Ht of o(this,ft).values())Ht.enableEditing(),Ht.annotationElementId&&vt.add(Ht.annotationElementId);if(!o(this,wt))return;const Nt=o(this,wt).getEditableAnnotations();for(const Ht of Nt){if(Ht.hide(),o(this,Et).isDeletedAnnotationElement(Ht.data.id)||vt.has(Ht.data.id))continue;const It=this.deserialize(Ht);It&&(this.addOrRebuild(It),It.enableEditing())}}disable(){var Nt;Zt(this,At,!0),this.div.style.pointerEvents="none";const vt=new Set;for(const Ht of o(this,ft).values()){if(Ht.disableEditing(),!Ht.annotationElementId||Ht.serialize()!==null){vt.add(Ht.annotationElementId);continue}(Nt=this.getEditableAnnotation(Ht.annotationElementId))==null||Nt.show(),Ht.remove()}if(o(this,wt)){const Ht=o(this,wt).getEditableAnnotations();for(const It of Ht){const{id:Mt}=It.data;vt.has(Mt)||o(this,Et).isDeletedAnnotationElement(Mt)||It.show()}}zt(this,ot,Jr).call(this),this.isEmpty&&(this.div.hidden=!0),Zt(this,At,!1)}getEditableAnnotation(vt){var Nt;return((Nt=o(this,wt))==null?void 0:Nt.getEditableAnnotation(vt))||null}setActiveEditor(vt){o(this,Et).getActive()!==vt&&o(this,Et).setActiveEditor(vt)}enableClick(){this.div.addEventListener("pointerdown",o(this,mt)),this.div.addEventListener("pointerup",o(this,bt))}disableClick(){this.div.removeEventListener("pointerdown",o(this,mt)),this.div.removeEventListener("pointerup",o(this,bt))}attach(vt){o(this,ft).set(vt.id,vt);const{annotationElementId:Nt}=vt;Nt&&o(this,Et).isDeletedAnnotationElement(Nt)&&o(this,Et).removeDeletedAnnotationElement(vt)}detach(vt){var Nt;o(this,ft).delete(vt.id),(Nt=o(this,E))==null||Nt.removePointerInTextLayer(vt.contentDiv),!o(this,At)&&vt.annotationElementId&&o(this,Et).addDeletedAnnotationElement(vt)}remove(vt){this.detach(vt),o(this,Et).removeEditor(vt),vt.div.contains(document.activeElement)&&setTimeout(()=>{o(this,Et).focusMainContainer()},0),vt.div.remove(),vt.isAttachedToDOM=!1,o(this,dt)||this.addInkEditorIfNeeded(!1)}changeParent(vt){var Nt;vt.parent!==this&&(vt.annotationElementId&&(o(this,Et).addDeletedAnnotationElement(vt.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(vt),vt.annotationElementId=null),this.attach(vt),(Nt=vt.parent)==null||Nt.detach(vt),vt.setParent(this),vt.div&&vt.isAttachedToDOM&&(vt.div.remove(),this.div.append(vt.div)))}add(vt){if(this.changeParent(vt),o(this,Et).addEditor(vt),this.attach(vt),!vt.isAttachedToDOM){const Nt=vt.render();this.div.append(Nt),vt.isAttachedToDOM=!0}vt.fixAndSetPosition(),vt.onceAdded(),o(this,Et).addToAnnotationStorage(vt)}moveEditorInDOM(vt){var Ht;if(!vt.isAttachedToDOM)return;const{activeElement:Nt}=document;vt.div.contains(Nt)&&(vt._focusEventsAllowed=!1,setTimeout(()=>{vt.div.contains(document.activeElement)?vt._focusEventsAllowed=!0:(vt.div.addEventListener("focusin",()=>{vt._focusEventsAllowed=!0},{once:!0}),Nt.focus())},0)),vt._structTreeParentId=(Ht=o(this,E))==null?void 0:Ht.moveElementInDOM(this.div,vt.div,vt.contentDiv,!0)}addOrRebuild(vt){vt.needsToBeRebuilt()?vt.rebuild():this.add(vt)}addUndoableEditor(vt){const Nt=()=>vt._uiManager.rebuild(vt),Ht=()=>{vt.remove()};this.addCommands({cmd:Nt,undo:Ht,mustExec:!1})}getNextId(){return o(this,Et).getId()}pasteEditor(vt,Nt){o(this,Et).updateToolbar(vt),o(this,Et).updateMode(vt);const{offsetX:Ht,offsetY:It}=zt(this,d,Kr).call(this),Mt=this.getNextId(),jt=zt(this,_t,Yr).call(this,{parent:this,id:Mt,x:Ht,y:It,uiManager:o(this,Et),isCentered:!0,...Nt});jt&&this.add(jt)}deserialize(vt){switch(vt.annotationType??vt.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return p.FreeTextEditor.deserialize(vt,this,o(this,Et));case n.AnnotationEditorType.INK:return $e.InkEditor.deserialize(vt,this,o(this,Et));case n.AnnotationEditorType.STAMP:return P.StampEditor.deserialize(vt,this,o(this,Et))}return null}addNewEditor(){zt(this,pe,Sr).call(this,zt(this,d,Kr).call(this),!0)}setSelected(vt){o(this,Et).setSelected(vt)}toggleSelected(vt){o(this,Et).toggleSelected(vt)}isSelected(vt){return o(this,Et).isSelected(vt)}unselect(vt){o(this,Et).unselect(vt)}pointerup(vt){const{isMac:Nt}=n.FeatureTest.platform;if(!(vt.button!==0||vt.ctrlKey&&Nt)&&vt.target===this.div&&o(this,et)){if(Zt(this,et,!1),!o(this,St)){Zt(this,St,!0);return}if(o(this,Et).getMode()===n.AnnotationEditorType.STAMP){o(this,Et).unselectAll();return}zt(this,pe,Sr).call(this,vt,!1)}}pointerdown(vt){if(o(this,et)){Zt(this,et,!1);return}const{isMac:Nt}=n.FeatureTest.platform;if(vt.button!==0||vt.ctrlKey&&Nt||vt.target!==this.div)return;Zt(this,et,!0);const Ht=o(this,Et).getActive();Zt(this,St,!Ht||Ht.isEmpty())}findNewParent(vt,Nt,Ht){const It=o(this,Et).findParent(Nt,Ht);return It===null||It===this?!1:(It.changeParent(vt),!0)}destroy(){var vt,Nt;((vt=o(this,Et).getActive())==null?void 0:vt.parent)===this&&(o(this,Et).commitOrRemove(),o(this,Et).setActiveEditor(null));for(const Ht of o(this,ft).values())(Nt=o(this,E))==null||Nt.removePointerInTextLayer(Ht.contentDiv),Ht.setParent(null),Ht.isAttachedToDOM=!1,Ht.div.remove();this.div=null,o(this,ft).clear(),o(this,Et).removeLayer(this)}render({viewport:vt}){this.viewport=vt,(0,Tt.setLayerDimensions)(this.div,vt);for(const Nt of o(this,Et).getEditors(this.pageIndex))this.add(Nt);this.updateMode()}update({viewport:vt}){o(this,Et).commitOrRemove(),this.viewport=vt,(0,Tt.setLayerDimensions)(this.div,{rotation:vt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:vt,pageHeight:Nt}=this.viewport.rawDims;return[vt,Nt]}};E=new WeakMap,St=new WeakMap,wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,ft=new WeakMap,et=new WeakMap,dt=new WeakMap,At=new WeakMap,Et=new WeakMap,_t=new WeakSet,Yr=function(vt){switch(o(this,Et).getMode()){case n.AnnotationEditorType.FREETEXT:return new p.FreeTextEditor(vt);case n.AnnotationEditorType.INK:return new $e.InkEditor(vt);case n.AnnotationEditorType.STAMP:return new P.StampEditor(vt)}return null},pe=new WeakSet,Sr=function(vt,Nt){const Ht=this.getNextId(),It=zt(this,_t,Yr).call(this,{parent:this,id:Ht,x:vt.offsetX,y:vt.offsetY,uiManager:o(this,Et),isCentered:Nt});return It&&this.add(It),It},d=new WeakSet,Kr=function(){const{x:vt,y:Nt,width:Ht,height:It}=this.div.getBoundingClientRect(),Mt=Math.max(0,vt),jt=Math.max(0,Nt),ln=Math.min(window.innerWidth,vt+Ht),cn=Math.min(window.innerHeight,Nt+It),tn=(Mt+ln)/2-vt,Pt=(jt+cn)/2-Nt,[l,h]=this.viewport.rotation%180===0?[tn,Pt]:[Pt,tn];return{offsetX:l,offsetY:h}},ot=new WeakSet,Jr=function(){Zt(this,dt,!0);for(const vt of o(this,ft).values())vt.isEmpty()&&vt.remove();Zt(this,dt,!1)},Vn(Rt,"_initialized",!1);let N=Rt;e.AnnotationEditorLayer=N},(t,e,i)=>{var P,N,E,St,wt,bt,mt,ft,et,dt,xi,Et,Pi,b,wi,yt,pr,a,Zr,ze,Ti,Ft,Qr;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=i(1),s=i(5),p=i(4),$e=i(29);const Nt=class Nt extends p.AnnotationEditor{constructor(Mt){super({...Mt,name:"freeTextEditor"});Lt(this,dt);Lt(this,Et);Lt(this,b);Lt(this,yt);Lt(this,a);Lt(this,ze);Lt(this,Ft);Lt(this,P,this.editorDivBlur.bind(this));Lt(this,N,this.editorDivFocus.bind(this));Lt(this,E,this.editorDivInput.bind(this));Lt(this,St,this.editorDivKeydown.bind(this));Lt(this,wt,void 0);Lt(this,bt,"");Lt(this,mt,`${this.id}-editor`);Lt(this,ft,void 0);Lt(this,et,null);Zt(this,wt,Mt.color||Nt._defaultColor||p.AnnotationEditor._defaultLineColor),Zt(this,ft,Mt.fontSize||Nt._defaultFontSize)}static get _keyboardManager(){const Mt=Nt.prototype,jt=tn=>tn.isEmpty(),ln=s.AnnotationEditorUIManager.TRANSLATE_SMALL,cn=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Mt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Mt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Mt._translateEmpty,{args:[-ln,0],checker:jt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Mt._translateEmpty,{args:[-cn,0],checker:jt}],[["ArrowRight","mac+ArrowRight"],Mt._translateEmpty,{args:[ln,0],checker:jt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Mt._translateEmpty,{args:[cn,0],checker:jt}],[["ArrowUp","mac+ArrowUp"],Mt._translateEmpty,{args:[0,-ln],checker:jt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Mt._translateEmpty,{args:[0,-cn],checker:jt}],[["ArrowDown","mac+ArrowDown"],Mt._translateEmpty,{args:[0,ln],checker:jt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Mt._translateEmpty,{args:[0,cn],checker:jt}]]))}static initialize(Mt){p.AnnotationEditor.initialize(Mt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const jt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(jt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Mt,jt){switch(Mt){case n.AnnotationEditorParamsType.FREETEXT_SIZE:Nt._defaultFontSize=jt;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:Nt._defaultColor=jt;break}}updateParams(Mt,jt){switch(Mt){case n.AnnotationEditorParamsType.FREETEXT_SIZE:zt(this,dt,xi).call(this,jt);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:zt(this,Et,Pi).call(this,jt);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,Nt._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,Nt._defaultColor||p.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,o(this,ft)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,o(this,wt)]]}_translateEmpty(Mt,jt){this._uiManager.translateSelectedEditors(Mt,jt,!0)}getInitialTranslation(){const Mt=this.parentScale;return[-Nt._internalPadding*Mt,-(Nt._internalPadding+o(this,ft))*Mt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",o(this,St)),this.editorDiv.addEventListener("focus",o(this,N)),this.editorDiv.addEventListener("blur",o(this,P)),this.editorDiv.addEventListener("input",o(this,E)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,mt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",o(this,St)),this.editorDiv.removeEventListener("focus",o(this,N)),this.editorDiv.removeEventListener("blur",o(this,P)),this.editorDiv.removeEventListener("input",o(this,E)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Mt){this._focusEventsAllowed&&(super.focusin(Mt),Mt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Mt;if(this.width){zt(this,Ft,Qr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Mt=this._initialOptions)!=null&&Mt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Mt=o(this,bt),jt=Zt(this,bt,zt(this,b,wi).call(this).trimEnd());if(Mt===jt)return;const ln=cn=>{if(Zt(this,bt,cn),!cn){this.remove();return}zt(this,a,Zr).call(this),this._uiManager.rebuild(this),zt(this,yt,pr).call(this)};this.addCommands({cmd:()=>{ln(jt)},undo:()=>{ln(Mt)},mustExec:!1}),zt(this,yt,pr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Mt){this.enterInEditMode()}keydown(Mt){Mt.target===this.div&&Mt.key==="Enter"&&(this.enterInEditMode(),Mt.preventDefault())}editorDivKeydown(Mt){Nt._keyboardManager.exec(this,Mt)}editorDivFocus(Mt){this.isEditing=!0}editorDivBlur(Mt){this.isEditing=!1}editorDivInput(Mt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Mt,jt;this.width&&(Mt=this.x,jt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,mt)),this.enableEditing(),p.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(cn=>{var tn;return(tn=this.editorDiv)==null?void 0:tn.setAttribute("aria-label",cn)}),p.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(cn=>{var tn;return(tn=this.editorDiv)==null?void 0:tn.setAttribute("default-content",cn)}),this.editorDiv.contentEditable=!0;const{style:ln}=this.editorDiv;if(ln.fontSize=`calc(${o(this,ft)}px * var(--scale-factor))`,ln.color=o(this,wt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[cn,tn]=this.parentDimensions;if(this.annotationElementId){const{position:Pt}=o(this,et);let[l,h]=this.getInitialTranslation();[l,h]=this.pageTranslationToScreen(l,h);const[c,Le]=this.pageDimensions,[Qe,gt]=this.pageTranslation;let Ct,kt;switch(this.rotation){case 0:Ct=Mt+(Pt[0]-Qe)/c,kt=jt+this.height-(Pt[1]-gt)/Le;break;case 90:Ct=Mt+(Pt[0]-Qe)/c,kt=jt-(Pt[1]-gt)/Le,[l,h]=[h,-l];break;case 180:Ct=Mt-this.width+(Pt[0]-Qe)/c,kt=jt-(Pt[1]-gt)/Le,[l,h]=[-l,-h];break;case 270:Ct=Mt+(Pt[0]-Qe-this.height*Le)/c,kt=jt+(Pt[1]-gt-this.width*c)/Le,[l,h]=[-h,l];break}this.setAt(Ct*cn,kt*tn,l,h)}else this.setAt(Mt*cn,jt*tn,this.width*cn,this.height*tn);zt(this,a,Zr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Mt,jt,ln){let cn=null;if(Mt instanceof $e.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Pt,fontColor:l},rect:h,rotation:c,id:Le},textContent:Qe,textPosition:gt,parent:{page:{pageNumber:Ct}}}=Mt;if(!Qe||Qe.length===0)return null;cn=Mt={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(l),fontSize:Pt,value:Qe.join(`
`),position:gt,pageIndex:Ct-1,rect:h,rotation:c,id:Le,deleted:!1}}const tn=super.deserialize(Mt,jt,ln);return Zt(tn,ft,Mt.fontSize),Zt(tn,wt,n.Util.makeHexColor(...Mt.color)),Zt(tn,bt,Mt.value),tn.annotationElementId=Mt.id||null,Zt(tn,et,cn),tn}serialize(Mt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const jt=Nt._internalPadding*this.parentScale,ln=this.getRect(jt,jt),cn=p.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:o(this,wt)),tn={annotationType:n.AnnotationEditorType.FREETEXT,color:cn,fontSize:o(this,ft),value:o(this,bt),pageIndex:this.pageIndex,rect:ln,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Mt?tn:this.annotationElementId&&!zt(this,ze,Ti).call(this,tn)?null:(tn.id=this.annotationElementId,tn)}};P=new WeakMap,N=new WeakMap,E=new WeakMap,St=new WeakMap,wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,ft=new WeakMap,et=new WeakMap,dt=new WeakSet,xi=function(Mt){const jt=cn=>{this.editorDiv.style.fontSize=`calc(${cn}px * var(--scale-factor))`,this.translate(0,-(cn-o(this,ft))*this.parentScale),Zt(this,ft,cn),zt(this,yt,pr).call(this)},ln=o(this,ft);this.addCommands({cmd:()=>{jt(Mt)},undo:()=>{jt(ln)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Et=new WeakSet,Pi=function(Mt){const jt=o(this,wt);this.addCommands({cmd:()=>{Zt(this,wt,this.editorDiv.style.color=Mt)},undo:()=>{Zt(this,wt,this.editorDiv.style.color=jt)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},b=new WeakSet,wi=function(){const Mt=this.editorDiv.getElementsByTagName("div");if(Mt.length===0)return this.editorDiv.innerText;const jt=[];for(const ln of Mt)jt.push(ln.innerText.replace(/\r\n?|\n/,""));return jt.join(`
`)},yt=new WeakSet,pr=function(){const[Mt,jt]=this.parentDimensions;let ln;if(this.isAttachedToDOM)ln=this.div.getBoundingClientRect();else{const{currentLayer:cn,div:tn}=this,Pt=tn.style.display;tn.style.display="hidden",cn.div.append(this.div),ln=tn.getBoundingClientRect(),tn.remove(),tn.style.display=Pt}this.rotation%180===this.parentRotation%180?(this.width=ln.width/Mt,this.height=ln.height/jt):(this.width=ln.height/Mt,this.height=ln.width/jt),this.fixAndSetPosition()},a=new WeakSet,Zr=function(){if(this.editorDiv.replaceChildren(),!!o(this,bt))for(const Mt of o(this,bt).split(`
`)){const jt=document.createElement("div");jt.append(Mt?document.createTextNode(Mt):document.createElement("br")),this.editorDiv.append(jt)}},ze=new WeakSet,Ti=function(Mt){const{value:jt,fontSize:ln,color:cn,rect:tn,pageIndex:Pt}=o(this,et);return Mt.value!==jt||Mt.fontSize!==ln||Mt.rect.some((l,h)=>Math.abs(l-tn[h])>=1)||Mt.color.some((l,h)=>l!==cn[h])||Mt.pageIndex!==Pt},Ft=new WeakSet,Qr=function(Mt=!1){if(!this.annotationElementId)return;if(zt(this,yt,pr).call(this),!Mt&&(this.width===0||this.height===0)){setTimeout(()=>zt(this,Ft,Qr).call(this,!0),0);return}const jt=Nt._internalPadding*this.parentScale;o(this,et).rect=this.getRect(jt,jt)},Vn(Nt,"_freeTextDefaultContent",""),Vn(Nt,"_internalPadding",0),Vn(Nt,"_defaultColor",null),Vn(Nt,"_defaultFontSize",10),Vn(Nt,"_type","freetext");let Tt=Nt;e.FreeTextEditor=Tt},(t,e,i)=>{var h,Le,er,gt,Ci,kt,Ut,Bt,Gt,Jt,sn,nn,_n,Sn,dn,vn,an,Wt,qt,Qt,mn,gn,kn,Ri,Fn,xr,Cn,ei,Dn,ti,Yt,Vt,hn,pn,Gn,Hn,Kt,ni,Tn,yn,Rn,On,ki,fn,ri;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=i(1),s=i(6),p=i(3),$e=i(30),Tt=i(31),P=i(32);const N=1e3,E=9,St=new WeakSet;function wt(wn){return{width:wn[2]-wn[0],height:wn[3]-wn[1]}}class bt{static create(Ot){switch(Ot.data.annotationType){case n.AnnotationType.LINK:return new ft(Ot);case n.AnnotationType.TEXT:return new et(Ot);case n.AnnotationType.WIDGET:switch(Ot.data.fieldType){case"Tx":return new At(Ot);case"Btn":return Ot.data.radioButton?new b(Ot):Ot.data.checkBox?new _t(Ot):new pe(Ot);case"Ch":return new yt(Ot);case"Sig":return new Et(Ot)}return new dt(Ot);case n.AnnotationType.POPUP:return new d(Ot);case n.AnnotationType.FREETEXT:return new ot(Ot);case n.AnnotationType.LINE:return new ze(Ot);case n.AnnotationType.SQUARE:return new Rt(Ot);case n.AnnotationType.CIRCLE:return new Ft(Ot);case n.AnnotationType.POLYLINE:return new vt(Ot);case n.AnnotationType.CARET:return new Ht(Ot);case n.AnnotationType.INK:return new It(Ot);case n.AnnotationType.POLYGON:return new Nt(Ot);case n.AnnotationType.HIGHLIGHT:return new Mt(Ot);case n.AnnotationType.UNDERLINE:return new jt(Ot);case n.AnnotationType.SQUIGGLY:return new ln(Ot);case n.AnnotationType.STRIKEOUT:return new cn(Ot);case n.AnnotationType.STAMP:return new tn(Ot);case n.AnnotationType.FILEATTACHMENT:return new Pt(Ot);default:return new mt(Ot)}}}const c=class c{constructor(Ot,{isRenderable:u=!1,ignoreBorder:xt=!1,createQuadrilaterals:Dt=!1}={}){Lt(this,h,!1);this.isRenderable=u,this.data=Ot.data,this.layer=Ot.layer,this.linkService=Ot.linkService,this.downloadManager=Ot.downloadManager,this.imageResourcesPath=Ot.imageResourcesPath,this.renderForms=Ot.renderForms,this.svgFactory=Ot.svgFactory,this.annotationStorage=Ot.annotationStorage,this.enableScripting=Ot.enableScripting,this.hasJSActions=Ot.hasJSActions,this._fieldObjects=Ot.fieldObjects,this.parent=Ot.parent,u&&(this.container=this._createContainer(xt)),Dt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ot,contentsObj:u,richText:xt}){return!!(Ot!=null&&Ot.str||u!=null&&u.str||xt!=null&&xt.str)}get hasPopupData(){return c._hasPopupData(this.data)}_createContainer(Ot){const{data:u,parent:{page:xt,viewport:Dt}}=this,$t=document.createElement("section");$t.setAttribute("data-annotation-id",u.id),this instanceof dt||($t.tabIndex=N),$t.style.zIndex=this.parent.zIndex++,this.data.popupRef&&$t.setAttribute("aria-haspopup","dialog"),u.noRotate&&$t.classList.add("norotate");const{pageWidth:Xt,pageHeight:rn,pageX:un,pageY:En}=Dt.rawDims;if(!u.rect||this instanceof d){const{rotation:Nn}=u;return!u.hasOwnCanvas&&Nn!==0&&this.setRotation(Nn,$t),$t}const{width:An,height:$n}=wt(u.rect),xn=n.Util.normalizeRect([u.rect[0],xt.view[3]-u.rect[1]+xt.view[1],u.rect[2],xt.view[3]-u.rect[3]+xt.view[1]]);if(!Ot&&u.borderStyle.width>0){$t.style.borderWidth=`${u.borderStyle.width}px`;const Nn=u.borderStyle.horizontalCornerRadius,jn=u.borderStyle.verticalCornerRadius;if(Nn>0||jn>0){const zn=`calc(${Nn}px * var(--scale-factor)) / calc(${jn}px * var(--scale-factor))`;$t.style.borderRadius=zn}else if(this instanceof b){const zn=`calc(${An}px * var(--scale-factor)) / calc(${$n}px * var(--scale-factor))`;$t.style.borderRadius=zn}switch(u.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:$t.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:$t.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:$t.style.borderBottomStyle="solid";break}const Un=u.borderColor||null;Un?(Zt(this,h,!0),$t.style.borderColor=n.Util.makeHexColor(Un[0]|0,Un[1]|0,Un[2]|0)):$t.style.borderWidth=0}$t.style.left=`${100*(xn[0]-un)/Xt}%`,$t.style.top=`${100*(xn[1]-En)/rn}%`;const{rotation:Pn}=u;return u.hasOwnCanvas||Pn===0?($t.style.width=`${100*An/Xt}%`,$t.style.height=`${100*$n/rn}%`):this.setRotation(Pn,$t),$t}setRotation(Ot,u=this.container){if(!this.data.rect)return;const{pageWidth:xt,pageHeight:Dt}=this.parent.viewport.rawDims,{width:$t,height:Xt}=wt(this.data.rect);let rn,un;Ot%180===0?(rn=100*$t/xt,un=100*Xt/Dt):(rn=100*Xt/xt,un=100*$t/Dt),u.style.width=`${rn}%`,u.style.height=`${un}%`,u.setAttribute("data-main-rotation",(360-Ot)%360)}get _commonActions(){const Ot=(u,xt,Dt)=>{const $t=Dt.detail[u],Xt=$t[0],rn=$t.slice(1);Dt.target.style[xt]=$e.ColorConverters[`${Xt}_HTML`](rn),this.annotationStorage.setValue(this.data.id,{[xt]:$e.ColorConverters[`${Xt}_rgb`](rn)})};return(0,n.shadow)(this,"_commonActions",{display:u=>{const{display:xt}=u.detail,Dt=xt%2===1;this.container.style.visibility=Dt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Dt,noPrint:xt===1||xt===2})},print:u=>{this.annotationStorage.setValue(this.data.id,{noPrint:!u.detail.print})},hidden:u=>{const{hidden:xt}=u.detail;this.container.style.visibility=xt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:xt,noView:xt})},focus:u=>{setTimeout(()=>u.target.focus({preventScroll:!1}),0)},userName:u=>{u.target.title=u.detail.userName},readonly:u=>{u.target.disabled=u.detail.readonly},required:u=>{this._setRequired(u.target,u.detail.required)},bgColor:u=>{Ot("bgColor","backgroundColor",u)},fillColor:u=>{Ot("fillColor","backgroundColor",u)},fgColor:u=>{Ot("fgColor","color",u)},textColor:u=>{Ot("textColor","color",u)},borderColor:u=>{Ot("borderColor","borderColor",u)},strokeColor:u=>{Ot("strokeColor","borderColor",u)},rotation:u=>{const xt=u.detail.rotation;this.setRotation(xt),this.annotationStorage.setValue(this.data.id,{rotation:xt})}})}_dispatchEventFromSandbox(Ot,u){const xt=this._commonActions;for(const Dt of Object.keys(u.detail)){const $t=Ot[Dt]||xt[Dt];$t==null||$t(u)}}_setDefaultPropertiesFromJS(Ot){if(!this.enableScripting)return;const u=this.annotationStorage.getRawValue(this.data.id);if(!u)return;const xt=this._commonActions;for(const[Dt,$t]of Object.entries(u)){const Xt=xt[Dt];if(Xt){const rn={detail:{[Dt]:$t},target:Ot};Xt(rn),delete u[Dt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ot}=this.data;if(!Ot)return;const[u,xt,Dt,$t]=this.data.rect;if(Ot.length===1){const[,{x:jn,y:Un},{x:zn,y:Xn}]=Ot[0];if(Dt===jn&&$t===Un&&u===zn&&xt===Xn)return}const{style:Xt}=this.container;let rn;if(o(this,h)){const{borderColor:jn,borderWidth:Un}=Xt;Xt.borderWidth=0,rn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${jn}" stroke-width="${Un}">`],this.container.classList.add("hasBorder")}const un=Dt-u,En=$t-xt,{svgFactory:An}=this,$n=An.createElement("svg");$n.classList.add("quadrilateralsContainer"),$n.setAttribute("width",0),$n.setAttribute("height",0);const xn=An.createElement("defs");$n.append(xn);const Pn=An.createElement("clipPath"),Nn=`clippath_${this.data.id}`;Pn.setAttribute("id",Nn),Pn.setAttribute("clipPathUnits","objectBoundingBox"),xn.append(Pn);for(const[,{x:jn,y:Un},{x:zn,y:Xn}]of Ot){const qn=An.createElement("rect"),Yn=(zn-u)/un,Zn=($t-Un)/En,Qn=(jn-zn)/un,hi=(Un-Xn)/En;qn.setAttribute("x",Yn),qn.setAttribute("y",Zn),qn.setAttribute("width",Qn),qn.setAttribute("height",hi),Pn.append(qn),rn==null||rn.push(`<rect vector-effect="non-scaling-stroke" x="${Yn}" y="${Zn}" width="${Qn}" height="${hi}"/>`)}o(this,h)&&(rn.push("</g></svg>')"),Xt.backgroundImage=rn.join("")),this.container.append($n),this.container.style.clipPath=`url(#${Nn})`}_createPopup(){const{container:Ot,data:u}=this;Ot.setAttribute("aria-haspopup","dialog");const xt=new d({data:{color:u.color,titleObj:u.titleObj,modificationDate:u.modificationDate,contentsObj:u.contentsObj,richText:u.richText,parentRect:u.rect,borderStyle:0,id:`popup_${u.id}`,rotation:u.rotation},parent:this.parent,elements:[this]});this.parent.div.append(xt.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ot,u=null){const xt=[];if(this._fieldObjects){const Dt=this._fieldObjects[Ot];if(Dt)for(const{page:$t,id:Xt,exportValues:rn}of Dt){if($t===-1||Xt===u)continue;const un=typeof rn=="string"?rn:null,En=document.querySelector(`[data-element-id="${Xt}"]`);if(En&&!St.has(En)){(0,n.warn)(`_getElementsByName - element not allowed: ${Xt}`);continue}xt.push({id:Xt,exportValue:un,domElement:En})}return xt}for(const Dt of document.getElementsByName(Ot)){const{exportValue:$t}=Dt,Xt=Dt.getAttribute("data-element-id");Xt!==u&&St.has(Dt)&&xt.push({id:Xt,exportValue:$t,domElement:Dt})}return xt}show(){var Ot;this.container&&(this.container.hidden=!1),(Ot=this.popup)==null||Ot.maybeShow()}hide(){var Ot;this.container&&(this.container.hidden=!0),(Ot=this.popup)==null||Ot.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ot=this.getElementsToTriggerPopup();if(Array.isArray(Ot))for(const u of Ot)u.classList.add("highlightArea");else Ot.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ot,data:{id:u}}=this;this.container.addEventListener("dblclick",()=>{var xt;(xt=this.linkService.eventBus)==null||xt.dispatch("switchannotationeditormode",{source:this,mode:Ot,editId:u})})}};h=new WeakMap;let mt=c;class ft extends mt{constructor(u,xt=null){super(u,{isRenderable:!0,ignoreBorder:!!(xt!=null&&xt.ignoreBorder),createQuadrilaterals:!0});Lt(this,Le);Lt(this,gt);this.isTooltipOnly=u.data.isTooltipOnly}render(){const{data:u,linkService:xt}=this,Dt=document.createElement("a");Dt.setAttribute("data-element-id",u.id);let $t=!1;return u.url?(xt.addLinkAttributes(Dt,u.url,u.newWindow),$t=!0):u.action?(this._bindNamedAction(Dt,u.action),$t=!0):u.attachment?(this._bindAttachment(Dt,u.attachment),$t=!0):u.setOCGState?(zt(this,gt,Ci).call(this,Dt,u.setOCGState),$t=!0):u.dest?(this._bindLink(Dt,u.dest),$t=!0):(u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Dt,u),$t=!0),u.resetForm?(this._bindResetFormAction(Dt,u.resetForm),$t=!0):this.isTooltipOnly&&!$t&&(this._bindLink(Dt,""),$t=!0)),this.container.classList.add("linkAnnotation"),$t&&this.container.append(Dt),this.container}_bindLink(u,xt){u.href=this.linkService.getDestinationHash(xt),u.onclick=()=>(xt&&this.linkService.goToDestination(xt),!1),(xt||xt==="")&&zt(this,Le,er).call(this)}_bindNamedAction(u,xt){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(xt),!1),zt(this,Le,er).call(this)}_bindAttachment(u,xt){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>{var Dt;return(Dt=this.downloadManager)==null||Dt.openOrDownloadData(this.container,xt.content,xt.filename),!1},zt(this,Le,er).call(this)}_bindJSAction(u,xt){u.href=this.linkService.getAnchorUrl("");const Dt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $t of Object.keys(xt.actions)){const Xt=Dt.get($t);Xt&&(u[Xt]=()=>{var rn;return(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt.id,name:$t}}),!1})}u.onclick||(u.onclick=()=>!1),zt(this,Le,er).call(this)}_bindResetFormAction(u,xt){const Dt=u.onclick;if(Dt||(u.href=this.linkService.getAnchorUrl("")),zt(this,Le,er).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Dt||(u.onclick=()=>!1);return}u.onclick=()=>{var $n;Dt==null||Dt();const{fields:$t,refs:Xt,include:rn}=xt,un=[];if($t.length!==0||Xt.length!==0){const xn=new Set(Xt);for(const Pn of $t){const Nn=this._fieldObjects[Pn]||[];for(const{id:jn}of Nn)xn.add(jn)}for(const Pn of Object.values(this._fieldObjects))for(const Nn of Pn)xn.has(Nn.id)===rn&&un.push(Nn)}else for(const xn of Object.values(this._fieldObjects))un.push(...xn);const En=this.annotationStorage,An=[];for(const xn of un){const{id:Pn}=xn;switch(An.push(Pn),xn.type){case"text":{const jn=xn.defaultValue||"";En.setValue(Pn,{value:jn});break}case"checkbox":case"radiobutton":{const jn=xn.defaultValue===xn.exportValues;En.setValue(Pn,{value:jn});break}case"combobox":case"listbox":{const jn=xn.defaultValue||"";En.setValue(Pn,{value:jn});break}default:continue}const Nn=document.querySelector(`[data-element-id="${Pn}"]`);if(Nn){if(!St.has(Nn)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${Pn}`);continue}}else continue;Nn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:An,name:"ResetForm"}})),!1}}}Le=new WeakSet,er=function(){this.container.setAttribute("data-internal-link","")},gt=new WeakSet,Ci=function(u,xt){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeSetOCGState(xt),!1),zt(this,Le,er).call(this)};class et extends mt{constructor(Ot){super(Ot,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ot=document.createElement("img");return Ot.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ot.alt="[{{type}} Annotation]",Ot.dataset.l10nId="text_annotation_type",Ot.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ot),this.container}}class dt extends mt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ot){var u;this.data.hasOwnCanvas&&(((u=Ot.previousSibling)==null?void 0:u.nodeName)==="CANVAS"&&(Ot.previousSibling.hidden=!0),Ot.hidden=!1)}_getKeyModifier(Ot){const{isWin:u,isMac:xt}=n.FeatureTest.platform;return u&&Ot.ctrlKey||xt&&Ot.metaKey}_setEventListener(Ot,u,xt,Dt,$t){xt.includes("mouse")?Ot.addEventListener(xt,Xt=>{var rn;(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:$t(Xt),shift:Xt.shiftKey,modifier:this._getKeyModifier(Xt)}})}):Ot.addEventListener(xt,Xt=>{var rn;if(xt==="blur"){if(!u.focused||!Xt.relatedTarget)return;u.focused=!1}else if(xt==="focus"){if(u.focused)return;u.focused=!0}$t&&((rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:$t(Xt)}}))})}_setEventListeners(Ot,u,xt,Dt){var $t,Xt,rn;for(const[un,En]of xt)(En==="Action"||($t=this.data.actions)!=null&&$t[En])&&((En==="Focus"||En==="Blur")&&(u||(u={focused:!1})),this._setEventListener(Ot,u,un,En,Dt),En==="Focus"&&!((Xt=this.data.actions)!=null&&Xt.Blur)?this._setEventListener(Ot,u,"blur","Blur",null):En==="Blur"&&!((rn=this.data.actions)!=null&&rn.Focus)&&this._setEventListener(Ot,u,"focus","Focus",null))}_setBackgroundColor(Ot){const u=this.data.backgroundColor||null;Ot.style.backgroundColor=u===null?"transparent":n.Util.makeHexColor(u[0],u[1],u[2])}_setTextStyle(Ot){const u=["left","center","right"],{fontColor:xt}=this.data.defaultAppearanceData,Dt=this.data.defaultAppearanceData.fontSize||E,$t=Ot.style;let Xt;const rn=2,un=En=>Math.round(10*En)/10;if(this.data.multiLine){const En=Math.abs(this.data.rect[3]-this.data.rect[1]-rn),An=Math.round(En/(n.LINE_FACTOR*Dt))||1,$n=En/An;Xt=Math.min(Dt,un($n/n.LINE_FACTOR))}else{const En=Math.abs(this.data.rect[3]-this.data.rect[1]-rn);Xt=Math.min(Dt,un(En/n.LINE_FACTOR))}$t.fontSize=`calc(${Xt}px * var(--scale-factor))`,$t.color=n.Util.makeHexColor(xt[0],xt[1],xt[2]),this.data.textAlignment!==null&&($t.textAlign=u[this.data.textAlignment])}_setRequired(Ot,u){u?Ot.setAttribute("required",!0):Ot.removeAttribute("required"),Ot.setAttribute("aria-required",u)}}class At extends dt{constructor(Ot){const u=Ot.renderForms||!Ot.data.hasAppearance&&!!Ot.data.fieldValue;super(Ot,{isRenderable:u})}setPropertyOnSiblings(Ot,u,xt,Dt){const $t=this.annotationStorage;for(const Xt of this._getElementsByName(Ot.name,Ot.id))Xt.domElement&&(Xt.domElement[u]=xt),$t.setValue(Xt.id,{[Dt]:xt})}render(){var Dt,$t;const Ot=this.annotationStorage,u=this.data.id;this.container.classList.add("textWidgetAnnotation");let xt=null;if(this.renderForms){const Xt=Ot.getValue(u,{value:this.data.fieldValue});let rn=Xt.value||"";const un=Ot.getValue(u,{charLimit:this.data.maxLen}).charLimit;un&&rn.length>un&&(rn=rn.slice(0,un));let En=Xt.formattedValue||((Dt=this.data.textContent)==null?void 0:Dt.join(`
`))||null;En&&this.data.comb&&(En=En.replaceAll(/\s+/g,""));const An={userValue:rn,formattedValue:En,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(xt=document.createElement("textarea"),xt.textContent=En??rn,this.data.doNotScroll&&(xt.style.overflowY="hidden")):(xt=document.createElement("input"),xt.type="text",xt.setAttribute("value",En??rn),this.data.doNotScroll&&(xt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(xt.hidden=!0),St.add(xt),xt.setAttribute("data-element-id",u),xt.disabled=this.data.readOnly,xt.name=this.data.fieldName,xt.tabIndex=N,this._setRequired(xt,this.data.required),un&&(xt.maxLength=un),xt.addEventListener("input",xn=>{Ot.setValue(u,{value:xn.target.value}),this.setPropertyOnSiblings(xt,"value",xn.target.value,"value"),An.formattedValue=null}),xt.addEventListener("resetform",xn=>{const Pn=this.data.defaultFieldValue??"";xt.value=An.userValue=Pn,An.formattedValue=null});let $n=xn=>{const{formattedValue:Pn}=An;Pn!=null&&(xn.target.value=Pn),xn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){xt.addEventListener("focus",Pn=>{if(An.focused)return;const{target:Nn}=Pn;An.userValue&&(Nn.value=An.userValue),An.lastCommittedValue=Nn.value,An.commitKey=1,An.focused=!0}),xt.addEventListener("updatefromsandbox",Pn=>{this.showElementAndHideCanvas(Pn.target);const Nn={value(jn){An.userValue=jn.detail.value??"",Ot.setValue(u,{value:An.userValue.toString()}),jn.target.value=An.userValue},formattedValue(jn){const{formattedValue:Un}=jn.detail;An.formattedValue=Un,Un!=null&&jn.target!==document.activeElement&&(jn.target.value=Un),Ot.setValue(u,{formattedValue:Un})},selRange(jn){jn.target.setSelectionRange(...jn.detail.selRange)},charLimit:jn=>{var qn;const{charLimit:Un}=jn.detail,{target:zn}=jn;if(Un===0){zn.removeAttribute("maxLength");return}zn.setAttribute("maxLength",Un);let Xn=An.userValue;!Xn||Xn.length<=Un||(Xn=Xn.slice(0,Un),zn.value=An.userValue=Xn,Ot.setValue(u,{value:Xn}),(qn=this.linkService.eventBus)==null||qn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Xn,willCommit:!0,commitKey:1,selStart:zn.selectionStart,selEnd:zn.selectionEnd}}))}};this._dispatchEventFromSandbox(Nn,Pn)}),xt.addEventListener("keydown",Pn=>{var Un;An.commitKey=1;let Nn=-1;if(Pn.key==="Escape"?Nn=0:Pn.key==="Enter"&&!this.data.multiLine?Nn=2:Pn.key==="Tab"&&(An.commitKey=3),Nn===-1)return;const{value:jn}=Pn.target;An.lastCommittedValue!==jn&&(An.lastCommittedValue=jn,An.userValue=jn,(Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:jn,willCommit:!0,commitKey:Nn,selStart:Pn.target.selectionStart,selEnd:Pn.target.selectionEnd}}))});const xn=$n;$n=null,xt.addEventListener("blur",Pn=>{var jn;if(!An.focused||!Pn.relatedTarget)return;An.focused=!1;const{value:Nn}=Pn.target;An.userValue=Nn,An.lastCommittedValue!==Nn&&((jn=this.linkService.eventBus)==null||jn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Nn,willCommit:!0,commitKey:An.commitKey,selStart:Pn.target.selectionStart,selEnd:Pn.target.selectionEnd}})),xn(Pn)}),($t=this.data.actions)!=null&&$t.Keystroke&&xt.addEventListener("beforeinput",Pn=>{var Zn;An.lastCommittedValue=null;const{data:Nn,target:jn}=Pn,{value:Un,selectionStart:zn,selectionEnd:Xn}=jn;let qn=zn,Yn=Xn;switch(Pn.inputType){case"deleteWordBackward":{const Qn=Un.substring(0,zn).match(/\w*[^\w]*$/);Qn&&(qn-=Qn[0].length);break}case"deleteWordForward":{const Qn=Un.substring(zn).match(/^[^\w]*\w*/);Qn&&(Yn+=Qn[0].length);break}case"deleteContentBackward":zn===Xn&&(qn-=1);break;case"deleteContentForward":zn===Xn&&(Yn+=1);break}Pn.preventDefault(),(Zn=this.linkService.eventBus)==null||Zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Un,change:Nn||"",willCommit:!1,selStart:qn,selEnd:Yn}})}),this._setEventListeners(xt,An,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pn=>Pn.target.value)}if($n&&xt.addEventListener("blur",$n),this.data.comb){const Pn=(this.data.rect[2]-this.data.rect[0])/un;xt.classList.add("comb"),xt.style.letterSpacing=`calc(${Pn}px * var(--scale-factor) - 1ch)`}}else xt=document.createElement("div"),xt.textContent=this.data.fieldValue,xt.style.verticalAlign="middle",xt.style.display="table-cell";return this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class Et extends dt{constructor(Ot){super(Ot,{isRenderable:!!Ot.data.hasOwnCanvas})}}class _t extends dt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){const Ot=this.annotationStorage,u=this.data,xt=u.id;let Dt=Ot.getValue(xt,{value:u.exportValue===u.fieldValue}).value;typeof Dt=="string"&&(Dt=Dt!=="Off",Ot.setValue(xt,{value:Dt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const $t=document.createElement("input");return St.add($t),$t.setAttribute("data-element-id",xt),$t.disabled=u.readOnly,this._setRequired($t,this.data.required),$t.type="checkbox",$t.name=u.fieldName,Dt&&$t.setAttribute("checked",!0),$t.setAttribute("exportValue",u.exportValue),$t.tabIndex=N,$t.addEventListener("change",Xt=>{const{name:rn,checked:un}=Xt.target;for(const En of this._getElementsByName(rn,xt)){const An=un&&En.exportValue===u.exportValue;En.domElement&&(En.domElement.checked=An),Ot.setValue(En.id,{value:An})}Ot.setValue(xt,{value:un})}),$t.addEventListener("resetform",Xt=>{const rn=u.defaultFieldValue||"Off";Xt.target.checked=rn===u.exportValue}),this.enableScripting&&this.hasJSActions&&($t.addEventListener("updatefromsandbox",Xt=>{const rn={value(un){un.target.checked=un.detail.value!=="Off",Ot.setValue(xt,{value:un.target.checked})}};this._dispatchEventFromSandbox(rn,Xt)}),this._setEventListeners($t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xt=>Xt.target.checked)),this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class b extends dt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ot=this.annotationStorage,u=this.data,xt=u.id;let Dt=Ot.getValue(xt,{value:u.fieldValue===u.buttonValue}).value;typeof Dt=="string"&&(Dt=Dt!==u.buttonValue,Ot.setValue(xt,{value:Dt}));const $t=document.createElement("input");if(St.add($t),$t.setAttribute("data-element-id",xt),$t.disabled=u.readOnly,this._setRequired($t,this.data.required),$t.type="radio",$t.name=u.fieldName,Dt&&$t.setAttribute("checked",!0),$t.tabIndex=N,$t.addEventListener("change",Xt=>{const{name:rn,checked:un}=Xt.target;for(const En of this._getElementsByName(rn,xt))Ot.setValue(En.id,{value:!1});Ot.setValue(xt,{value:un})}),$t.addEventListener("resetform",Xt=>{const rn=u.defaultFieldValue;Xt.target.checked=rn!=null&&rn===u.buttonValue}),this.enableScripting&&this.hasJSActions){const Xt=u.buttonValue;$t.addEventListener("updatefromsandbox",rn=>{const un={value:En=>{const An=Xt===En.detail.value;for(const $n of this._getElementsByName(En.target.name)){const xn=An&&$n.id===xt;$n.domElement&&($n.domElement.checked=xn),Ot.setValue($n.id,{value:xn})}}};this._dispatchEventFromSandbox(un,rn)}),this._setEventListeners($t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rn=>rn.target.checked)}return this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class pe extends ft{constructor(Ot){super(Ot,{ignoreBorder:Ot.data.hasAppearance})}render(){const Ot=super.render();Ot.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ot.title=this.data.alternativeText);const u=Ot.lastChild;return this.enableScripting&&this.hasJSActions&&u&&(this._setDefaultPropertiesFromJS(u),u.addEventListener("updatefromsandbox",xt=>{this._dispatchEventFromSandbox({},xt)})),Ot}}class yt extends dt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ot=this.annotationStorage,u=this.data.id,xt=Ot.getValue(u,{value:this.data.fieldValue}),Dt=document.createElement("select");St.add(Dt),Dt.setAttribute("data-element-id",u),Dt.disabled=this.data.readOnly,this._setRequired(Dt,this.data.required),Dt.name=this.data.fieldName,Dt.tabIndex=N;let $t=this.data.combo&&this.data.options.length>0;this.data.combo||(Dt.size=this.data.options.length,this.data.multiSelect&&(Dt.multiple=!0)),Dt.addEventListener("resetform",An=>{const $n=this.data.defaultFieldValue;for(const xn of Dt.options)xn.selected=xn.value===$n});for(const An of this.data.options){const $n=document.createElement("option");$n.textContent=An.displayValue,$n.value=An.exportValue,xt.value.includes(An.exportValue)&&($n.setAttribute("selected",!0),$t=!1),Dt.append($n)}let Xt=null;if($t){const An=document.createElement("option");An.value=" ",An.setAttribute("hidden",!0),An.setAttribute("selected",!0),Dt.prepend(An),Xt=()=>{An.remove(),Dt.removeEventListener("input",Xt),Xt=null},Dt.addEventListener("input",Xt)}const rn=An=>{const $n=An?"value":"textContent",{options:xn,multiple:Pn}=Dt;return Pn?Array.prototype.filter.call(xn,Nn=>Nn.selected).map(Nn=>Nn[$n]):xn.selectedIndex===-1?null:xn[xn.selectedIndex][$n]};let un=rn(!1);const En=An=>{const $n=An.target.options;return Array.prototype.map.call($n,xn=>({displayValue:xn.textContent,exportValue:xn.value}))};return this.enableScripting&&this.hasJSActions?(Dt.addEventListener("updatefromsandbox",An=>{const $n={value(xn){Xt==null||Xt();const Pn=xn.detail.value,Nn=new Set(Array.isArray(Pn)?Pn:[Pn]);for(const jn of Dt.options)jn.selected=Nn.has(jn.value);Ot.setValue(u,{value:rn(!0)}),un=rn(!1)},multipleSelection(xn){Dt.multiple=!0},remove(xn){const Pn=Dt.options,Nn=xn.detail.remove;Pn[Nn].selected=!1,Dt.remove(Nn),Pn.length>0&&Array.prototype.findIndex.call(Pn,Un=>Un.selected)===-1&&(Pn[0].selected=!0),Ot.setValue(u,{value:rn(!0),items:En(xn)}),un=rn(!1)},clear(xn){for(;Dt.length!==0;)Dt.remove(0);Ot.setValue(u,{value:null,items:[]}),un=rn(!1)},insert(xn){const{index:Pn,displayValue:Nn,exportValue:jn}=xn.detail.insert,Un=Dt.children[Pn],zn=document.createElement("option");zn.textContent=Nn,zn.value=jn,Un?Un.before(zn):Dt.append(zn),Ot.setValue(u,{value:rn(!0),items:En(xn)}),un=rn(!1)},items(xn){const{items:Pn}=xn.detail;for(;Dt.length!==0;)Dt.remove(0);for(const Nn of Pn){const{displayValue:jn,exportValue:Un}=Nn,zn=document.createElement("option");zn.textContent=jn,zn.value=Un,Dt.append(zn)}Dt.options.length>0&&(Dt.options[0].selected=!0),Ot.setValue(u,{value:rn(!0),items:En(xn)}),un=rn(!1)},indices(xn){const Pn=new Set(xn.detail.indices);for(const Nn of xn.target.options)Nn.selected=Pn.has(Nn.index);Ot.setValue(u,{value:rn(!0)}),un=rn(!1)},editable(xn){xn.target.disabled=!xn.detail.editable}};this._dispatchEventFromSandbox($n,An)}),Dt.addEventListener("input",An=>{var xn;const $n=rn(!0);Ot.setValue(u,{value:$n}),An.preventDefault(),(xn=this.linkService.eventBus)==null||xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:un,changeEx:$n,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Dt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],An=>An.target.value)):Dt.addEventListener("input",function(An){Ot.setValue(u,{value:rn(!0)})}),this.data.combo&&this._setTextStyle(Dt),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class d extends mt{constructor(Ot){const{data:u,elements:xt}=Ot;super(Ot,{isRenderable:mt._hasPopupData(u)}),this.elements=xt}render(){this.container.classList.add("popupAnnotation");const Ot=new a({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),u=[];for(const xt of this.elements)xt.popup=Ot,u.push(xt.data.id),xt.addHighlightArea();return this.container.setAttribute("aria-controls",u.map(xt=>`${n.AnnotationPrefix}${xt}`).join(",")),this.container}}class a{constructor({container:Ot,color:u,elements:xt,titleObj:Dt,modificationDate:$t,contentsObj:Xt,richText:rn,parent:un,rect:En,parentRect:An,open:$n}){Lt(this,kn);Lt(this,Fn);Lt(this,Cn);Lt(this,Dn);Lt(this,kt,null);Lt(this,Ut,zt(this,kn,Ri).bind(this));Lt(this,Bt,zt(this,Dn,ti).bind(this));Lt(this,Gt,zt(this,Cn,ei).bind(this));Lt(this,Jt,zt(this,Fn,xr).bind(this));Lt(this,sn,null);Lt(this,nn,null);Lt(this,_n,null);Lt(this,Sn,null);Lt(this,dn,null);Lt(this,vn,null);Lt(this,an,!1);Lt(this,Wt,null);Lt(this,qt,null);Lt(this,Qt,null);Lt(this,mn,null);Lt(this,gn,!1);var Pn;Zt(this,nn,Ot),Zt(this,mn,Dt),Zt(this,_n,Xt),Zt(this,Qt,rn),Zt(this,dn,un),Zt(this,sn,u),Zt(this,qt,En),Zt(this,vn,An),Zt(this,Sn,xt);const xn=s.PDFDateString.toDateObject($t);xn&&Zt(this,kt,un.l10n.get("annotation_date_string",{date:xn.toLocaleDateString(),time:xn.toLocaleTimeString()})),this.trigger=xt.flatMap(Nn=>Nn.getElementsToTriggerPopup());for(const Nn of this.trigger)Nn.addEventListener("click",o(this,Jt)),Nn.addEventListener("mouseenter",o(this,Gt)),Nn.addEventListener("mouseleave",o(this,Bt)),Nn.classList.add("popupTriggerArea");for(const Nn of xt)(Pn=Nn.container)==null||Pn.addEventListener("keydown",o(this,Ut));o(this,nn).hidden=!0,$n&&zt(this,Fn,xr).call(this)}render(){if(o(this,Wt))return;const{page:{view:Ot},viewport:{rawDims:{pageWidth:u,pageHeight:xt,pageX:Dt,pageY:$t}}}=o(this,dn),Xt=Zt(this,Wt,document.createElement("div"));if(Xt.className="popup",o(this,sn)){const qn=Xt.style.outlineColor=n.Util.makeHexColor(...o(this,sn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Xt.style.backgroundColor=`color-mix(in srgb, ${qn} 30%, white)`:Xt.style.backgroundColor=n.Util.makeHexColor(...o(this,sn).map(Zn=>Math.floor(.7*(255-Zn)+Zn)))}const rn=document.createElement("span");rn.className="header";const un=document.createElement("h1");if(rn.append(un),{dir:un.dir,str:un.textContent}=o(this,mn),Xt.append(rn),o(this,kt)){const qn=document.createElement("span");qn.classList.add("popupDate"),o(this,kt).then(Yn=>{qn.textContent=Yn}),rn.append(qn)}const En=o(this,_n),An=o(this,Qt);if(An!=null&&An.str&&(!(En!=null&&En.str)||En.str===An.str))P.XfaLayer.render({xfaHtml:An.html,intent:"richText",div:Xt}),Xt.lastChild.classList.add("richText","popupContent");else{const qn=this._formatContents(En);Xt.append(qn)}let $n=!!o(this,vn),xn=$n?o(this,vn):o(this,qt);for(const qn of o(this,Sn))if(!xn||n.Util.intersect(qn.data.rect,xn)!==null){xn=qn.data.rect,$n=!0;break}const Pn=n.Util.normalizeRect([xn[0],Ot[3]-xn[1]+Ot[1],xn[2],Ot[3]-xn[3]+Ot[1]]),jn=$n?xn[2]-xn[0]+5:0,Un=Pn[0]+jn,zn=Pn[1],{style:Xn}=o(this,nn);Xn.left=`${100*(Un-Dt)/u}%`,Xn.top=`${100*(zn-$t)/xt}%`,o(this,nn).append(Xt)}_formatContents({str:Ot,dir:u}){const xt=document.createElement("p");xt.classList.add("popupContent"),xt.dir=u;const Dt=Ot.split(/(?:\r\n?|\n)/);for(let $t=0,Xt=Dt.length;$t<Xt;++$t){const rn=Dt[$t];xt.append(document.createTextNode(rn)),$t<Xt-1&&xt.append(document.createElement("br"))}return xt}forceHide(){Zt(this,gn,this.isVisible),o(this,gn)&&(o(this,nn).hidden=!0)}maybeShow(){o(this,gn)&&(Zt(this,gn,!1),o(this,nn).hidden=!1)}get isVisible(){return o(this,nn).hidden===!1}}kt=new WeakMap,Ut=new WeakMap,Bt=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,sn=new WeakMap,nn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,dn=new WeakMap,vn=new WeakMap,an=new WeakMap,Wt=new WeakMap,qt=new WeakMap,Qt=new WeakMap,mn=new WeakMap,gn=new WeakMap,kn=new WeakSet,Ri=function(Ot){Ot.altKey||Ot.shiftKey||Ot.ctrlKey||Ot.metaKey||(Ot.key==="Enter"||Ot.key==="Escape"&&o(this,an))&&zt(this,Fn,xr).call(this)},Fn=new WeakSet,xr=function(){Zt(this,an,!o(this,an)),o(this,an)?(zt(this,Cn,ei).call(this),o(this,nn).addEventListener("click",o(this,Jt)),o(this,nn).addEventListener("keydown",o(this,Ut))):(zt(this,Dn,ti).call(this),o(this,nn).removeEventListener("click",o(this,Jt)),o(this,nn).removeEventListener("keydown",o(this,Ut)))},Cn=new WeakSet,ei=function(){o(this,Wt)||this.render(),this.isVisible?o(this,an)&&o(this,nn).classList.add("focused"):(o(this,nn).hidden=!1,o(this,nn).style.zIndex=parseInt(o(this,nn).style.zIndex)+1e3)},Dn=new WeakSet,ti=function(){o(this,nn).classList.remove("focused"),!(o(this,an)||!this.isVisible)&&(o(this,nn).hidden=!0,o(this,nn).style.zIndex=parseInt(o(this,nn).style.zIndex)-1e3)};class ot extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ot.data.textContent,this.textPosition=Ot.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ot=document.createElement("div");Ot.classList.add("annotationTextContent"),Ot.setAttribute("role","comment");for(const u of this.textContent){const xt=document.createElement("span");xt.textContent=u,Ot.append(xt)}this.container.append(Ot)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=ot;class ze extends mt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});Lt(this,Yt,null)}render(){this.container.classList.add("lineAnnotation");const u=this.data,{width:xt,height:Dt}=wt(u.rect),$t=this.svgFactory.create(xt,Dt,!0),Xt=Zt(this,Yt,this.svgFactory.createElement("svg:line"));return Xt.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),Xt.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),Xt.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),Xt.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),Xt.setAttribute("stroke-width",u.borderStyle.width||1),Xt.setAttribute("stroke","transparent"),Xt.setAttribute("fill","transparent"),$t.append(Xt),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap;class Rt extends mt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});Lt(this,Vt,null)}render(){this.container.classList.add("squareAnnotation");const u=this.data,{width:xt,height:Dt}=wt(u.rect),$t=this.svgFactory.create(xt,Dt,!0),Xt=u.borderStyle.width,rn=Zt(this,Vt,this.svgFactory.createElement("svg:rect"));return rn.setAttribute("x",Xt/2),rn.setAttribute("y",Xt/2),rn.setAttribute("width",xt-Xt),rn.setAttribute("height",Dt-Xt),rn.setAttribute("stroke-width",Xt||1),rn.setAttribute("stroke","transparent"),rn.setAttribute("fill","transparent"),$t.append(rn),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vt=new WeakMap;class Ft extends mt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});Lt(this,hn,null)}render(){this.container.classList.add("circleAnnotation");const u=this.data,{width:xt,height:Dt}=wt(u.rect),$t=this.svgFactory.create(xt,Dt,!0),Xt=u.borderStyle.width,rn=Zt(this,hn,this.svgFactory.createElement("svg:ellipse"));return rn.setAttribute("cx",xt/2),rn.setAttribute("cy",Dt/2),rn.setAttribute("rx",xt/2-Xt/2),rn.setAttribute("ry",Dt/2-Xt/2),rn.setAttribute("stroke-width",Xt||1),rn.setAttribute("stroke","transparent"),rn.setAttribute("fill","transparent"),$t.append(rn),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap;class vt extends mt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});Lt(this,pn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:xt,height:Dt}=wt(u.rect),$t=this.svgFactory.create(xt,Dt,!0);let Xt=[];for(const un of u.vertices){const En=un.x-u.rect[0],An=u.rect[3]-un.y;Xt.push(En+","+An)}Xt=Xt.join(" ");const rn=Zt(this,pn,this.svgFactory.createElement(this.svgElementName));return rn.setAttribute("points",Xt),rn.setAttribute("stroke-width",u.borderStyle.width||1),rn.setAttribute("stroke","transparent"),rn.setAttribute("fill","transparent"),$t.append(rn),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}pn=new WeakMap;class Nt extends vt{constructor(Ot){super(Ot),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ht extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class It extends mt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});Lt(this,Gn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:xt,height:Dt}=wt(u.rect),$t=this.svgFactory.create(xt,Dt,!0);for(const Xt of u.inkLists){let rn=[];for(const En of Xt){const An=En.x-u.rect[0],$n=u.rect[3]-En.y;rn.push(`${An},${$n}`)}rn=rn.join(" ");const un=this.svgFactory.createElement(this.svgElementName);o(this,Gn).push(un),un.setAttribute("points",rn),un.setAttribute("stroke-width",u.borderStyle.width||1),un.setAttribute("stroke","transparent"),un.setAttribute("fill","transparent"),!u.popupRef&&this.hasPopupData&&this._createPopup(),$t.append(un)}return this.container.append($t),this.container}getElementsToTriggerPopup(){return o(this,Gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gn=new WeakMap,e.InkAnnotationElement=It;class Mt extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class jt extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ln extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class cn extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class tn extends mt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=tn;class Pt extends mt{constructor(u){var $t;super(u,{isRenderable:!0});Lt(this,Kt);Lt(this,Hn,null);const{filename:xt,content:Dt}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(xt,!0),this.content=Dt,($t=this.linkService.eventBus)==null||$t.dispatch("fileattachmentannotation",{source:this,filename:xt,content:Dt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:u,data:xt}=this;let Dt;xt.hasAppearance||xt.fillAlpha===0?Dt=document.createElement("div"):(Dt=document.createElement("img"),Dt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(xt.name)?"paperclip":"pushpin"}.svg`,xt.fillAlpha&&xt.fillAlpha<1&&(Dt.style=`filter: opacity(${Math.round(xt.fillAlpha*100)}%);`)),Dt.addEventListener("dblclick",zt(this,Kt,ni).bind(this)),Zt(this,Hn,Dt);const{isMac:$t}=n.FeatureTest.platform;return u.addEventListener("keydown",Xt=>{Xt.key==="Enter"&&($t?Xt.metaKey:Xt.ctrlKey)&&zt(this,Kt,ni).call(this)}),!xt.popupRef&&this.hasPopupData?this._createPopup():Dt.classList.add("popupTriggerArea"),u.append(Dt),u}getElementsToTriggerPopup(){return o(this,Hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hn=new WeakMap,Kt=new WeakSet,ni=function(){var u;(u=this.downloadManager)==null||u.openOrDownloadData(this.container,this.content,this.filename)};class l{constructor({div:Ot,accessibilityManager:u,annotationCanvasMap:xt,l10n:Dt,page:$t,viewport:Xt}){Lt(this,On);Lt(this,fn);Lt(this,Tn,null);Lt(this,yn,null);Lt(this,Rn,new Map);this.div=Ot,Zt(this,Tn,u),Zt(this,yn,xt),this.l10n=Dt,this.page=$t,this.viewport=Xt,this.zIndex=0,this.l10n||(this.l10n=Tt.NullL10n)}async render(Ot){const{annotations:u}=Ot,xt=this.div;(0,s.setLayerDimensions)(xt,this.viewport);const Dt=new Map,$t={data:null,layer:xt,linkService:Ot.linkService,downloadManager:Ot.downloadManager,imageResourcesPath:Ot.imageResourcesPath||"",renderForms:Ot.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:Ot.annotationStorage||new p.AnnotationStorage,enableScripting:Ot.enableScripting===!0,hasJSActions:Ot.hasJSActions,fieldObjects:Ot.fieldObjects,parent:this,elements:null};for(const Xt of u){if(Xt.noHTML)continue;const rn=Xt.annotationType===n.AnnotationType.POPUP;if(rn){const An=Dt.get(Xt.id);if(!An)continue;$t.elements=An}else{const{width:An,height:$n}=wt(Xt.rect);if(An<=0||$n<=0)continue}$t.data=Xt;const un=bt.create($t);if(!un.isRenderable)continue;if(!rn&&Xt.popupRef){const An=Dt.get(Xt.popupRef);An?An.push(un):Dt.set(Xt.popupRef,[un])}un.annotationEditorType>0&&o(this,Rn).set(un.data.id,un);const En=un.render();Xt.hidden&&(En.style.visibility="hidden"),zt(this,On,ki).call(this,En,Xt.id)}zt(this,fn,ri).call(this),await this.l10n.translate(xt)}update({viewport:Ot}){const u=this.div;this.viewport=Ot,(0,s.setLayerDimensions)(u,{rotation:Ot.rotation}),zt(this,fn,ri).call(this),u.hidden=!1}getEditableAnnotations(){return Array.from(o(this,Rn).values())}getEditableAnnotation(Ot){return o(this,Rn).get(Ot)}}Tn=new WeakMap,yn=new WeakMap,Rn=new WeakMap,On=new WeakSet,ki=function(Ot,u){var Dt;const xt=Ot.firstChild||Ot;xt.id=`${n.AnnotationPrefix}${u}`,this.div.append(Ot),(Dt=o(this,Tn))==null||Dt.moveElementInDOM(this.div,Ot,xt,!1)},fn=new WeakSet,ri=function(){if(!o(this,yn))return;const Ot=this.div;for(const[u,xt]of o(this,yn)){const Dt=Ot.querySelector(`[data-annotation-id="${u}"]`);if(!Dt)continue;const{firstChild:$t}=Dt;$t?$t.nodeName==="CANVAS"?$t.replaceWith(xt):$t.before(xt):Dt.append(xt)}o(this,yn).clear()},e.AnnotationLayer=l},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function i(p){return Math.floor(Math.max(0,Math.min(1,p))*255).toString(16).padStart(2,"0")}function n(p){return Math.max(0,Math.min(255,255*p))}class s{static CMYK_G([$e,Tt,P,N]){return["G",1-Math.min(1,.3*$e+.59*P+.11*Tt+N)]}static G_CMYK([$e]){return["CMYK",0,0,0,1-$e]}static G_RGB([$e]){return["RGB",$e,$e,$e]}static G_rgb([$e]){return $e=n($e),[$e,$e,$e]}static G_HTML([$e]){const Tt=i($e);return`#${Tt}${Tt}${Tt}`}static RGB_G([$e,Tt,P]){return["G",.3*$e+.59*Tt+.11*P]}static RGB_rgb($e){return $e.map(n)}static RGB_HTML($e){return`#${$e.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$e,Tt,P,N]){return["RGB",1-Math.min(1,$e+N),1-Math.min(1,P+N),1-Math.min(1,Tt+N)]}static CMYK_rgb([$e,Tt,P,N]){return[n(1-Math.min(1,$e+N)),n(1-Math.min(1,P+N)),n(1-Math.min(1,Tt+N))]}static CMYK_HTML($e){const Tt=this.CMYK_RGB($e).slice(1);return this.RGB_HTML(Tt)}static RGB_CMYK([$e,Tt,P]){const N=1-$e,E=1-Tt,St=1-P,wt=Math.min(N,E,St);return["CMYK",N,E,St,wt]}}e.ColorConverters=s},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function n($e,Tt){switch($e){case"find_match_count":$e=`find_match_count[${Tt.total===1?"one":"other"}]`;break;case"find_match_count_limit":$e=`find_match_count_limit[${Tt.limit===1?"one":"other"}]`;break}return i[$e]||""}function s($e,Tt){return Tt?$e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(P,N)=>N in Tt?Tt[N]:"{{"+N+"}}"):$e}const p={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get($e,Tt=null,P=n($e,Tt)){return s(P,Tt)},async translate($e){}};e.NullL10n=p},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=i(25);class s{static setupStorage($e,Tt,P,N,E){const St=N.getValue(Tt,{value:null});switch(P.name){case"textarea":if(St.value!==null&&($e.textContent=St.value),E==="print")break;$e.addEventListener("input",wt=>{N.setValue(Tt,{value:wt.target.value})});break;case"input":if(P.attributes.type==="radio"||P.attributes.type==="checkbox"){if(St.value===P.attributes.xfaOn?$e.setAttribute("checked",!0):St.value===P.attributes.xfaOff&&$e.removeAttribute("checked"),E==="print")break;$e.addEventListener("change",wt=>{N.setValue(Tt,{value:wt.target.checked?wt.target.getAttribute("xfaOn"):wt.target.getAttribute("xfaOff")})})}else{if(St.value!==null&&$e.setAttribute("value",St.value),E==="print")break;$e.addEventListener("input",wt=>{N.setValue(Tt,{value:wt.target.value})})}break;case"select":if(St.value!==null){$e.setAttribute("value",St.value);for(const wt of P.children)wt.attributes.value===St.value?wt.attributes.selected=!0:wt.attributes.hasOwnProperty("selected")&&delete wt.attributes.selected}$e.addEventListener("input",wt=>{const bt=wt.target.options,mt=bt.selectedIndex===-1?"":bt[bt.selectedIndex].value;N.setValue(Tt,{value:mt})});break}}static setAttributes({html:$e,element:Tt,storage:P=null,intent:N,linkService:E}){const{attributes:St}=Tt,wt=$e instanceof HTMLAnchorElement;St.type==="radio"&&(St.name=`${St.name}-${N}`);for(const[bt,mt]of Object.entries(St))if(mt!=null)switch(bt){case"class":mt.length&&$e.setAttribute(bt,mt.join(" "));break;case"dataId":break;case"id":$e.setAttribute("data-element-id",mt);break;case"style":Object.assign($e.style,mt);break;case"textContent":$e.textContent=mt;break;default:(!wt||bt!=="href"&&bt!=="newWindow")&&$e.setAttribute(bt,mt)}wt&&E.addLinkAttributes($e,St.href,St.newWindow),P&&St.dataId&&this.setupStorage($e,St.dataId,Tt,P)}static render($e){var ft;const Tt=$e.annotationStorage,P=$e.linkService,N=$e.xfaHtml,E=$e.intent||"display",St=document.createElement(N.name);N.attributes&&this.setAttributes({html:St,element:N,intent:E,linkService:P});const wt=[[N,-1,St]],bt=$e.div;if(bt.append(St),$e.viewport){const et=`matrix(${$e.viewport.transform.join(",")})`;bt.style.transform=et}E!=="richText"&&bt.setAttribute("class","xfaLayer xfaFont");const mt=[];for(;wt.length>0;){const[et,dt,At]=wt.at(-1);if(dt+1===et.children.length){wt.pop();continue}const Et=et.children[++wt.at(-1)[1]];if(Et===null)continue;const{name:_t}=Et;if(_t==="#text"){const pe=document.createTextNode(Et.value);mt.push(pe),At.append(pe);continue}const b=(ft=Et==null?void 0:Et.attributes)!=null&&ft.xmlns?document.createElementNS(Et.attributes.xmlns,_t):document.createElement(_t);if(At.append(b),Et.attributes&&this.setAttributes({html:b,element:Et,storage:Tt,intent:E,linkService:P}),Et.children&&Et.children.length>0)wt.push([Et,-1,b]);else if(Et.value){const pe=document.createTextNode(Et.value);n.XfaText.shouldBuildText(_t)&&mt.push(pe),b.append(pe)}}for(const et of bt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))et.setAttribute("readOnly",!0);return{textDivs:mt}}static update($e){const Tt=`matrix(${$e.viewport.transform.join(",")})`;$e.div.style.transform=Tt,$e.div.hidden=!1}}e.XfaLayer=s},(t,e,i)=>{var N,E,St,wt,bt,mt,ft,et,dt,At,Et,_t,b,pe,yt,Fi,a,Oi,ze,Di,Ft,Mi,Nt,ii,It,Li,jt,si,cn,Ii,Pt,Ni,h,$i,Le,ji,gt,Bi,kt,Jn,Bt,ai,Jt,Pr,nn,wr,Sn,ir,vn,oi,Wt,Tr,Qt,Ui,gn,li,Mn,Wi,In,zi,Ln,ci,on,Cr,Vt,or;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=i(1),s=i(4),p=i(29),$e=i(6),Tt=i(5);const pn=class pn extends s.AnnotationEditor{constructor(Kt){super({...Kt,name:"inkEditor"});Lt(this,yt);Lt(this,a);Lt(this,ze);Lt(this,Ft);Lt(this,Nt);Lt(this,It);Lt(this,jt);Lt(this,cn);Lt(this,Pt);Lt(this,h);Lt(this,Le);Lt(this,gt);Lt(this,kt);Lt(this,Bt);Lt(this,Jt);Lt(this,nn);Lt(this,Sn);Lt(this,vn);Lt(this,Wt);Lt(this,In);Lt(this,Ln);Lt(this,on);Lt(this,Vt);Lt(this,N,0);Lt(this,E,0);Lt(this,St,this.canvasPointermove.bind(this));Lt(this,wt,this.canvasPointerleave.bind(this));Lt(this,bt,this.canvasPointerup.bind(this));Lt(this,mt,this.canvasPointerdown.bind(this));Lt(this,ft,new Path2D);Lt(this,et,!1);Lt(this,dt,!1);Lt(this,At,!1);Lt(this,Et,null);Lt(this,_t,0);Lt(this,b,0);Lt(this,pe,null);this.color=Kt.color||null,this.thickness=Kt.thickness||null,this.opacity=Kt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Kt){s.AnnotationEditor.initialize(Kt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Kt,bn){switch(Kt){case n.AnnotationEditorParamsType.INK_THICKNESS:pn._defaultThickness=bn;break;case n.AnnotationEditorParamsType.INK_COLOR:pn._defaultColor=bn;break;case n.AnnotationEditorParamsType.INK_OPACITY:pn._defaultOpacity=bn/100;break}}updateParams(Kt,bn){switch(Kt){case n.AnnotationEditorParamsType.INK_THICKNESS:zt(this,yt,Fi).call(this,bn);break;case n.AnnotationEditorParamsType.INK_COLOR:zt(this,a,Oi).call(this,bn);break;case n.AnnotationEditorParamsType.INK_OPACITY:zt(this,ze,Di).call(this,bn);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,pn._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,pn._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(pn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||pn._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||pn._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??pn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(zt(this,Jt,Pr).call(this),zt(this,nn,wr).call(this)),this.isAttachedToDOM||(this.parent.add(this),zt(this,Sn,ir).call(this)),zt(this,Vt,or).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,o(this,Et).disconnect(),Zt(this,Et,null),super.remove())}setParent(Kt){!this.parent&&Kt?this._uiManager.removeShouldRescale(this):this.parent&&Kt===null&&this._uiManager.addShouldRescale(this),super.setParent(Kt)}onScaleChanging(){const[Kt,bn]=this.parentDimensions,Tn=this.width*Kt,yn=this.height*bn;this.setDimensions(Tn,yn)}enableEditMode(){o(this,et)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",o(this,mt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",o(this,mt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){o(this,et)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Zt(this,et,!0),this.div.classList.add("disabled"),zt(this,Vt,or).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Kt){this._focusEventsAllowed&&(super.focusin(Kt),this.enableEditMode())}canvasPointerdown(Kt){Kt.button!==0||!this.isInEditMode()||o(this,et)||(this.setInForeground(),Kt.preventDefault(),Kt.type!=="mouse"&&this.div.focus(),zt(this,It,Li).call(this,Kt.offsetX,Kt.offsetY))}canvasPointermove(Kt){Kt.preventDefault(),zt(this,jt,si).call(this,Kt.offsetX,Kt.offsetY)}canvasPointerup(Kt){Kt.preventDefault(),zt(this,Bt,ai).call(this,Kt)}canvasPointerleave(Kt){zt(this,Bt,ai).call(this,Kt)}get isResizable(){return!this.isEmpty()&&o(this,et)}render(){if(this.div)return this.div;let Kt,bn;this.width&&(Kt=this.x,bn=this.y),super.render(),s.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Wn=>{var fn;return(fn=this.div)==null?void 0:fn.setAttribute("aria-label",Wn)});const[Tn,yn,Rn,On]=zt(this,Ft,Mi).call(this);if(this.setAt(Tn,yn,0,0),this.setDims(Rn,On),zt(this,Jt,Pr).call(this),this.width){const[Wn,fn]=this.parentDimensions;this.setAspectRatio(this.width*Wn,this.height*fn),this.setAt(Kt*Wn,bn*fn,this.width*Wn,this.height*fn),Zt(this,At,!0),zt(this,Sn,ir).call(this),this.setDims(this.width*Wn,this.height*fn),zt(this,kt,Jn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return zt(this,nn,wr).call(this),this.div}setDimensions(Kt,bn){const Tn=Math.round(Kt),yn=Math.round(bn);if(o(this,_t)===Tn&&o(this,b)===yn)return;Zt(this,_t,Tn),Zt(this,b,yn),this.canvas.style.visibility="hidden";const[Rn,On]=this.parentDimensions;this.width=Kt/Rn,this.height=bn/On,this.fixAndSetPosition(),o(this,et)&&zt(this,vn,oi).call(this,Kt,bn),zt(this,Sn,ir).call(this),zt(this,kt,Jn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Kt,bn,Tn){var $t,Xt,rn;if(Kt instanceof p.InkAnnotationElement)return null;const yn=super.deserialize(Kt,bn,Tn);yn.thickness=Kt.thickness,yn.color=n.Util.makeHexColor(...Kt.color),yn.opacity=Kt.opacity;const[Rn,On]=yn.pageDimensions,Wn=yn.width*Rn,fn=yn.height*On,Bn=yn.parentScale,wn=Kt.thickness/2;Zt(yn,et,!0),Zt(yn,_t,Math.round(Wn)),Zt(yn,b,Math.round(fn));const{paths:Ot,rect:u,rotation:xt}=Kt;for(let{bezier:un}of Ot){un=zt($t=pn,Mn,Wi).call($t,un,u,xt);const En=[];yn.paths.push(En);let An=Bn*(un[0]-wn),$n=Bn*(un[1]-wn);for(let Pn=2,Nn=un.length;Pn<Nn;Pn+=6){const jn=Bn*(un[Pn]-wn),Un=Bn*(un[Pn+1]-wn),zn=Bn*(un[Pn+2]-wn),Xn=Bn*(un[Pn+3]-wn),qn=Bn*(un[Pn+4]-wn),Yn=Bn*(un[Pn+5]-wn);En.push([[An,$n],[jn,Un],[zn,Xn],[qn,Yn]]),An=qn,$n=Yn}const xn=zt(this,Qt,Ui).call(this,En);yn.bezierPath2D.push(xn)}const Dt=zt(Xt=yn,Ln,ci).call(Xt);return Zt(yn,E,Math.max(s.AnnotationEditor.MIN_SIZE,Dt[2]-Dt[0])),Zt(yn,N,Math.max(s.AnnotationEditor.MIN_SIZE,Dt[3]-Dt[1])),zt(rn=yn,vn,oi).call(rn,Wn,fn),yn}serialize(){if(this.isEmpty())return null;const Kt=this.getRect(0,0),bn=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:bn,thickness:this.thickness,opacity:this.opacity,paths:zt(this,In,zi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Kt),pageIndex:this.pageIndex,rect:Kt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};N=new WeakMap,E=new WeakMap,St=new WeakMap,wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,ft=new WeakMap,et=new WeakMap,dt=new WeakMap,At=new WeakMap,Et=new WeakMap,_t=new WeakMap,b=new WeakMap,pe=new WeakMap,yt=new WeakSet,Fi=function(Kt){const bn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Kt,zt(this,Vt,or).call(this)},undo:()=>{this.thickness=bn,zt(this,Vt,or).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},a=new WeakSet,Oi=function(Kt){const bn=this.color;this.addCommands({cmd:()=>{this.color=Kt,zt(this,kt,Jn).call(this)},undo:()=>{this.color=bn,zt(this,kt,Jn).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ze=new WeakSet,Di=function(Kt){Kt/=100;const bn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Kt,zt(this,kt,Jn).call(this)},undo:()=>{this.opacity=bn,zt(this,kt,Jn).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ft=new WeakSet,Mi=function(){const{parentRotation:Kt,parentDimensions:[bn,Tn]}=this;switch(Kt){case 90:return[0,Tn,Tn,bn];case 180:return[bn,Tn,bn,Tn];case 270:return[bn,0,Tn,bn];default:return[0,0,bn,Tn]}},Nt=new WeakSet,ii=function(){const{ctx:Kt,color:bn,opacity:Tn,thickness:yn,parentScale:Rn,scaleFactor:On}=this;Kt.lineWidth=yn*Rn/On,Kt.lineCap="round",Kt.lineJoin="round",Kt.miterLimit=10,Kt.strokeStyle=`${bn}${(0,Tt.opacityToHex)(Tn)}`},It=new WeakSet,Li=function(Kt,bn){this.canvas.addEventListener("contextmenu",$e.noContextMenu),this.canvas.addEventListener("pointerleave",o(this,wt)),this.canvas.addEventListener("pointermove",o(this,St)),this.canvas.addEventListener("pointerup",o(this,bt)),this.canvas.removeEventListener("pointerdown",o(this,mt)),this.isEditing=!0,o(this,At)||(Zt(this,At,!0),zt(this,Sn,ir).call(this),this.thickness||(this.thickness=pn._defaultThickness),this.color||(this.color=pn._defaultColor||s.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=pn._defaultOpacity)),this.currentPath.push([Kt,bn]),Zt(this,dt,!1),zt(this,Nt,ii).call(this),Zt(this,pe,()=>{zt(this,h,$i).call(this),o(this,pe)&&window.requestAnimationFrame(o(this,pe))}),window.requestAnimationFrame(o(this,pe))},jt=new WeakSet,si=function(Kt,bn){const[Tn,yn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Kt===Tn&&bn===yn)return;const Rn=this.currentPath;let On=o(this,ft);if(Rn.push([Kt,bn]),Zt(this,dt,!0),Rn.length<=2){On.moveTo(...Rn[0]),On.lineTo(Kt,bn);return}Rn.length===3&&(Zt(this,ft,On=new Path2D),On.moveTo(...Rn[0])),zt(this,Le,ji).call(this,On,...Rn.at(-3),...Rn.at(-2),Kt,bn)},cn=new WeakSet,Ii=function(){if(this.currentPath.length===0)return;const Kt=this.currentPath.at(-1);o(this,ft).lineTo(...Kt)},Pt=new WeakSet,Ni=function(Kt,bn){Zt(this,pe,null),Kt=Math.min(Math.max(Kt,0),this.canvas.width),bn=Math.min(Math.max(bn,0),this.canvas.height),zt(this,jt,si).call(this,Kt,bn),zt(this,cn,Ii).call(this);let Tn;if(this.currentPath.length!==1)Tn=zt(this,gt,Bi).call(this);else{const fn=[Kt,bn];Tn=[[fn,fn.slice(),fn.slice(),fn]]}const yn=o(this,ft),Rn=this.currentPath;this.currentPath=[],Zt(this,ft,new Path2D);const On=()=>{this.allRawPaths.push(Rn),this.paths.push(Tn),this.bezierPath2D.push(yn),this.rebuild()},Wn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(zt(this,Jt,Pr).call(this),zt(this,nn,wr).call(this)),zt(this,Vt,or).call(this))};this.addCommands({cmd:On,undo:Wn,mustExec:!0})},h=new WeakSet,$i=function(){if(!o(this,dt))return;Zt(this,dt,!1);const Kt=Math.ceil(this.thickness*this.parentScale),bn=this.currentPath.slice(-3),Tn=bn.map(On=>On[0]),yn=bn.map(On=>On[1]);Math.min(...Tn)-Kt,Math.max(...Tn)+Kt,Math.min(...yn)-Kt,Math.max(...yn)+Kt;const{ctx:Rn}=this;Rn.save(),Rn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const On of this.bezierPath2D)Rn.stroke(On);Rn.stroke(o(this,ft)),Rn.restore()},Le=new WeakSet,ji=function(Kt,bn,Tn,yn,Rn,On,Wn){const fn=(bn+yn)/2,Bn=(Tn+Rn)/2,wn=(yn+On)/2,Ot=(Rn+Wn)/2;Kt.bezierCurveTo(fn+2*(yn-fn)/3,Bn+2*(Rn-Bn)/3,wn+2*(yn-wn)/3,Ot+2*(Rn-Ot)/3,wn,Ot)},gt=new WeakSet,Bi=function(){const Kt=this.currentPath;if(Kt.length<=2)return[[Kt[0],Kt[0],Kt.at(-1),Kt.at(-1)]];const bn=[];let Tn,[yn,Rn]=Kt[0];for(Tn=1;Tn<Kt.length-2;Tn++){const[u,xt]=Kt[Tn],[Dt,$t]=Kt[Tn+1],Xt=(u+Dt)/2,rn=(xt+$t)/2,un=[yn+2*(u-yn)/3,Rn+2*(xt-Rn)/3],En=[Xt+2*(u-Xt)/3,rn+2*(xt-rn)/3];bn.push([[yn,Rn],un,En,[Xt,rn]]),[yn,Rn]=[Xt,rn]}const[On,Wn]=Kt[Tn],[fn,Bn]=Kt[Tn+1],wn=[yn+2*(On-yn)/3,Rn+2*(Wn-Rn)/3],Ot=[fn+2*(On-fn)/3,Bn+2*(Wn-Bn)/3];return bn.push([[yn,Rn],wn,Ot,[fn,Bn]]),bn},kt=new WeakSet,Jn=function(){if(this.isEmpty()){zt(this,Wt,Tr).call(this);return}zt(this,Nt,ii).call(this);const{canvas:Kt,ctx:bn}=this;bn.setTransform(1,0,0,1,0,0),bn.clearRect(0,0,Kt.width,Kt.height),zt(this,Wt,Tr).call(this);for(const Tn of this.bezierPath2D)bn.stroke(Tn)},Bt=new WeakSet,ai=function(Kt){this.canvas.removeEventListener("pointerleave",o(this,wt)),this.canvas.removeEventListener("pointermove",o(this,St)),this.canvas.removeEventListener("pointerup",o(this,bt)),this.canvas.addEventListener("pointerdown",o(this,mt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",$e.noContextMenu)},10),zt(this,Pt,Ni).call(this,Kt.offsetX,Kt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Jt=new WeakSet,Pr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Kt=>{var bn;return(bn=this.canvas)==null?void 0:bn.setAttribute("aria-label",Kt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},nn=new WeakSet,wr=function(){Zt(this,Et,new ResizeObserver(Kt=>{const bn=Kt[0].contentRect;bn.width&&bn.height&&this.setDimensions(bn.width,bn.height)})),o(this,Et).observe(this.div)},Sn=new WeakSet,ir=function(){if(!o(this,At))return;const[Kt,bn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Kt),this.canvas.height=Math.ceil(this.height*bn),zt(this,Wt,Tr).call(this)},vn=new WeakSet,oi=function(Kt,bn){const Tn=zt(this,on,Cr).call(this),yn=(Kt-Tn)/o(this,E),Rn=(bn-Tn)/o(this,N);this.scaleFactor=Math.min(yn,Rn)},Wt=new WeakSet,Tr=function(){const Kt=zt(this,on,Cr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Kt,this.translationY*this.scaleFactor+Kt)},Qt=new WeakSet,Ui=function(Kt){const bn=new Path2D;for(let Tn=0,yn=Kt.length;Tn<yn;Tn++){const[Rn,On,Wn,fn]=Kt[Tn];Tn===0&&bn.moveTo(...Rn),bn.bezierCurveTo(On[0],On[1],Wn[0],Wn[1],fn[0],fn[1])}return bn},gn=new WeakSet,li=function(Kt,bn,Tn){const[yn,Rn,On,Wn]=bn;switch(Tn){case 0:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2)Kt[fn]+=yn,Kt[fn+1]=Wn-Kt[fn+1];break;case 90:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2){const wn=Kt[fn];Kt[fn]=Kt[fn+1]+yn,Kt[fn+1]=wn+Rn}break;case 180:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2)Kt[fn]=On-Kt[fn],Kt[fn+1]+=Rn;break;case 270:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2){const wn=Kt[fn];Kt[fn]=On-Kt[fn+1],Kt[fn+1]=Wn-wn}break;default:throw new Error("Invalid rotation")}return Kt},Mn=new WeakSet,Wi=function(Kt,bn,Tn){const[yn,Rn,On,Wn]=bn;switch(Tn){case 0:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2)Kt[fn]-=yn,Kt[fn+1]=Wn-Kt[fn+1];break;case 90:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2){const wn=Kt[fn];Kt[fn]=Kt[fn+1]-Rn,Kt[fn+1]=wn-yn}break;case 180:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2)Kt[fn]=On-Kt[fn],Kt[fn+1]-=Rn;break;case 270:for(let fn=0,Bn=Kt.length;fn<Bn;fn+=2){const wn=Kt[fn];Kt[fn]=Wn-Kt[fn+1],Kt[fn+1]=On-wn}break;default:throw new Error("Invalid rotation")}return Kt},In=new WeakSet,zi=function(Kt,bn,Tn,yn){var Bn,wn;const Rn=[],On=this.thickness/2,Wn=Kt*bn+On,fn=Kt*Tn+On;for(const Ot of this.paths){const u=[],xt=[];for(let Dt=0,$t=Ot.length;Dt<$t;Dt++){const[Xt,rn,un,En]=Ot[Dt],An=Kt*Xt[0]+Wn,$n=Kt*Xt[1]+fn,xn=Kt*rn[0]+Wn,Pn=Kt*rn[1]+fn,Nn=Kt*un[0]+Wn,jn=Kt*un[1]+fn,Un=Kt*En[0]+Wn,zn=Kt*En[1]+fn;Dt===0&&(u.push(An,$n),xt.push(An,$n)),u.push(xn,Pn,Nn,jn,Un,zn),xt.push(xn,Pn),Dt===$t-1&&xt.push(Un,zn)}Rn.push({bezier:zt(Bn=pn,gn,li).call(Bn,u,yn,this.rotation),points:zt(wn=pn,gn,li).call(wn,xt,yn,this.rotation)})}return Rn},Ln=new WeakSet,ci=function(){let Kt=1/0,bn=-1/0,Tn=1/0,yn=-1/0;for(const Rn of this.paths)for(const[On,Wn,fn,Bn]of Rn){const wn=n.Util.bezierBoundingBox(...On,...Wn,...fn,...Bn);Kt=Math.min(Kt,wn[0]),Tn=Math.min(Tn,wn[1]),bn=Math.max(bn,wn[2]),yn=Math.max(yn,wn[3])}return[Kt,Tn,bn,yn]},on=new WeakSet,Cr=function(){return o(this,et)?Math.ceil(this.thickness*this.parentScale):0},Vt=new WeakSet,or=function(Kt=!1){if(this.isEmpty())return;if(!o(this,et)){zt(this,kt,Jn).call(this);return}const bn=zt(this,Ln,ci).call(this),Tn=zt(this,on,Cr).call(this);Zt(this,E,Math.max(s.AnnotationEditor.MIN_SIZE,bn[2]-bn[0])),Zt(this,N,Math.max(s.AnnotationEditor.MIN_SIZE,bn[3]-bn[1]));const yn=Math.ceil(Tn+o(this,E)*this.scaleFactor),Rn=Math.ceil(Tn+o(this,N)*this.scaleFactor),[On,Wn]=this.parentDimensions;this.width=yn/On,this.height=Rn/Wn,this.setAspectRatio(yn,Rn);const fn=this.translationX,Bn=this.translationY;this.translationX=-bn[0],this.translationY=-bn[1],zt(this,Sn,ir).call(this),zt(this,kt,Jn).call(this),Zt(this,_t,yn),Zt(this,b,Rn),this.setDims(yn,Rn);const wn=Kt?Tn/this.scaleFactor/2:0;this.translate(fn-this.translationX-wn,Bn-this.translationY-wn)},Lt(pn,Qt),Lt(pn,gn),Lt(pn,Mn),Vn(pn,"_defaultColor",null),Vn(pn,"_defaultOpacity",1),Vn(pn,"_defaultThickness",1),Vn(pn,"_type","ink");let P=pn;e.InkEditor=P},(t,e,i)=>{var P,N,E,St,wt,bt,mt,ft,et,dt,At,gr,_t,mr,pe,Rr,d,ui,ot,Hi,Rt,Gi,vt,di,Ht,kr,Mt,Vi;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=i(1),s=i(4),p=i(6),$e=i(29);const ln=class ln extends s.AnnotationEditor{constructor(Pt){super({...Pt,name:"stampEditor"});Lt(this,At);Lt(this,_t);Lt(this,pe);Lt(this,d);Lt(this,ot);Lt(this,Rt);Lt(this,vt);Lt(this,Ht);Lt(this,Mt);Lt(this,P,null);Lt(this,N,null);Lt(this,E,null);Lt(this,St,null);Lt(this,wt,null);Lt(this,bt,null);Lt(this,mt,null);Lt(this,ft,null);Lt(this,et,!1);Lt(this,dt,!1);Zt(this,St,Pt.bitmapUrl),Zt(this,wt,Pt.bitmapFile)}static initialize(Pt){s.AnnotationEditor.initialize(Pt)}static get supportedTypes(){const Pt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",Pt.map(l=>`image/${l}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Pt){return this.supportedTypes.includes(Pt)}static paste(Pt,l){l.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:Pt.getAsFile()})}remove(){var Pt,l;o(this,N)&&(Zt(this,P,null),this._uiManager.imageManager.deleteId(o(this,N)),(Pt=o(this,bt))==null||Pt.remove(),Zt(this,bt,null),(l=o(this,mt))==null||l.disconnect(),Zt(this,mt,null)),super.remove()}rebuild(){if(!this.parent){o(this,N)&&zt(this,pe,Rr).call(this);return}super.rebuild(),this.div!==null&&(o(this,N)&&zt(this,pe,Rr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(o(this,E)||o(this,P)||o(this,St)||o(this,wt))}get isResizable(){return!0}render(){if(this.div)return this.div;let Pt,l;if(this.width&&(Pt=this.x,l=this.y),super.render(),this.div.hidden=!0,o(this,P)?zt(this,d,ui).call(this):zt(this,pe,Rr).call(this),this.width){const[h,c]=this.parentDimensions;this.setAt(Pt*h,l*c,this.width*h,this.height*c)}return this.div}static deserialize(Pt,l,h){if(Pt instanceof $e.StampAnnotationElement)return null;const c=super.deserialize(Pt,l,h),{rect:Le,bitmapUrl:Qe,bitmapId:gt,isSvg:Ct,accessibilityData:kt}=Pt;gt&&h.imageManager.isValidId(gt)?Zt(c,N,gt):Zt(c,St,Qe),Zt(c,et,Ct);const[Ut,Bt]=c.pageDimensions;return c.width=(Le[2]-Le[0])/Ut,c.height=(Le[3]-Le[1])/Bt,kt&&(c.altTextData=kt),c}serialize(Pt=!1,l=null){if(this.isEmpty())return null;const h={annotationType:n.AnnotationEditorType.STAMP,bitmapId:o(this,N),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:o(this,et),structTreeParentId:this._structTreeParentId};if(Pt)return h.bitmapUrl=zt(this,Ht,kr).call(this,!0),h.accessibilityData=this.altTextData,h;const{decorative:c,altText:Le}=this.altTextData;if(!c&&Le&&(h.accessibilityData={type:"Figure",alt:Le}),l===null)return h;l.stamps||(l.stamps=new Map);const Qe=o(this,et)?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!l.stamps.has(o(this,N)))l.stamps.set(o(this,N),{area:Qe,serialized:h}),h.bitmap=zt(this,Ht,kr).call(this,!1);else if(o(this,et)){const gt=l.stamps.get(o(this,N));Qe>gt.area&&(gt.area=Qe,gt.serialized.bitmap.close(),gt.serialized.bitmap=zt(this,Ht,kr).call(this,!1))}return h}};P=new WeakMap,N=new WeakMap,E=new WeakMap,St=new WeakMap,wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,ft=new WeakMap,et=new WeakMap,dt=new WeakMap,At=new WeakSet,gr=function(Pt,l=!1){if(!Pt){this.remove();return}Zt(this,P,Pt.bitmap),l||(Zt(this,N,Pt.id),Zt(this,et,Pt.isSvg)),zt(this,d,ui).call(this)},_t=new WeakSet,mr=function(){Zt(this,E,null),this._uiManager.enableWaiting(!1),o(this,bt)&&this.div.focus()},pe=new WeakSet,Rr=function(){if(o(this,N)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,N)).then(l=>zt(this,At,gr).call(this,l,!0)).finally(()=>zt(this,_t,mr).call(this));return}if(o(this,St)){const l=o(this,St);Zt(this,St,null),this._uiManager.enableWaiting(!0),Zt(this,E,this._uiManager.imageManager.getFromUrl(l).then(h=>zt(this,At,gr).call(this,h)).finally(()=>zt(this,_t,mr).call(this)));return}if(o(this,wt)){const l=o(this,wt);Zt(this,wt,null),this._uiManager.enableWaiting(!0),Zt(this,E,this._uiManager.imageManager.getFromFile(l).then(h=>zt(this,At,gr).call(this,h)).finally(()=>zt(this,_t,mr).call(this)));return}const Pt=document.createElement("input");Pt.type="file",Pt.accept=ln.supportedTypesStr,Zt(this,E,new Promise(l=>{Pt.addEventListener("change",async()=>{if(!Pt.files||Pt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(Pt.files[0]);zt(this,At,gr).call(this,h)}l()}),Pt.addEventListener("cancel",()=>{this.remove(),l()})}).finally(()=>zt(this,_t,mr).call(this))),Pt.click()},d=new WeakSet,ui=function(){const{div:Pt}=this;let{width:l,height:h}=o(this,P);const[c,Le]=this.pageDimensions,Qe=.75;if(this.width)l=this.width*c,h=this.height*Le;else if(l>Qe*c||h>Qe*Le){const Ut=Math.min(Qe*c/l,Qe*Le/h);l*=Ut,h*=Ut}const[gt,Ct]=this.parentDimensions;this.setDims(l*gt/c,h*Ct/Le),this._uiManager.enableWaiting(!1);const kt=Zt(this,bt,document.createElement("canvas"));Pt.append(kt),Pt.hidden=!1,zt(this,vt,di).call(this,l,h),zt(this,Mt,Vi).call(this),o(this,dt)||(this.parent.addUndoableEditor(this),Zt(this,dt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},ot=new WeakSet,Hi=function(Pt,l){var Qe;const[h,c]=this.parentDimensions;this.width=Pt/h,this.height=l/c,this.setDims(Pt,l),(Qe=this._initialOptions)!=null&&Qe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,o(this,ft)!==null&&clearTimeout(o(this,ft)),Zt(this,ft,setTimeout(()=>{Zt(this,ft,null),zt(this,vt,di).call(this,Pt,l)},200))},Rt=new WeakSet,Gi=function(Pt,l){const{width:h,height:c}=o(this,P);let Le=h,Qe=c,gt=o(this,P);for(;Le>2*Pt||Qe>2*l;){const Ct=Le,kt=Qe;Le>2*Pt&&(Le=Le>=16384?Math.floor(Le/2)-1:Math.ceil(Le/2)),Qe>2*l&&(Qe=Qe>=16384?Math.floor(Qe/2)-1:Math.ceil(Qe/2));const Ut=new OffscreenCanvas(Le,Qe);Ut.getContext("2d").drawImage(gt,0,0,Ct,kt,0,0,Le,Qe),gt=Ut.transferToImageBitmap()}return gt},vt=new WeakSet,di=function(Pt,l){Pt=Math.ceil(Pt),l=Math.ceil(l);const h=o(this,bt);if(!h||h.width===Pt&&h.height===l)return;h.width=Pt,h.height=l;const c=o(this,et)?o(this,P):zt(this,Rt,Gi).call(this,Pt,l),Le=h.getContext("2d");Le.filter=this._uiManager.hcmFilter,Le.drawImage(c,0,0,c.width,c.height,0,0,Pt,l)},Ht=new WeakSet,kr=function(Pt){if(Pt){if(o(this,et)){const c=this._uiManager.imageManager.getSvgUrl(o(this,N));if(c)return c}const l=document.createElement("canvas");return{width:l.width,height:l.height}=o(this,P),l.getContext("2d").drawImage(o(this,P),0,0),l.toDataURL()}if(o(this,et)){const[l,h]=this.pageDimensions,c=Math.round(this.width*l*p.PixelsPerInch.PDF_TO_CSS_UNITS),Le=Math.round(this.height*h*p.PixelsPerInch.PDF_TO_CSS_UNITS),Qe=new OffscreenCanvas(c,Le);return Qe.getContext("2d").drawImage(o(this,P),0,0,o(this,P).width,o(this,P).height,0,0,c,Le),Qe.transferToImageBitmap()}return structuredClone(o(this,P))},Mt=new WeakSet,Vi=function(){Zt(this,mt,new ResizeObserver(Pt=>{const l=Pt[0].contentRect;l.width&&l.height&&zt(this,ot,Hi).call(this,l.width,l.height)})),o(this,mt).observe(this.div)},Vn(ln,"_type","stamp");let Tt=ln;e.StampEditor=Tt}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return p.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $e.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return Tt.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return P.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return N.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}});var e=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),p=__w_pdfjs_require__(27),$e=__w_pdfjs_require__(5),Tt=__w_pdfjs_require__(29),P=__w_pdfjs_require__(14),N=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function t(n,s,p,$e,Tt,P){if(P!==ReactPropTypesSecret){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,p;n<s;n++)(p||!(n in e))&&(p||(p=Array.prototype.slice.call(e,0,n)),p[n]=e[n]);return t.concat(p||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(t,e){var i={};return allEvents.forEach(function(n){var s=t[n];s&&(e?i[n]=function(p){return s(p,e(n))}:i[n]=s)}),i}function makeCancellablePromise(t){var e=!1,i=new Promise(function(n,s){t.then(function(p){return!e&&n(p)}).catch(function(p){return!e&&s(p)})});return{promise:i,cancel:function(){e=!0}}}function r(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(i=r(t[e]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}function clsx(){for(var t,e,i=0,n="",s=arguments.length;i<s;i++)(t=arguments[i])&&(e=r(t))&&(n&&(n+=" "),n+=e);return n}var isProduction=!0,prefix="Invariant failed";function invariant(t,e){if(!t){if(isProduction)throw new Error(prefix);var i=typeof e=="function"?e():e,n=i?"".concat(prefix,": ").concat(i):prefix;throw new Error(n)}}function warning(t,e){}const DocumentContext=reactExports.createContext(null);function Message({children:t,type:e}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${e}`},t)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{invariant(Array.isArray(i),`"${i}" is not a valid destination array.`);const n=i[0];new Promise(s=>{invariant(this.pdfDocument,"PDF document not loaded."),n instanceof Object?this.pdfDocument.getPageIndex(n).then(p=>{s(p)}).catch(()=>{invariant(!1,`"${n}" is not a valid page reference.`)}):typeof n=="number"?s(n):invariant(!1,`"${n}" is not a valid destination reference.`)}).then(s=>{const p=s+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(p>=1&&p<=this.pagesCount,`"${p}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:s,pageNumber:p})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,n){e.href=i,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(t){return typeof t<"u"}function isProvided(t){return isDefined(t)&&t!==null}function isString(t){return typeof t=="string"}function isArrayBuffer(t){return t instanceof ArrayBuffer}function isBlob(t){return invariant(isBrowser,"isBlob can only be used in a browser environment"),t instanceof Blob}function isDataURI(t){return isString(t)&&/^data:/.test(t)}function dataURItoByteString(t){invariant(isDataURI(t),"Invalid data URI.");const[e="",i=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}function displayCORSWarning(){}function cancelRunningTask(t){t&&t.cancel&&t.cancel()}function makePageCallback(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function isCancelException(t){return t.name==="RenderingCancelledException"}function loadFromFile(t){return new Promise((e,i)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return i(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return i(new Error("Error while reading a file."));const{error:p}=s.target;if(!p)return i(new Error("Error while reading a file."));switch(p.code){case p.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case p.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case p.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},n.readAsArrayBuffer(t)})}function reducer$1(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const t={};return allEvents.forEach(e=>{t[e]=PropTypes.func}),t})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function t(e,i,n){const{[i]:s,pageNumber:p,pdf:$e}=e;if(!isDefined($e))return null;if(isDefined(s)){if(typeof s!="number")return new Error(`\`${i}\` of type \`${typeof s}\` supplied to \`${n}\`, expected \`number\`.`);if(s<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:Tt}=$e;if(s+1>Tt)return new Error(`Expected \`${i}\` to be less or equal to ${Tt-1}.`)}else if(!isDefined(p))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},isPageNumber=function t(e,i,n){const{[i]:s,pageIndex:p,pdf:$e}=e;if(!isDefined($e))return null;if(isDefined(s)){if(typeof s!="number")return new Error(`\`${i}\` of type \`${typeof s}\` supplied to \`${n}\`, expected \`number\`.`);if(s<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:Tt}=$e;if(s>Tt)return new Error(`Expected \`${i}\` to be less or equal to ${Tt}.`)}else if(!isDefined(p))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(t,e,i,n){function s(p){return p instanceof i?p:new i(function($e){$e(p)})}return new(i||(i=Promise))(function(p,$e){function Tt(E){try{N(n.next(E))}catch(St){$e(St)}}function P(E){try{N(n.throw(E))}catch(St){$e(St)}}function N(E){E.done?p(E.value):s(E.value).then(Tt,P)}N((n=n.apply(t,e||[])).next())})},__rest$1=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(t,e)=>{switch(e){case PasswordResponses.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");t(i);break}case PasswordResponses.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");t(i);break}}},Document=reactExports.forwardRef(function t(e,i){var{children:n,className:s,error:p="Failed to load PDF file.",externalLinkRel:$e,externalLinkTarget:Tt,file:P,inputRef:N,imageResourcesPath:E,loading:St="Loading PDF…",noData:wt="No PDF file specified.",onItemClick:bt,onLoadError:mt,onLoadProgress:ft,onLoadSuccess:et,onPassword:dt=defaultOnPassword,onSourceError:At,onSourceSuccess:Et,options:_t,renderMode:b,rotate:pe}=e,yt=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[d,a]=useResolver(),{value:ot,error:ze}=d,[Rt,Ft]=useResolver(),{value:vt,error:Nt}=Rt,Ht=reactExports.useRef(new LinkService),It=reactExports.useRef([]),Mt=reactExports.useRef({scrollPageIntoView:Gt=>{const{dest:Jt,pageNumber:sn,pageIndex:nn=sn-1}=Gt;if(bt){bt({dest:Jt,pageIndex:nn,pageNumber:sn});return}const _n=It.current[nn];if(_n){_n.scrollIntoView();return}}});reactExports.useImperativeHandle(i,()=>({linkService:Ht,pages:It,viewer:Mt}),[]);function jt(){Et&&Et()}function ln(){ze&&(ze.toString(),At&&At(ze))}function cn(){a({type:"RESET"})}reactExports.useEffect(cn,[P,a]);const tn=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!P)return null;if(typeof P=="string")return isDataURI(P)?{data:dataURItoByteString(P)}:(displayCORSWarning(),{url:P});if(P instanceof PDFDataRangeTransport)return{range:P};if(isArrayBuffer(P))return{data:P};if(isBrowser&&isBlob(P))return{data:yield loadFromFile(P)};if(invariant(typeof P=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant("data"in P||"range"in P||"url"in P,"Invalid parameter object: need either .data, .range or .url"),"url"in P&&typeof P.url=="string"){if(isDataURI(P.url)){const{url:Gt}=P,Jt=__rest$1(P,["url"]),sn=dataURItoByteString(Gt);return Object.assign({data:sn},Jt)}displayCORSWarning()}return P}),[P]);reactExports.useEffect(()=>{const Gt=makeCancellablePromise(tn());return Gt.promise.then(Jt=>{a({type:"RESOLVE",value:Jt})}).catch(Jt=>{a({type:"REJECT",error:Jt})}),()=>{cancelRunningTask(Gt)}},[tn,a]),reactExports.useEffect(()=>{if(!(typeof ot>"u")){if(ot===!1){ln();return}jt()}},[ot]);function Pt(){vt&&(et&&et(vt),It.current=new Array(vt.numPages),Ht.current.setDocument(vt))}function l(){Nt&&(Nt.toString(),mt&&mt(Nt))}function h(){Ft({type:"RESET"})}reactExports.useEffect(h,[Ft,ot]);function c(){if(!ot)return;const Gt=_t?Object.assign(Object.assign({},ot),_t):ot,Jt=pdfjs.getDocument(Gt);ft&&(Jt.onProgress=ft),dt&&(Jt.onPassword=dt);const sn=Jt;return sn.promise.then(nn=>{Ft({type:"RESOLVE",value:nn})}).catch(nn=>{sn.destroyed||Ft({type:"REJECT",error:nn})}),()=>{sn.destroy()}}reactExports.useEffect(c,[_t,Ft,ot]),reactExports.useEffect(()=>{if(!(typeof vt>"u")){if(vt===!1){l();return}Pt()}},[vt]);function Le(){Ht.current.setViewer(Mt.current),Ht.current.setExternalLinkRel($e),Ht.current.setExternalLinkTarget(Tt)}reactExports.useEffect(Le,[$e,Tt]);function Qe(Gt,Jt){It.current[Gt]=Jt}function gt(Gt){delete It.current[Gt]}const Ct=reactExports.useMemo(()=>({imageResourcesPath:E,linkService:Ht.current,onItemClick:bt,pdf:vt,registerPage:Qe,renderMode:b,rotate:pe,unregisterPage:gt}),[E,bt,vt,b,pe]),kt=reactExports.useMemo(()=>makeEventProps(yt,()=>vt),[yt,vt]);function Ut(){return React.createElement(DocumentContext.Provider,{value:Ct},n)}function Bt(){return P?vt==null?React.createElement(Message,{type:"loading"},typeof St=="function"?St():St):vt===!1?React.createElement(Message,{type:"error"},typeof p=="function"?p():p):Ut():React.createElement(Message,{type:"no-data"},typeof wt=="function"?wt():wt)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",s),ref:N,style:{"--scale-factor":"1"}},kt),Bt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.filter(Boolean);if(i.length<=1){var n=i[0];return n||null}return function(p){i.forEach(function($e){typeof $e=="function"?$e(p):$e&&($e.current=p)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(t){return t in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(t){return"children"in t}function isStructTreeNodeWithOnlyContentChild(t){return isStructTreeNode(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function getRoleAttributes(t){const e={};if(isStructTreeNode(t)){const{role:i}=t,n=i.match(HEADING_PATTERN);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(isPdfRole(i)){const s=PDF_ROLE_TO_HTML_ROLE[i];s&&(e.role=s)}}return e}function getBaseAttributes(t){const e={};if(isStructTreeNode(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),isStructTreeNodeWithOnlyContentChild(t)){const[i]=t.children;if(i){const n=getBaseAttributes(i);return Object.assign(Object.assign({},e),n)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function getAttributes(t){return t?Object.assign(Object.assign({},getRoleAttributes(t)),getBaseAttributes(t)):null}function StructTreeItem({className:t,node:e}){const i=reactExports.useMemo(()=>getAttributes(e),[e]),n=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((s,p)=>React.createElement(StructTreeItem,{key:p,node:s})),[e]);return React.createElement("span",Object.assign({className:t},i),n)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=t,[n,s]=useResolver(),{value:p,error:$e}=n,{customTextRenderer:Tt,page:P}=t;function N(){p&&i&&i(p)}function E(){$e&&($e.toString(),e&&e($e))}function St(){s({type:"RESET"})}reactExports.useEffect(St,[s,P]);function wt(){if(Tt||!P)return;const bt=makeCancellablePromise(P.getStructTree()),mt=bt;return bt.promise.then(ft=>{s({type:"RESOLVE",value:ft})}).catch(ft=>{s({type:"REJECT",error:ft})}),()=>cancelRunningTask(mt)}return reactExports.useEffect(wt,[Tt,P,s]),reactExports.useEffect(()=>{if(p!==void 0){if(p===!1){E();return}N()}},[p]),p?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:p}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(t){const e=usePageContext();invariant(e,"Unable to find Page context.");const i=Object.assign(Object.assign({},e),t),{_className:n,canvasBackground:s,devicePixelRatio:p=getDevicePixelRatio(),onRenderError:$e,onRenderSuccess:Tt,page:P,renderForms:N,renderTextLayer:E,rotate:St,scale:wt}=i,{canvasRef:bt}=t;invariant(P,"Attempted to render page canvas, but no page was specified.");const mt=reactExports.useRef(null);function ft(){P&&Tt&&Tt(makePageCallback(P,wt))}function et(b){isCancelException(b)||(b.toString(),$e&&$e(b))}const dt=reactExports.useMemo(()=>P.getViewport({scale:wt*p,rotation:St}),[p,P,St,wt]),At=reactExports.useMemo(()=>P.getViewport({scale:wt,rotation:St}),[P,St,wt]);function Et(){if(!P)return;P.cleanup();const{current:b}=mt;if(!b)return;b.width=dt.width,b.height=dt.height,b.style.width=`${Math.floor(At.width)}px`,b.style.height=`${Math.floor(At.height)}px`,b.style.visibility="hidden";const pe={annotationMode:N?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:b.getContext("2d",{alpha:!1}),viewport:dt};s&&(pe.background=s);const yt=P.render(pe),d=yt;return yt.promise.then(()=>{b.style.visibility="",ft()}).catch(et),()=>cancelRunningTask(d)}reactExports.useEffect(Et,[s,mt,p,P,N,dt,At]);const _t=reactExports.useCallback(()=>{const{current:b}=mt;b&&(b.width=0,b.height=0)},[mt]);return reactExports.useEffect(()=>_t,[_t]),React.createElement("canvas",{className:`${n}__canvas`,dir:"ltr",ref:mergeRefs(bt,mt),style:{display:"block",userSelect:"none"}},E?React.createElement(StructTree,null):null)}function PageSVG(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{_className:e,onRenderSuccess:i,onRenderError:n,page:s,rotate:p,scale:$e}=t;invariant(s,"Attempted to render page SVG, but no page was specified.");const[Tt,P]=useResolver(),{value:N,error:E}=Tt;function St(){s&&i&&i(makePageCallback(s,$e))}function wt(){E&&(isCancelException(E)||(E.toString(),n&&n(E)))}const bt=reactExports.useMemo(()=>s.getViewport({scale:$e,rotation:p}),[s,p,$e]);function mt(){P({type:"RESET"})}reactExports.useEffect(mt,[s,P,bt]);function ft(){if(!s)return;const Et=makeCancellablePromise(s.getOperatorList());return Et.promise.then(_t=>{new pdfjs.SVGGraphics(s.commonObjs,s.objs).getSVG(_t,bt).then(pe=>{if(!(pe instanceof SVGElement))throw new Error("getSVG returned unexpected result.");P({type:"RESOLVE",value:pe})}).catch(pe=>{P({type:"REJECT",error:pe})})}).catch(_t=>{P({type:"REJECT",error:_t})}),()=>cancelRunningTask(Et)}reactExports.useEffect(ft,[s,P,bt]),reactExports.useEffect(()=>{if(N!==void 0){if(N===!1){wt();return}St()}},[N]);function et(Et){if(!Et||!N)return;Et.firstElementChild||Et.appendChild(N);const{width:_t,height:b}=bt;N.setAttribute("width",`${_t}`),N.setAttribute("height",`${b}`)}const{width:dt,height:At}=bt;return React.createElement("div",{className:`${e}__svg`,ref:Et=>et(Et),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:dt,height:At,userSelect:"none"}})}function isTextItem(t){return"str"in t}function TextLayer(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:p,page:$e,pageIndex:Tt,pageNumber:P,rotate:N,scale:E}=t;invariant($e,"Attempted to load page text content, but no page was specified.");const[St,wt]=useResolver(),{value:bt,error:mt}=St,ft=reactExports.useRef(null),et=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function dt(){bt&&n&&n(bt)}function At(){mt&&(mt.toString(),i&&i(mt))}function Et(){wt({type:"RESET"})}reactExports.useEffect(Et,[$e,wt]);function _t(){if(!$e)return;const ze=makeCancellablePromise($e.getTextContent()),Rt=ze;return ze.promise.then(Ft=>{wt({type:"RESOLVE",value:Ft})}).catch(Ft=>{wt({type:"REJECT",error:Ft})}),()=>cancelRunningTask(Rt)}reactExports.useEffect(_t,[$e,wt]),reactExports.useEffect(()=>{if(bt!==void 0){if(bt===!1){At();return}dt()}},[bt]);const b=reactExports.useCallback(()=>{p&&p()},[p]),pe=reactExports.useCallback(ze=>{ze.toString(),s&&s(ze)},[s]);function yt(){const ze=et.current;ze&&ze.classList.add("active")}function d(){const ze=et.current;ze&&ze.classList.remove("active")}const a=reactExports.useMemo(()=>$e.getViewport({scale:E,rotation:N}),[$e,N,E]);function ot(){if(!$e||!bt)return;const{current:ze}=ft;if(!ze)return;ze.innerHTML="";const Rt=$e.streamTextContent({includeMarkedContent:!0}),Ft={container:ze,textContentSource:Rt,viewport:a},vt=pdfjs.renderTextLayer(Ft),Nt=vt;return vt.promise.then(()=>{const Ht=document.createElement("div");Ht.className="endOfContent",ze.append(Ht),et.current=Ht;const It=ze.querySelectorAll('[role="presentation"]');if(e){let Mt=0;bt.items.forEach((jt,ln)=>{if(!isTextItem(jt))return;const cn=It[Mt];if(!cn)return;const tn=e(Object.assign({pageIndex:Tt,pageNumber:P,itemIndex:ln},jt));cn.innerHTML=tn,Mt+=jt.str&&jt.hasEOL?2:1})}b()}).catch(pe),()=>cancelRunningTask(Nt)}return reactExports.useLayoutEffect(ot,[e,pe,b,$e,Tt,P,bt,a]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:d,onMouseDown:yt,ref:ft})}function AnnotationLayer(){const t=useDocumentContext();invariant(t,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const e=usePageContext();invariant(e,"Unable to find Page context.");const i=Object.assign(Object.assign({},t),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:p,onGetAnnotationsSuccess:$e,onRenderAnnotationLayerError:Tt,onRenderAnnotationLayerSuccess:P,page:N,pdf:E,renderForms:St,rotate:wt,scale:bt=1}=i;invariant(N,"Attempted to load page annotations, but no page was specified.");const[mt,ft]=useResolver(),{value:et,error:dt}=mt,At=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function Et(){et&&$e&&$e(et)}function _t(){dt&&(dt.toString(),p&&p(dt))}function b(){ft({type:"RESET"})}reactExports.useEffect(b,[ft,N]);function pe(){if(!N)return;const ze=makeCancellablePromise(N.getAnnotations()),Rt=ze;return ze.promise.then(Ft=>{ft({type:"RESOLVE",value:Ft})}).catch(Ft=>{ft({type:"REJECT",error:Ft})}),()=>{cancelRunningTask(Rt)}}reactExports.useEffect(pe,[ft,N,St]),reactExports.useEffect(()=>{if(et!==void 0){if(et===!1){_t();return}Et()}},[et]);function yt(){P&&P()}function d(ze){Tt&&Tt(ze)}const a=reactExports.useMemo(()=>N.getViewport({scale:bt,rotation:wt}),[N,wt,bt]);function ot(){if(!E||!N||!et)return;const{current:ze}=At;if(!ze)return;const Rt=a.clone({dontFlip:!0}),Ft={accessibilityManager:null,annotationCanvasMap:null,div:ze,l10n:null,page:N,viewport:Rt},vt={annotations:et,annotationStorage:E.annotationStorage,div:ze,downloadManager:null,imageResourcesPath:n,linkService:s,page:N,renderForms:St,viewport:Rt};ze.innerHTML="";try{new pdfjs.AnnotationLayer(Ft).render(vt),yt()}catch(Nt){d(Nt)}return()=>{}}return reactExports.useEffect(ot,[et,n,s,N,St,a]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:At})}var __rest=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i};const defaultScale=1,Page=function t(e){const i=useDocumentContext();invariant(i,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const n=Object.assign(Object.assign({},i),e),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:p=!0,canvasBackground:$e,canvasRef:Tt,children:P,className:N,customRenderer:E,customTextRenderer:St,devicePixelRatio:wt,error:bt="Failed to load the page.",height:mt,inputRef:ft,loading:et="Loading page…",noData:dt="No page specified.",onGetAnnotationsError:At,onGetAnnotationsSuccess:Et,onGetStructTreeError:_t,onGetStructTreeSuccess:b,onGetTextError:pe,onGetTextSuccess:yt,onLoadError:d,onLoadSuccess:a,onRenderAnnotationLayerError:ot,onRenderAnnotationLayerSuccess:ze,onRenderError:Rt,onRenderSuccess:Ft,onRenderTextLayerError:vt,onRenderTextLayerSuccess:Nt,pageIndex:Ht,pageNumber:It,pdf:Mt,registerPage:jt,renderAnnotationLayer:ln=!0,renderForms:cn=!1,renderMode:tn="canvas",renderTextLayer:Pt=!0,rotate:l,scale:h=defaultScale,unregisterPage:c,width:Le}=n,Qe=__rest(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[gt,Ct]=useResolver(),{value:kt,error:Ut}=gt,Bt=reactExports.useRef(null);invariant(Mt,"Attempted to load a page, but no document was specified.");const Gt=isProvided(It)?It-1:Ht??null,Jt=It??(isProvided(Ht)?Ht+1:null),sn=l??(kt?kt.rotate:null),nn=reactExports.useMemo(()=>{if(!kt)return null;let Cn=1;const Ln=h??defaultScale;if(Le||mt){const Dn=kt.getViewport({scale:1,rotation:sn});Le?Cn=Le/Dn.width:mt&&(Cn=mt/Dn.height)}return Ln*Cn},[mt,kt,sn,h,Le]);function _n(){return()=>{isProvided(Gt)&&p&&c&&c(Gt)}}reactExports.useEffect(_n,[p,Mt,Gt,c]);function Sn(){if(a){if(!kt||!nn)return;a(makePageCallback(kt,nn))}if(p&&jt){if(!isProvided(Gt)||!Bt.current)return;jt(Gt,Bt.current)}}function dn(){Ut&&(Ut.toString(),d&&d(Ut))}function vn(){Ct({type:"RESET"})}reactExports.useEffect(vn,[Ct,Mt,Gt]);function an(){if(!Mt||!Jt)return;const Cn=makeCancellablePromise(Mt.getPage(Jt)),Ln=Cn;return Cn.promise.then(Dn=>{Ct({type:"RESOLVE",value:Dn})}).catch(Dn=>{Ct({type:"REJECT",error:Dn})}),()=>cancelRunningTask(Ln)}reactExports.useEffect(an,[Ct,Mt,Gt,Jt,jt]),reactExports.useEffect(()=>{if(kt!==void 0){if(kt===!1){dn();return}Sn()}},[kt,nn]);const Wt=reactExports.useMemo(()=>kt&&isProvided(Gt)&&Jt&&isProvided(sn)&&isProvided(nn)?{_className:s,canvasBackground:$e,customTextRenderer:St,devicePixelRatio:wt,onGetAnnotationsError:At,onGetAnnotationsSuccess:Et,onGetStructTreeError:_t,onGetStructTreeSuccess:b,onGetTextError:pe,onGetTextSuccess:yt,onRenderAnnotationLayerError:ot,onRenderAnnotationLayerSuccess:ze,onRenderError:Rt,onRenderSuccess:Ft,onRenderTextLayerError:vt,onRenderTextLayerSuccess:Nt,page:kt,pageIndex:Gt,pageNumber:Jt,renderForms:cn,renderTextLayer:Pt,rotate:sn,scale:nn}:null,[s,$e,St,wt,At,Et,_t,b,pe,yt,ot,ze,Rt,Ft,vt,Nt,kt,Gt,Jt,cn,Pt,sn,nn]),qt=reactExports.useMemo(()=>makeEventProps(Qe,()=>kt&&(nn?makePageCallback(kt,nn):void 0)),[Qe,kt,nn]),Qt=`${Gt}@${nn}/${sn}`,mn=`${Gt}/${sn}`;function gn(){switch(tn){case"custom":return invariant(E,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(E,{key:`${Qt}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${mn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${Qt}_canvas`,canvasRef:Tt})}}function kn(){return Pt?React.createElement(TextLayer,{key:`${Qt}_text`}):null}function Mn(){return ln?React.createElement(AnnotationLayer,{key:`${Qt}_annotations`}):null}function Fn(){return React.createElement(PageContext.Provider,{value:Wt},gn(),kn(),Mn(),P)}function In(){return Jt?Mt===null||kt===void 0||kt===null?React.createElement(Message,{type:"loading"},typeof et=="function"?et():et):Mt===!1||kt===!1?React.createElement(Message,{type:"error"},typeof bt=="function"?bt():bt):Fn():React.createElement(Message,{type:"no-data"},typeof dt=="function"?dt():dt)}return React.createElement("div",Object.assign({className:clsx(s,N),"data-page-number":Jt,ref:mergeRefs(ft,Bt),style:{"--scale-factor":`${nn}`,backgroundColor:$e||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},qt),In())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var SET_ZOOM_LEVEL="SET_ZOOM_LEVEL",setZoomLevel=function(t){return{type:SET_ZOOM_LEVEL,value:t}},SET_PDF_PAGINATED="SET_PDF_PAGINATED",setPDFPaginated=function(t){return{type:SET_PDF_PAGINATED,value:t}},SET_NUM_PAGES="SET_NUM_PAGES",setNumPages=function(t){return{type:SET_NUM_PAGES,value:t}},SET_CURRENT_PAGE="SET_CURRENT_PAGE",setCurrentPage=function(t){return{type:SET_CURRENT_PAGE,value:t}},__assign$6=function(){return __assign$6=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$6.apply(this,arguments)},initialPDFState={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},reducer=function(t,e){switch(t===void 0&&(t=initialPDFState),e.type){case SET_ZOOM_LEVEL:{var i=e.value;return __assign$6(__assign$6({},t),{zoomLevel:i})}case SET_PDF_PAGINATED:{var i=e.value;return __assign$6(__assign$6({},t),{paginated:i})}case SET_NUM_PAGES:{var i=e.value;return __assign$6(__assign$6({},t),{numPages:i})}case SET_CURRENT_PAGE:{var i=e.value;return __assign$6(__assign$6({},t),{currentPage:i})}default:return t}},__assign$5=function(){return __assign$5=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$5.apply(this,arguments)},PDFContext=reactExports.createContext({state:initialPDFState,dispatch:function(){return null}}),PDFProvider=function(t){var e,i,n,s,p,$e,Tt,P,N,E,St=t.children,wt=t.mainState,bt=reactExports.useReducer(reducer,__assign$5(__assign$5({},initialPDFState),{defaultZoomLevel:(n=(i=(e=wt.config)===null||e===void 0?void 0:e.pdfZoom)===null||i===void 0?void 0:i.defaultZoom)!==null&&n!==void 0?n:initialPDFState.defaultZoomLevel,zoomLevel:($e=(p=(s=wt.config)===null||s===void 0?void 0:s.pdfZoom)===null||p===void 0?void 0:p.defaultZoom)!==null&&$e!==void 0?$e:initialPDFState.zoomLevel,zoomJump:(N=(P=(Tt=wt.config)===null||Tt===void 0?void 0:Tt.pdfZoom)===null||P===void 0?void 0:P.zoomJump)!==null&&N!==void 0?N:initialPDFState.zoomJump,paginated:!((E=wt.config)===null||E===void 0)&&E.pdfVerticalScrollByDefault?!1:initialPDFState.paginated,mainState:wt})),mt=bt[0],ft=bt[1];return React.createElement(PDFContext.Provider,{value:{state:mt,dispatch:ft}},St)},__makeTemplateObject$a=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFSinglePage=function(t){var e=t.pageNum,i=reactExports.useContext(PDFContext).state,n=i.mainState,s=i.paginated,p=i.zoomLevel,$e=i.numPages,Tt=i.currentPage,P=useTranslation().t,N=(n==null?void 0:n.rendererRect)||null,E=e||Tt;return React.createElement(PageWrapper,{id:"pdf-page-wrapper",last:E>=$e},!s&&React.createElement(PageTag$1,{id:"pdf-page-info"},P("pdfPluginPageNumber",{currentPage:E,allPagesCount:$e})),React.createElement(Page$1,{pageNumber:E||Tt,scale:p,height:((N==null?void 0:N.height)||100)-100,width:((N==null?void 0:N.width)||100)-100,loading:P("pdfPluginLoading")}))},PageWrapper=ut.div(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  margin: 20px 0;
`],[`
  margin: 20px 0;
`]))),PageTag$1=ut.div(templateObject_2$4||(templateObject_2$4=__makeTemplateObject$a([`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(t){return t.theme.textTertiary}),templateObject_1$a,templateObject_2$4,PDFAllPages=function(){for(var t=reactExports.useContext(PDFContext).state.numPages,e=[],i=0;i<t;i++)e.push(React.createElement(PDFSinglePage,{key:i+1,pageNum:i+1}));return React.createElement(React.Fragment,null,e)},__makeTemplateObject$9=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFPages=function(){var t=reactExports.useContext(PDFContext),e=t.state,i=e.mainState,n=e.paginated,s=t.dispatch,p=useTranslation().t,$e=(i==null?void 0:i.currentDocument)||null;return reactExports.useEffect(function(){s(setNumPages(initialPDFState.numPages))},[$e]),!$e||$e.fileData===void 0?null:React.createElement(DocumentPDF,{file:$e.fileData,onLoadSuccess:function(Tt){var P=Tt.numPages;return s(setNumPages(P))},loading:React.createElement("span",null,p("pdfPluginLoading"))},n?React.createElement(PDFSinglePage,null):React.createElement(PDFAllPages,null))},DocumentPDF=ut(Document$1)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`],[`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`]))),templateObject_1$9,__assign$4=function(){return __assign$4=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$4.apply(this,arguments)},PrevPDFNavIcon=function(t){return React.createElement(PDFNavArrow,__assign$4({},t,{reverse:!0}))},NextPDFNavIcon=function(t){return React.createElement(PDFNavArrow,__assign$4({},t))},PDFNavArrow=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},viewBox:"0 0 12 12",version:"1.1"},React.createElement("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)"},React.createElement("g",{id:"AV",transform:"translate(100.000000, 852.000000)"},React.createElement("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)"},React.createElement("g",null,React.createElement("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),React.createElement("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:e||"#aaa"})))))))},DownloadPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},id:"Layer_1",viewBox:"0 0 24 24"},React.createElement("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:e||"#aaa"}),React.createElement("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:e||"#aaa"}))},ZoomInPDFIcon=function(t){return React.createElement(ZoomPDFIcon,__assign$4({},t))},ZoomOutPDFIcon=function(t){return React.createElement(ZoomPDFIcon,__assign$4({},t,{reverse:!0}))},ZoomPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",viewBox:"0 0 32 32",version:"1.1"},React.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"search-plus-icon",fill:e||"#aaa"},React.createElement("path",{id:"search-plus",d:n?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"}))))},ResetZoomPDFIcon=function(t){var e=t.color,i=t.size;return React.createElement("svg",{width:i||"100%",height:i||"100%",viewBox:"0 0 24 24"},React.createElement("path",{fill:e||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"}))},TogglePaginationPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(90deg)":"")},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve"},React.createElement("path",{fill:e||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`}))},__makeTemplateObject$8=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFPagination=function(){var t=reactExports.useContext(PDFContext),e=t.state,i=e.currentPage,n=e.numPages,s=t.dispatch,p=useTranslation().t;return React.createElement(Container$6,{id:"pdf-pagination"},React.createElement(PageNavButtonLeft,{id:"pdf-pagination-prev",onClick:function(){return s(setCurrentPage(i-1))},disabled:i===1},React.createElement(PrevPDFNavIcon,{color:"#000",size:"50%"})),React.createElement(PageTag,{id:"pdf-pagination-info"},p("pdfPluginPageNumber",{currentPage:i,allPagesCount:n})),React.createElement(PageNavButtonRight,{id:"pdf-pagination-next",onClick:function(){return s(setCurrentPage(i+1))},disabled:i>=n},React.createElement(NextPDFNavIcon,{color:"#000",size:"50%"})))},Container$6=ut.div(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([`
  display: flex;
  align-items: center;
`],[`
  display: flex;
  align-items: center;
`]))),PageNavButtonLeft=ut(Button)(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$8([`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),PageNavButtonRight=ut(PageNavButtonLeft)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$8([`
  margin: 0 20px 0 5px;
`],[`
  margin: 0 20px 0 5px;
`]))),PageTag=ut.div(templateObject_4||(templateObject_4=__makeTemplateObject$8([`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(t){return t.theme.textPrimary}),templateObject_1$8,templateObject_2$3,templateObject_3$1,templateObject_4,__makeTemplateObject$7=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFControls=function(){var t=useTranslation().t,e=reactExports.useContext(PDFContext),i=e.state,n=i.mainState,s=i.paginated,p=i.zoomLevel,$e=i.numPages,Tt=i.zoomJump,P=i.defaultZoomLevel,N=e.dispatch,E=(n==null?void 0:n.currentDocument)||null;return React.createElement(Container$5,{id:"pdf-controls"},s&&$e>1&&React.createElement(PDFPagination,null),(E==null?void 0:E.fileData)&&React.createElement(DownloadButton,{id:"pdf-download",href:E==null?void 0:E.fileData,download:(E==null?void 0:E.fileName)||(E==null?void 0:E.uri),title:t("downloadButtonLabel")},React.createElement(DownloadPDFIcon,{color:"#000",size:"75%"})),React.createElement(ControlButton,{id:"pdf-zoom-out",onMouseDown:function(){return N(setZoomLevel(p-Tt))}},React.createElement(ZoomOutPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-in",onMouseDown:function(){return N(setZoomLevel(p+Tt))}},React.createElement(ZoomInPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-reset",onMouseDown:function(){return N(setZoomLevel(P))},disabled:p===P},React.createElement(ResetZoomPDFIcon,{color:"#000",size:"70%"})),$e>1&&React.createElement(ControlButton,{id:"pdf-toggle-pagination",onMouseDown:function(){return N(setPDFPaginated(!s))}},React.createElement(TogglePaginationPDFIcon,{color:"#000",size:"70%",reverse:s})))},Container$5=ut.div(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`],[`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`])),function(t){return t.theme.tertiary}),ControlButton=ut(Button)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),DownloadButton=ut(LinkButton)(templateObject_3||(templateObject_3=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),templateObject_1$7,templateObject_2$2,templateObject_3,__makeTemplateObject$6=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};pdfjs.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(pdfjs.version,"/build/pdf.worker.min.js");var PDFRenderer=function(t){var e=t.mainState;return React.createElement(PDFProvider,{mainState:e},React.createElement(Container$4,{id:"pdf-renderer","data-testid":"pdf-renderer"},React.createElement(PDFControls,null),React.createElement(PDFPages,null)))};PDFRenderer.fileTypes=["pdf","application/pdf"];PDFRenderer.weight=0;var Container$4=ut.div(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`],[`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`])),function(t){return t.theme.disableThemeScrollbar?"":"width: 10px"},function(t){return t.theme.secondary},function(t){return t.theme.tertiary},function(t){return t.theme.primary}),templateObject_1$6,__makeTemplateObject$5=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$3=function(){return __assign$3=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$3.apply(this,arguments)},StyledImageRenderer=ut(ImageProxyRenderer)(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`]))),PNGRenderer=function(t){return React.createElement(StyledImageRenderer,__assign$3({},t))};PNGRenderer.fileTypes=["png","image/png"];PNGRenderer.weight=0;var templateObject_1$5,_this=void 0,tiffDataView=void 0,littleEndian=void 0,fileDirectories=[],isLittleEndian=function(){var t=getBytes(2,0);if(t===18761)littleEndian=!0;else if(t===19789)littleEndian=!1;else throw TypeError("Invalid byte order value.");return littleEndian},hasTowel=function(){if(getBytes(2,2)!==42)throw RangeError("You forgot your towel!");return!0},getFieldTagName=function(t){var e={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},i;return t in e?i=e[t]:i="Tag"+t,i},getFieldTypeName=function(t){var e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},i;return t in e&&(i=e[t]),i},getFieldTypeLength=function(t){var e;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(t)!==-1?e=1:["SHORT","SSHORT"].indexOf(t)!==-1?e=2:["LONG","SLONG","FLOAT"].indexOf(t)!==-1?e=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(t)!==-1&&(e=8),e},getBits=function(t,e,i){i=i||0;var n=Math.floor(i/8),s=e+n,p=i+t,$e=32-t;if(p<=0)throw RangeError("No bits requested");if(p<=8)var Tt=24+i,P=tiffDataView.getUint8(s,littleEndian);else if(p<=16)var Tt=16+i,P=tiffDataView.getUint16(s,littleEndian);else if(p<=32)var Tt=i,P=tiffDataView.getUint32(s,littleEndian);else throw RangeError("Too many bits requested");var N={bits:P<<Tt>>>$e,byteOffset:s+Math.floor(p/8),bitOffset:p%8};return N},getBytes=function(t,e){if(t<=0)throw RangeError("No bytes requested");if(t<=1)return tiffDataView.getUint8(e,littleEndian);if(t<=2)return tiffDataView.getUint16(e,littleEndian);if(t<=3)return tiffDataView.getUint32(e,littleEndian)>>>8;if(t<=4)return tiffDataView.getUint32(e,littleEndian);throw RangeError("Too many bytes requested")},getFieldValues=function(t,e,i,n){var s=[],p=getFieldTypeLength(e),$e=p*i;if($e<=4){if(littleEndian===!1)var Tt=n>>>(4-p)*8;else var Tt=n;s.push(Tt)}else for(var P=0;P<i;P++){var N=p*P;if(p>=8)if(["RATIONAL","SRATIONAL"].indexOf(e)!==-1)s.push(getBytes(4,n+N)),s.push(getBytes(4,n+N+4));else throw TypeError("Can't handle this field type or size");else s.push(getBytes(p,n+N))}return e==="ASCII"&&s.forEach(function(E,St,wt){wt[St]=String.fromCharCode(E)}),s},clampColorSample=function(t,e){var i=Math.pow(2,8-e);return Math.floor(t*i+(i-1))},makeRGBAFillValue=function(t,e,i,n){return typeof n>"u"&&(n=1),"rgba("+t+", "+e+", "+i+", "+n+")"},parseFileDirectory=function(t){for(var e=getBytes(2,t),i=[],n=t+2,s=0;s<e;n+=12,s++){var p=getBytes(2,n),$e=getBytes(2,n+2),Tt=getBytes(4,n+4),P=getBytes(4,n+8),N=getFieldTagName(p),E=getFieldTypeName($e),St=getFieldValues(N,E,Tt,P);i[N]={type:E,values:St}}fileDirectories.push(i);var wt=getBytes(4,n);return wt===0?fileDirectories:parseFileDirectory(wt)},parseTIFF=function(t,e){var i=e||document.createElement("canvas");if(t&&(tiffDataView=new DataView(t),littleEndian=isLittleEndian(),!!hasTowel())){var n=getBytes(4,4);fileDirectories=parseFileDirectory(n);var s=fileDirectories[0],p=s.ImageWidth.values[0],$e=s.ImageLength.values[0];i.width=p,i.height=$e;var Tt=[],P=s.Compression?s.Compression.values[0]:1,N=s.SamplesPerPixel.values[0],E=[],St=0,wt=!1;if(s.BitsPerSample.values.forEach(function(qt,Qt,mn){E[Qt]={bitsPerSample:qt,hasBytesPerSample:!1,bytesPerSample:void 0},qt%8===0&&(E[Qt].hasBytesPerSample=!0,E[Qt].bytesPerSample=qt/8),St+=qt},_this),St%8===0){wt=!0;var bt=St/8}var mt=s.StripOffsets.values,ft=mt.length;if(s.StripByteCounts)var et=s.StripByteCounts.values;else if(ft===1)var et=[Math.ceil(p*$e*St/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var dt=0;dt<ft;dt++){var At=mt[dt];Tt[dt]=[];for(var Et=et[dt],_t=0,b=0,pe=1,yt=!0,d=[],a=0,ot=0,ze=0;_t<Et;_t+=pe)switch(P){case 1:for(var Rt=0,d=[];Rt<N;Rt++)if(E[Rt].hasBytesPerSample){var Ft=E[Rt].bytesPerSample*Rt;d.push(getBytes(E[Rt].bytesPerSample,At+_t+Ft))}else{var vt=getBits(E[Rt].bitsPerSample,At+_t,b);throw d.push(vt.bits),_t=vt.byteOffset-At,b=vt.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(Tt[dt].push(d),wt)pe=bt;else throw pe=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(yt){yt=!1;var Nt=1,Ht=1,It=tiffDataView.getInt8(At+_t,littleEndian);It>=0&&It<=127?Nt=It+1:It>=-127&&It<=-1?Ht=-It+1:yt=!0}else{for(var Mt=getBytes(1,At+_t),Rt=0;Rt<Ht;Rt++){if(E[ot].hasBytesPerSample)ze=ze<<8*a|Mt,a++,a===E[ot].bytesPerSample&&(d.push(ze),ze=a=0,ot++);else throw RangeError("Cannot handle sub-byte bits per sample");ot===N&&(Tt[dt].push(d),d=[],ot=0)}Nt--,Nt===0&&(yt=!0)}pe=1;break}}if(i.getContext){var jt=i.getContext("2d");if(jt.fillStyle=makeRGBAFillValue(255,255,255,0),s.RowsPerStrip)var ln=s.RowsPerStrip.values[0];else var ln=$e;var cn=Tt.length,tn=$e%ln,Pt=tn===0?ln:tn,l=ln,h=0,c=s.PhotometricInterpretation.values[0],Le=[],Qe=0;if(s.ExtraSamples&&(Le=s.ExtraSamples.values,Qe=Le.length),s.ColorMap)var gt=s.ColorMap.values,Ct=Math.pow(2,E[0].bitsPerSample);for(var dt=0;dt<cn;dt++){dt+1===cn&&(l=Pt);for(var kt=Tt[dt].length,Ut=h*dt,Bt=0,Gt=0;Gt<kt;Bt++)for(var Jt=0;Jt<p;Jt++,Gt++){var sn=Tt[dt][Gt],nn=0,_n=0,Sn=0,dn=1;if(Qe>0){for(var vn=0;vn<Qe;vn++)if(Le[vn]===1||Le[vn]===2){dn=sn[3+vn]/256;break}}switch(c){case 0:if(E[0].hasBytesPerSample)var an=Math.pow(16,E[0].bytesPerSample*2);sn.forEach(function(Qt,mn,gn){gn[mn]=an-Qt});case 1:nn=_n=Sn=clampColorSample(sn[0],E[0].bitsPerSample);break;case 2:nn=clampColorSample(sn[0],E[0].bitsPerSample),_n=clampColorSample(sn[1],E[1].bitsPerSample),Sn=clampColorSample(sn[2],E[2].bitsPerSample);break;case 3:if(gt===void 0)throw Error("Palette image missing color map");var Wt=sn[0];nn=clampColorSample(gt[Wt],16),_n=clampColorSample(gt[Ct+Wt],16),Sn=clampColorSample(gt[2*Ct+Wt],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",c)}jt.fillStyle=makeRGBAFillValue(nn,_n,Sn,dn),jt.fillRect(Jt,Ut+Bt,1,1)}h=l}}return i}},__makeTemplateObject$4=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$2.apply(this,arguments)},TIFFRenderer=function(t){var e=t.mainState.currentDocument,i=useTranslation().t,n=reactExports.useState(!1),s=n[0],p=n[1],$e=reactExports.useState(!1),Tt=$e[0],P=$e[1];return reactExports.useEffect(function(){if(!(!e||s)){var N=document.getElementById("tiff-img");try{N&&parseTIFF(e.fileData,N),p(!0)}catch{P(!0)}}},[e,s]),Tt?React.createElement(ImageProxyRenderer,__assign$2({},t),React.createElement("div",null,i("brokenFile"))):React.createElement(ImageProxyRenderer,__assign$2({},t),React.createElement(Canvas,{id:"tiff-img"}))};TIFFRenderer.fileTypes=["tif","tiff","image/tif","image/tiff"];TIFFRenderer.weight=0;TIFFRenderer.fileLoader=arrayBufferFileLoader;var Canvas=ut.canvas(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$4,__makeTemplateObject$3=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},TXTRenderer=function(t){var e=t.mainState.currentDocument;return React.createElement(Container$3,{id:"txt-renderer"},e==null?void 0:e.fileData)};TXTRenderer.fileTypes=["txt","text/plain"];TXTRenderer.weight=0;TXTRenderer.fileLoader=textFileLoader;var Container$3=ut.div(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`]))),templateObject_1$3,papaparse_min={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,p=n.IS_PAPA_WORKER||!1,$e={},Tt=0,P={parse:function(d,a){var ot=(a=a||{}).dynamicTyping||!1;if(yt(ot)&&(a.dynamicTypingFunction=ot,ot={}),a.dynamicTyping=ot,a.transform=!!yt(a.transform)&&a.transform,a.worker&&P.WORKERS_SUPPORTED){var ze=function(){if(!P.WORKERS_SUPPORTED)return!1;var Ft=(Nt=n.URL||n.webkitURL||null,Ht=i.toString(),P.BLOB_URL||(P.BLOB_URL=Nt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ht,")();"],{type:"text/javascript"})))),vt=new n.Worker(Ft),Nt,Ht;return vt.onmessage=At,vt.id=Tt++,$e[vt.id]=vt}();return ze.userStep=a.step,ze.userChunk=a.chunk,ze.userComplete=a.complete,ze.userError=a.error,a.step=yt(a.step),a.chunk=yt(a.chunk),a.complete=yt(a.complete),a.error=yt(a.error),delete a.worker,void ze.postMessage({input:d,config:a,workerId:ze.id})}var Rt=null;return P.NODE_STREAM_INPUT,typeof d=="string"?(d=function(Ft){return Ft.charCodeAt(0)===65279?Ft.slice(1):Ft}(d),Rt=a.download?new St(a):new bt(a)):d.readable===!0&&yt(d.read)&&yt(d.on)?Rt=new mt(a):(n.File&&d instanceof File||d instanceof Object)&&(Rt=new wt(a)),Rt.stream(d)},unparse:function(d,a){var ot=!1,ze=!0,Rt=",",Ft=`\r
`,vt='"',Nt=vt+vt,Ht=!1,It=null,Mt=!1;(function(){if(typeof a=="object"){if(typeof a.delimiter!="string"||P.BAD_DELIMITERS.filter(function(tn){return a.delimiter.indexOf(tn)!==-1}).length||(Rt=a.delimiter),(typeof a.quotes=="boolean"||typeof a.quotes=="function"||Array.isArray(a.quotes))&&(ot=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(Ht=a.skipEmptyLines),typeof a.newline=="string"&&(Ft=a.newline),typeof a.quoteChar=="string"&&(vt=a.quoteChar),typeof a.header=="boolean"&&(ze=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");It=a.columns}a.escapeChar!==void 0&&(Nt=a.escapeChar+vt),(typeof a.escapeFormulae=="boolean"||a.escapeFormulae instanceof RegExp)&&(Mt=a.escapeFormulae instanceof RegExp?a.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var jt=new RegExp(et(vt),"g");if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return ln(null,d,Ht);if(typeof d[0]=="object")return ln(It||Object.keys(d[0]),d,Ht)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||It),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),ln(d.fields||[],d.data||[],Ht);throw new Error("Unable to serialize unrecognized input");function ln(tn,Pt,l){var h="";typeof tn=="string"&&(tn=JSON.parse(tn)),typeof Pt=="string"&&(Pt=JSON.parse(Pt));var c=Array.isArray(tn)&&0<tn.length,Le=!Array.isArray(Pt[0]);if(c&&ze){for(var Qe=0;Qe<tn.length;Qe++)0<Qe&&(h+=Rt),h+=cn(tn[Qe],Qe);0<Pt.length&&(h+=Ft)}for(var gt=0;gt<Pt.length;gt++){var Ct=c?tn.length:Pt[gt].length,kt=!1,Ut=c?Object.keys(Pt[gt]).length===0:Pt[gt].length===0;if(l&&!c&&(kt=l==="greedy"?Pt[gt].join("").trim()==="":Pt[gt].length===1&&Pt[gt][0].length===0),l==="greedy"&&c){for(var Bt=[],Gt=0;Gt<Ct;Gt++){var Jt=Le?tn[Gt]:Gt;Bt.push(Pt[gt][Jt])}kt=Bt.join("").trim()===""}if(!kt){for(var sn=0;sn<Ct;sn++){0<sn&&!Ut&&(h+=Rt);var nn=c&&Le?tn[sn]:sn;h+=cn(Pt[gt][nn],sn)}gt<Pt.length-1&&(!l||0<Ct&&!Ut)&&(h+=Ft)}}return h}function cn(tn,Pt){if(tn==null)return"";if(tn.constructor===Date)return JSON.stringify(tn).slice(1,25);var l=!1;Mt&&typeof tn=="string"&&Mt.test(tn)&&(tn="'"+tn,l=!0);var h=tn.toString().replace(jt,Nt);return(l=l||ot===!0||typeof ot=="function"&&ot(tn,Pt)||Array.isArray(ot)&&ot[Pt]||function(c,Le){for(var Qe=0;Qe<Le.length;Qe++)if(-1<c.indexOf(Le[Qe]))return!0;return!1}(h,P.BAD_DELIMITERS)||-1<h.indexOf(Rt)||h.charAt(0)===" "||h.charAt(h.length-1)===" ")?vt+h+vt:h}}};if(P.RECORD_SEP="",P.UNIT_SEP="",P.BYTE_ORDER_MARK="\uFEFF",P.BAD_DELIMITERS=["\r",`
`,'"',P.BYTE_ORDER_MARK],P.WORKERS_SUPPORTED=!s&&!!n.Worker,P.NODE_STREAM_INPUT=1,P.LocalChunkSize=10485760,P.RemoteChunkSize=5242880,P.DefaultDelimiter=",",P.Parser=dt,P.ParserHandle=ft,P.NetworkStreamer=St,P.FileStreamer=wt,P.StringStreamer=bt,P.ReadableStreamStreamer=mt,n.jQuery){var N=n.jQuery;N.fn.parse=function(d){var a=d.config||{},ot=[];return this.each(function(Ft){if(!(N(this).prop("tagName").toUpperCase()==="INPUT"&&N(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var vt=0;vt<this.files.length;vt++)ot.push({file:this.files[vt],inputElem:this,instanceConfig:N.extend({},a)})}),ze(),this;function ze(){if(ot.length!==0){var Ft,vt,Nt,Ht,It=ot[0];if(yt(d.before)){var Mt=d.before(It.file,It.inputElem);if(typeof Mt=="object"){if(Mt.action==="abort")return Ft="AbortError",vt=It.file,Nt=It.inputElem,Ht=Mt.reason,void(yt(d.error)&&d.error({name:Ft},vt,Nt,Ht));if(Mt.action==="skip")return void Rt();typeof Mt.config=="object"&&(It.instanceConfig=N.extend(It.instanceConfig,Mt.config))}else if(Mt==="skip")return void Rt()}var jt=It.instanceConfig.complete;It.instanceConfig.complete=function(ln){yt(jt)&&jt(ln,It.file,It.inputElem),Rt()},P.parse(It.file,It.instanceConfig)}else yt(d.complete)&&d.complete()}function Rt(){ot.splice(0,1),ze()}}}function E(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(a){var ot=b(a);ot.chunkSize=parseInt(ot.chunkSize),a.step||a.chunk||(ot.chunkSize=null),this._handle=new ft(ot),(this._handle.streamer=this)._config=ot}).call(this,d),this.parseChunk=function(a,ot){if(this.isFirstChunk&&yt(this._config.beforeFirstChunk)){var ze=this._config.beforeFirstChunk(a);ze!==void 0&&(a=ze)}this.isFirstChunk=!1,this._halted=!1;var Rt=this._partialLine+a;this._partialLine="";var Ft=this._handle.parse(Rt,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var vt=Ft.meta.cursor;this._finished||(this._partialLine=Rt.substring(vt-this._baseIndex),this._baseIndex=vt),Ft&&Ft.data&&(this._rowCount+=Ft.data.length);var Nt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(p)n.postMessage({results:Ft,workerId:P.WORKER_ID,finished:Nt});else if(yt(this._config.chunk)&&!ot){if(this._config.chunk(Ft,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ft=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ft.data),this._completeResults.errors=this._completeResults.errors.concat(Ft.errors),this._completeResults.meta=Ft.meta),this._completed||!Nt||!yt(this._config.complete)||Ft&&Ft.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Nt||Ft&&Ft.meta.paused||this._nextChunk(),Ft}this._halted=!0},this._sendError=function(a){yt(this._config.error)?this._config.error(a):p&&this._config.error&&n.postMessage({workerId:P.WORKER_ID,error:a,finished:!1})}}function St(d){var a;(d=d||{}).chunkSize||(d.chunkSize=P.RemoteChunkSize),E.call(this,d),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ot){this._input=ot,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=pe(this._chunkLoaded,this),a.onerror=pe(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var ot=this._config.downloadRequestHeaders;for(var ze in ot)a.setRequestHeader(ze,ot[ze])}if(this._config.chunkSize){var Rt=this._start+this._config.chunkSize-1;a.setRequestHeader("Range","bytes="+this._start+"-"+Rt)}try{a.send(this._config.downloadRequestBody)}catch(Ft){this._chunkError(Ft.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:a.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(ot){var ze=ot.getResponseHeader("Content-Range");return ze===null?-1:parseInt(ze.substring(ze.lastIndexOf("/")+1))}(a),this.parseChunk(a.responseText)))},this._chunkError=function(ot){var ze=a.statusText||ot;this._sendError(new Error(ze))}}function wt(d){var a,ot;(d=d||{}).chunkSize||(d.chunkSize=P.LocalChunkSize),E.call(this,d);var ze=typeof FileReader<"u";this.stream=function(Rt){this._input=Rt,ot=Rt.slice||Rt.webkitSlice||Rt.mozSlice,ze?((a=new FileReader).onload=pe(this._chunkLoaded,this),a.onerror=pe(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Rt=this._input;if(this._config.chunkSize){var Ft=Math.min(this._start+this._config.chunkSize,this._input.size);Rt=ot.call(Rt,this._start,Ft)}var vt=a.readAsText(Rt,this._config.encoding);ze||this._chunkLoaded({target:{result:vt}})},this._chunkLoaded=function(Rt){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Rt.target.result)},this._chunkError=function(){this._sendError(a.error)}}function bt(d){var a;E.call(this,d=d||{}),this.stream=function(ot){return a=ot,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var ot,ze=this._config.chunkSize;return ze?(ot=a.substring(0,ze),a=a.substring(ze)):(ot=a,a=""),this._finished=!a,this.parseChunk(ot)}}}function mt(d){E.call(this,d=d||{});var a=[],ot=!0,ze=!1;this.pause=function(){E.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){E.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Rt){this._input=Rt,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ze&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):ot=!0},this._streamData=pe(function(Rt){try{a.push(typeof Rt=="string"?Rt:Rt.toString(this._config.encoding)),ot&&(ot=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(Ft){this._streamError(Ft)}},this),this._streamError=pe(function(Rt){this._streamCleanUp(),this._sendError(Rt)},this),this._streamEnd=pe(function(){this._streamCleanUp(),ze=!0,this._streamData("")},this),this._streamCleanUp=pe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ft(d){var a,ot,ze,Rt=Math.pow(2,53),Ft=-Rt,vt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Nt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ht=this,It=0,Mt=0,jt=!1,ln=!1,cn=[],tn={data:[],errors:[],meta:{}};if(yt(d.step)){var Pt=d.step;d.step=function(gt){if(tn=gt,c())h();else{if(h(),tn.data.length===0)return;It+=gt.data.length,d.preview&&It>d.preview?ot.abort():(tn.data=tn.data[0],Pt(tn,Ht))}}}function l(gt){return d.skipEmptyLines==="greedy"?gt.join("").trim()==="":gt.length===1&&gt[0].length===0}function h(){return tn&&ze&&(Qe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+P.DefaultDelimiter+"'"),ze=!1),d.skipEmptyLines&&(tn.data=tn.data.filter(function(gt){return!l(gt)})),c()&&function(){if(!tn)return;function gt(kt,Ut){yt(d.transformHeader)&&(kt=d.transformHeader(kt,Ut)),cn.push(kt)}if(Array.isArray(tn.data[0])){for(var Ct=0;c()&&Ct<tn.data.length;Ct++)tn.data[Ct].forEach(gt);tn.data.splice(0,1)}else tn.data.forEach(gt)}(),function(){if(!tn||!d.header&&!d.dynamicTyping&&!d.transform)return tn;function gt(kt,Ut){var Bt,Gt=d.header?{}:[];for(Bt=0;Bt<kt.length;Bt++){var Jt=Bt,sn=kt[Bt];d.header&&(Jt=Bt>=cn.length?"__parsed_extra":cn[Bt]),d.transform&&(sn=d.transform(sn,Jt)),sn=Le(Jt,sn),Jt==="__parsed_extra"?(Gt[Jt]=Gt[Jt]||[],Gt[Jt].push(sn)):Gt[Jt]=sn}return d.header&&(Bt>cn.length?Qe("FieldMismatch","TooManyFields","Too many fields: expected "+cn.length+" fields but parsed "+Bt,Mt+Ut):Bt<cn.length&&Qe("FieldMismatch","TooFewFields","Too few fields: expected "+cn.length+" fields but parsed "+Bt,Mt+Ut)),Gt}var Ct=1;return!tn.data.length||Array.isArray(tn.data[0])?(tn.data=tn.data.map(gt),Ct=tn.data.length):tn.data=gt(tn.data,0),d.header&&tn.meta&&(tn.meta.fields=cn),Mt+=Ct,tn}()}function c(){return d.header&&cn.length===0}function Le(gt,Ct){return kt=gt,d.dynamicTypingFunction&&d.dynamicTyping[kt]===void 0&&(d.dynamicTyping[kt]=d.dynamicTypingFunction(kt)),(d.dynamicTyping[kt]||d.dynamicTyping)===!0?Ct==="true"||Ct==="TRUE"||Ct!=="false"&&Ct!=="FALSE"&&(function(Ut){if(vt.test(Ut)){var Bt=parseFloat(Ut);if(Ft<Bt&&Bt<Rt)return!0}return!1}(Ct)?parseFloat(Ct):Nt.test(Ct)?new Date(Ct):Ct===""?null:Ct):Ct;var kt}function Qe(gt,Ct,kt,Ut){var Bt={type:gt,code:Ct,message:kt};Ut!==void 0&&(Bt.row=Ut),tn.errors.push(Bt)}this.parse=function(gt,Ct,kt){var Ut=d.quoteChar||'"';if(d.newline||(d.newline=function(Jt,sn){Jt=Jt.substring(0,1048576);var nn=new RegExp(et(sn)+"([^]*?)"+et(sn),"gm"),_n=(Jt=Jt.replace(nn,"")).split("\r"),Sn=Jt.split(`
`),dn=1<Sn.length&&Sn[0].length<_n[0].length;if(_n.length===1||dn)return`
`;for(var vn=0,an=0;an<_n.length;an++)_n[an][0]===`
`&&vn++;return vn>=_n.length/2?`\r
`:"\r"}(gt,Ut)),ze=!1,d.delimiter)yt(d.delimiter)&&(d.delimiter=d.delimiter(gt),tn.meta.delimiter=d.delimiter);else{var Bt=function(Jt,sn,nn,_n,Sn){var dn,vn,an,Wt;Sn=Sn||[",","	","|",";",P.RECORD_SEP,P.UNIT_SEP];for(var qt=0;qt<Sn.length;qt++){var Qt=Sn[qt],mn=0,gn=0,kn=0;an=void 0;for(var Mn=new dt({comments:_n,delimiter:Qt,newline:sn,preview:10}).parse(Jt),Fn=0;Fn<Mn.data.length;Fn++)if(nn&&l(Mn.data[Fn]))kn++;else{var In=Mn.data[Fn].length;gn+=In,an!==void 0?0<In&&(mn+=Math.abs(In-an),an=In):an=In}0<Mn.data.length&&(gn/=Mn.data.length-kn),(vn===void 0||mn<=vn)&&(Wt===void 0||Wt<gn)&&1.99<gn&&(vn=mn,dn=Qt,Wt=gn)}return{successful:!!(d.delimiter=dn),bestDelimiter:dn}}(gt,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess);Bt.successful?d.delimiter=Bt.bestDelimiter:(ze=!0,d.delimiter=P.DefaultDelimiter),tn.meta.delimiter=d.delimiter}var Gt=b(d);return d.preview&&d.header&&Gt.preview++,a=gt,ot=new dt(Gt),tn=ot.parse(a,Ct,kt),h(),jt?{meta:{paused:!0}}:tn||{meta:{paused:!1}}},this.paused=function(){return jt},this.pause=function(){jt=!0,ot.abort(),a=yt(d.chunk)?"":a.substring(ot.getCharIndex())},this.resume=function(){Ht.streamer._halted?(jt=!1,Ht.streamer.parseChunk(a,!0)):setTimeout(Ht.resume,3)},this.aborted=function(){return ln},this.abort=function(){ln=!0,ot.abort(),tn.meta.aborted=!0,yt(d.complete)&&d.complete(tn),a=""}}function et(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dt(d){var a,ot=(d=d||{}).delimiter,ze=d.newline,Rt=d.comments,Ft=d.step,vt=d.preview,Nt=d.fastMode,Ht=a=d.quoteChar===void 0||d.quoteChar===null?'"':d.quoteChar;if(d.escapeChar!==void 0&&(Ht=d.escapeChar),(typeof ot!="string"||-1<P.BAD_DELIMITERS.indexOf(ot))&&(ot=","),Rt===ot)throw new Error("Comment character same as delimiter");Rt===!0?Rt="#":(typeof Rt!="string"||-1<P.BAD_DELIMITERS.indexOf(Rt))&&(Rt=!1),ze!==`
`&&ze!=="\r"&&ze!==`\r
`&&(ze=`
`);var It=0,Mt=!1;this.parse=function(jt,ln,cn){if(typeof jt!="string")throw new Error("Input must be a string");var tn=jt.length,Pt=ot.length,l=ze.length,h=Rt.length,c=yt(Ft),Le=[],Qe=[],gt=[],Ct=It=0;if(!jt)return Cn();if(d.header&&!ln){var kt=jt.split(ze)[0].split(ot),Ut=[],Bt={},Gt=!1;for(var Jt in kt){var sn=kt[Jt];yt(d.transformHeader)&&(sn=d.transformHeader(sn,Jt));var nn=sn,_n=Bt[sn]||0;for(0<_n&&(Gt=!0,nn=sn+"_"+_n),Bt[sn]=_n+1;Ut.includes(nn);)nn=nn+"_"+_n;Ut.push(nn)}if(Gt){var Sn=jt.split(ze);Sn[0]=Ut.join(ot),jt=Sn.join(ze)}}if(Nt||Nt!==!1&&jt.indexOf(a)===-1){for(var dn=jt.split(ze),vn=0;vn<dn.length;vn++){if(gt=dn[vn],It+=gt.length,vn!==dn.length-1)It+=ze.length;else if(cn)return Cn();if(!Rt||gt.substring(0,h)!==Rt){if(c){if(Le=[],kn(gt.split(ot)),Ln(),Mt)return Cn()}else kn(gt.split(ot));if(vt&&vt<=vn)return Le=Le.slice(0,vt),Cn(!0)}}return Cn()}for(var an=jt.indexOf(ot,It),Wt=jt.indexOf(ze,It),qt=new RegExp(et(Ht)+et(a),"g"),Qt=jt.indexOf(a,It);;)if(jt[It]!==a)if(Rt&&gt.length===0&&jt.substring(It,It+h)===Rt){if(Wt===-1)return Cn();It=Wt+l,Wt=jt.indexOf(ze,It),an=jt.indexOf(ot,It)}else if(an!==-1&&(an<Wt||Wt===-1))gt.push(jt.substring(It,an)),It=an+Pt,an=jt.indexOf(ot,It);else{if(Wt===-1)break;if(gt.push(jt.substring(It,Wt)),In(Wt+l),c&&(Ln(),Mt))return Cn();if(vt&&Le.length>=vt)return Cn(!0)}else for(Qt=It,It++;;){if((Qt=jt.indexOf(a,Qt+1))===-1)return cn||Qe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Le.length,index:It}),Fn();if(Qt===tn-1)return Fn(jt.substring(It,Qt).replace(qt,a));if(a!==Ht||jt[Qt+1]!==Ht){if(a===Ht||Qt===0||jt[Qt-1]!==Ht){an!==-1&&an<Qt+1&&(an=jt.indexOf(ot,Qt+1)),Wt!==-1&&Wt<Qt+1&&(Wt=jt.indexOf(ze,Qt+1));var mn=Mn(Wt===-1?an:Math.min(an,Wt));if(jt.substr(Qt+1+mn,Pt)===ot){gt.push(jt.substring(It,Qt).replace(qt,a)),jt[It=Qt+1+mn+Pt]!==a&&(Qt=jt.indexOf(a,It)),an=jt.indexOf(ot,It),Wt=jt.indexOf(ze,It);break}var gn=Mn(Wt);if(jt.substring(Qt+1+gn,Qt+1+gn+l)===ze){if(gt.push(jt.substring(It,Qt).replace(qt,a)),In(Qt+1+gn+l),an=jt.indexOf(ot,It),Qt=jt.indexOf(a,It),c&&(Ln(),Mt))return Cn();if(vt&&Le.length>=vt)return Cn(!0);break}Qe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Le.length,index:It}),Qt++}}else Qt++}return Fn();function kn(Dn){Le.push(Dn),Ct=It}function Mn(Dn){var on=0;if(Dn!==-1){var Yt=jt.substring(Qt+1,Dn);Yt&&Yt.trim()===""&&(on=Yt.length)}return on}function Fn(Dn){return cn||(Dn===void 0&&(Dn=jt.substring(It)),gt.push(Dn),It=tn,kn(gt),c&&Ln()),Cn()}function In(Dn){It=Dn,kn(gt),gt=[],Wt=jt.indexOf(ze,It)}function Cn(Dn){return{data:Le,errors:Qe,meta:{delimiter:ot,linebreak:ze,aborted:Mt,truncated:!!Dn,cursor:Ct+(ln||0)}}}function Ln(){Ft(Cn()),Le=[],Qe=[]}},this.abort=function(){Mt=!0},this.getCharIndex=function(){return It}}function At(d){var a=d.data,ot=$e[a.workerId],ze=!1;if(a.error)ot.userError(a.error,a.file);else if(a.results&&a.results.data){var Rt={abort:function(){ze=!0,Et(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_t,resume:_t};if(yt(ot.userStep)){for(var Ft=0;Ft<a.results.data.length&&(ot.userStep({data:a.results.data[Ft],errors:a.results.errors,meta:a.results.meta},Rt),!ze);Ft++);delete a.results}else yt(ot.userChunk)&&(ot.userChunk(a.results,Rt,a.file),delete a.results)}a.finished&&!ze&&Et(a.workerId,a.results)}function Et(d,a){var ot=$e[d];yt(ot.userComplete)&&ot.userComplete(a),ot.terminate(),delete $e[d]}function _t(){throw new Error("Not implemented.")}function b(d){if(typeof d!="object"||d===null)return d;var a=Array.isArray(d)?[]:{};for(var ot in d)a[ot]=b(d[ot]);return a}function pe(d,a){return function(){d.apply(a,arguments)}}function yt(d){return typeof d=="function"}return p&&(n.onmessage=function(d){var a=d.data;if(P.WORKER_ID===void 0&&a&&(P.WORKER_ID=a.workerId),typeof a.input=="string")n.postMessage({workerId:P.WORKER_ID,results:P.parse(a.input,a.config),finished:!0});else if(n.File&&a.input instanceof File||a.input instanceof Object){var ot=P.parse(a.input,a.config);ot&&n.postMessage({workerId:P.WORKER_ID,results:ot,finished:!0})}}),(St.prototype=Object.create(E.prototype)).constructor=St,(wt.prototype=Object.create(E.prototype)).constructor=wt,(bt.prototype=Object.create(bt.prototype)).constructor=bt,(mt.prototype=Object.create(E.prototype)).constructor=mt,P})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const papaparse=getDefaultExportFromCjs(papaparse_minExports);var __makeTemplateObject$2=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},CSVRenderer=function(t){var e=t.mainState,i=e.currentDocument,n=e.config,s=reactExports.useState([]),p=s[0],$e=s[1];return reactExports.useEffect(function(){var Tt,P;if(i!=null&&i.fileData){var N=papaparse.parse(i.fileData,{delimiter:(Tt=n==null?void 0:n.csvDelimiter)!==null&&Tt!==void 0?Tt:","});!(!((P=N.errors)===null||P===void 0)&&P.length)&&N.data&&$e(N.data)}},[i,n==null?void 0:n.csvDelimiter]),p.length?React.createElement(Container$2,null,React.createElement(Table,null,React.createElement("thead",null,React.createElement("tr",null,p[0].map(function(Tt){return React.createElement("th",{key:Tt},Tt)}))),React.createElement("tbody",null,p.slice(1,p.length).map(function(Tt){return React.createElement("tr",{key:Tt.join("")},Tt.map(function(P){return React.createElement("td",{key:P},P)}))})))):null};CSVRenderer.fileTypes=["csv","text/csv"];CSVRenderer.weight=0;CSVRenderer.fileLoader=textFileLoader;var Container$2=ut.div(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([`
  width: 100%;
`],[`
  width: 100%;
`]))),Table=ut.table(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$2([`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`],[`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`]))),templateObject_1$2,templateObject_2$1,__assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$1.apply(this,arguments)},JPGRenderer=function(t){return React.createElement(ImageProxyRenderer,__assign$1({},t))};JPGRenderer.fileTypes=["gif","image/gif"];JPGRenderer.weight=0;var __makeTemplateObject$1=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},VideoRenderer=function(t){var e=t.mainState.currentDocument;return e?React.createElement(Container$1,{id:"video-renderer"},React.createElement(Video,{controls:!0,src:e.uri})):null};VideoRenderer.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];VideoRenderer.weight=0;var Container$1=ut.div(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  width: 100%;
`],[`
  width: 100%;
`]))),Video=ut.video(templateObject_2||(templateObject_2=__makeTemplateObject$1([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$1,templateObject_2,DocViewerRenderers=[BMPRenderer,HTMLRenderer,JPGRenderer$1,MSDocRenderer,PDFRenderer,PNGRenderer,TIFFRenderer,TXTRenderer,CSVRenderer,JPGRenderer,VideoRenderer],__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign=function(){return __assign=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign.apply(this,arguments)},DocViewer=reactExports.forwardRef(function(t,e){var i=t.documents,n=t.theme;if(!i)throw new Error("Please provide an array of documents to DocViewer!");return React.createElement(DocViewerProvider,__assign({ref:e,pluginRenderers:DocViewerRenderers},t),React.createElement(tt,{theme:n?__assign(__assign({},defaultTheme),n):defaultTheme},React.createElement(Container,{id:"react-doc-viewer","data-testid":"react-doc-viewer",className:t.className,style:t.style},React.createElement(HeaderBar,null),React.createElement(ProxyRenderer,null))))});const DocViewer$1=reactExports.memo(DocViewer);var Container=ut.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`],[`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`]))),templateObject_1;const Show=({auth:t,archive:e})=>{reactExports.useEffect(()=>{console.log(e)},[]);const i=[{uri:e.path,fileType:e.type,fileName:e.name}];return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Authenticated,{user:t.user,header:jsxRuntimeExports.jsx("h2",{className:"font-semibold text-xl text-center text-gray-800 leading-tight",children:"Consulter Votre Archive"}),children:[jsxRuntimeExports.jsx(ae$1,{title:"Consulter Archive"}),jsxRuntimeExports.jsx("div",{className:"py-12 px-2",children:jsxRuntimeExports.jsx(DocViewer$1,{documents:i,pluginRenderers:DocViewerRenderers})})]})})};export{Show as default};
